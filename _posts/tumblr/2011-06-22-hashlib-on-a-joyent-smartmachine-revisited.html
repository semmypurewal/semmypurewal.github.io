---
layout: post
title: hashlib on a Joyent SmartMachine revisited
date: '2011-06-22T13:32:00-07:00'
tags:
- hashlib
- joyent
- nodejs
- smartmachine
- paas
tumblr_url: http://blog.semmy.me/post/6795245062/hashlib-on-a-joyent-smartmachine-revisited
---
<p>It turns out my original solution did not work &#8212; since it couldn&#8217;t find hashlib after the push it reverted to the last working version that did not include hashlib.</p>

<p>Today I managed to get it working by manually copying hashlib to the ~/.node_libraries directory.  That doesn&#8217;t seem like a good solution since I think npm is using that as an installation location.</p>

<p>After reading <a href="http://www.bennadel.com/blog/2169-Where-Does-Node-js-And-Require-Look-For-Modules-.htm">this excellent blog post</a> on node module name resolution, I tried the following:</p>

<div class="code">[node@host ~]$ echo $NODE_PATH
/home/node/.node_libraries:/opt/nodejs/node_modules:/home/node/local/lib/node
</div>

Based on this, it seems like placing the module in /home/node/local/lib/node should work.  Unfortunately it doesn&#8217;t.  I posted a question on Joyent&#8217;s discussion board, so we&#8217;ll see if anyone responds.
