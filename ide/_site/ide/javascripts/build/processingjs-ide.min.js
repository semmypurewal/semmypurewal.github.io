(function(){function e(e){var t=function(e,t){return s("",e,t)},i=n;e&&(n[e]||(n[e]={}),i=n[e]),i.define&&i.define.packaged||(r.original=i.define,i.define=r,i.define.packaged=!0),i.require&&i.require.packaged||(s.original=i.require,i.require=t,i.require.packaged=!0)}var t="",n=function(){return this}();if(!t&&"undefined"!=typeof requirejs){var i=n.define;return n.define=function(e,t,n){return"function"!=typeof n?i.apply(this,arguments):i(e,t,function(e,i,r){return"module"==t[2]&&(r.packaged=!0),n.apply(this,arguments)})},n.define.packaged=!0,void 0}var r=function(e,t,n){return"string"!=typeof e?(r.original?r.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace()),void 0):(2==arguments.length&&(n=t),r.modules||(r.modules={}),r.modules[e]=n,void 0)},s=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],r=0,o=t.length;o>r;++r){var l=a(e,t[r]);if(!l&&s.original)return s.original.apply(window,arguments);i.push(l)}n&&n.apply(null,i)}else{if("string"==typeof t){var h=a(e,t);return!h&&s.original?s.original.apply(window,arguments):(n&&n(),h)}if(s.original)return s.original.apply(window,arguments)}},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0)){var i=e.split("/").slice(0,-1).join("/");for(t=i+"/"+t;-1!==t.indexOf(".")&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=o(e,t);var n=r.modules[t];if(!n)return null;if("function"==typeof n){var i={},a={id:t,uri:"",exports:i,packaged:!0},l=function(e,n){return s(t,e,n)},h=n(l,i,a);return i=h||a.exports,r.modules[t]=i,i}return n};e(t)})(),define("ace/requirejs/text",["require","exports","module"],function(e,t){t.load=function(t,n,i){e("ace/lib/net").get(n.toUrl(t),i)}}),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/multi_select","ace/worker/worker_client","ace/keyboard/hash_handler","ace/keyboard/state_handler","ace/placeholder","ace/config","ace/theme/textmate"],function(e,t){e("./lib/fixoldbrowsers");var n=e("./lib/dom"),i=e("./lib/event"),r=e("./editor").Editor,s=e("./edit_session").EditSession,o=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer,l=e("./multi_select").MultiSelect;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./keyboard/state_handler"),e("./placeholder"),t.config=e("./config"),t.edit=function(t){if("string"==typeof t&&(t=document.getElementById(t)),t.env&&t.env.editor instanceof r)return t.env.editor;var h=new s(n.getInnerText(t));h.setUndoManager(new o),t.innerHTML="";var c=new r(new a(t,e("./theme/textmate")));new l(c),c.setSession(h);var u={};return u.document=h,u.editor=c,c.resize(),i.addListener(window,"resize",function(){c.resize()}),t.env=u,c.env=u,c}}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e){e("./regexp"),e("./es5-shim")}),define("ace/lib/regexp",["require","exports","module"],function(){function e(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function t(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;e.length>i;i++)if(e[i]===t)return i;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=void 0===n.exec.call(/()??/,"")[1],r=function(){var e=/^/g;return n.test.call(e,""),!e.lastIndex}();r&&i||(RegExp.prototype.exec=function(s){var o,a,l=n.exec.apply(this,arguments);if("string"==typeof s&&l){if(!i&&l.length>1&&t(l,"")>-1&&(a=RegExp(this.source,n.replace.call(e(this),"g","")),n.replace.call(s.slice(l.index),a,function(){for(var e=1;arguments.length-2>e;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var h=1;l.length>h;h++)o=this._xregexp.captureNames[h-1],o&&(l[o]=l[h]);!r&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},r||(RegExp.prototype.test=function(e){var t=n.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),define("ace/lib/es5-shim",["require","exports","module"],function(){function e(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=h.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var s=new r,o=t.apply(s,n.concat(h.call(arguments)));return null!==o&&Object(o)===o?o:s}return t.apply(e,n.concat(h.call(arguments)))};return i});var t,n,i,r,s,o=Function.prototype.call,a=Array.prototype,l=Object.prototype,h=a.slice,c=o.bind(l.toString),u=o.bind(l.hasOwnProperty);if((s=u(l,"__defineGetter__"))&&(t=o.bind(l.__defineGetter__),n=o.bind(l.__defineSetter__),i=o.bind(l.__lookupGetter__),r=o.bind(l.__lookupSetter__)),Array.isArray||(Array.isArray=function(e){return"[object Array]"==c(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=k(this),n=arguments[1],i=0,r=t.length>>>0;if("[object Function]"!=c(e))throw new TypeError;for(;r>i;)i in t&&e.call(n,t[i],i,t),i++}),Array.prototype.map||(Array.prototype.map=function(e){var t=k(this),n=t.length>>>0,i=Array(n),r=arguments[1];if("[object Function]"!=c(e))throw new TypeError;for(var s=0;n>s;s++)s in t&&(i[s]=e.call(r,t[s],s,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=k(this),n=t.length>>>0,i=[],r=arguments[1];if("[object Function]"!=c(e))throw new TypeError;for(var s=0;n>s;s++)s in t&&e.call(r,t[s],s,t)&&i.push(t[s]);return i}),Array.prototype.every||(Array.prototype.every=function(e){var t=k(this),n=t.length>>>0,i=arguments[1];if("[object Function]"!=c(e))throw new TypeError;for(var r=0;n>r;r++)if(r in t&&!e.call(i,t[r],r,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=k(this),n=t.length>>>0,i=arguments[1];if("[object Function]"!=c(e))throw new TypeError;for(var r=0;n>r;r++)if(r in t&&e.call(i,t[r],r,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=k(this),n=t.length>>>0;if("[object Function]"!=c(e))throw new TypeError;if(!n&&1==arguments.length)throw new TypeError;var i,r=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(r in t){i=t[r++];break}if(++r>=n)throw new TypeError}for(;n>r;r++)r in t&&(i=e.call(void 0,i,t[r],r,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=k(this),n=t.length>>>0;if("[object Function]"!=c(e))throw new TypeError;if(!n&&1==arguments.length)throw new TypeError;var i,r=n-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(r in t){i=t[r--];break}if(0>--r)throw new TypeError}do r in this&&(i=e.call(void 0,i,t[r],r,t));while(r--);return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=k(this),n=t.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=B(arguments[1])),i=i>=0?i:Math.max(0,n+i);n>i;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){var t=k(this),n=t.length>>>0;if(!n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,B(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:l)}),!Object.getOwnPropertyDescriptor){var d="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(d+e);if(u(e,t)){var n,o,a;if(n={enumerable:!0,configurable:!0},s){var h=e.__proto__;e.__proto__=l;var o=i(e,t),a=r(e,t);if(e.__proto__=h,o||a)return o&&(n.get=o),a&&(n.set=a),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create||(Object.create=function(e,t){var n;if(null===e)n={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var i=function(){};i.prototype=e,n=new i,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}),Object.defineProperty){var f=e({}),g="undefined"==typeof document||e(document.createElement("div"));if(!f||!g)var p=Object.defineProperty}if(!Object.defineProperty||p){var m="Property description must be an object: ",v="Object.defineProperty called on non-object: ",A="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,o,a){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(v+e);if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(m+a);if(p)try{return p.call(Object,e,o,a)}catch(h){}if(u(a,"value"))if(s&&(i(e,o)||r(e,o))){var c=e.__proto__;e.__proto__=l,delete e[o],e[o]=a.value,e.__proto__=c}else e[o]=a.value;else{if(!s)throw new TypeError(A);u(a,"get")&&t(e,o,a.get),u(a,"set")&&n(e,o,a.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)u(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(C){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";u(e,t);)t+="?";e[t]=!0;var n=u(e,t);return delete e[t],n}),!Object.keys){var E=!0,F=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=F.length;for(var y in{toString:null})E=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)u(e,n)&&t.push(n);if(E)for(var i=0,r=w;r>i;i++){var s=F[i];u(e,s)&&t.push(s)}return t}}Date.prototype.toISOString&&-1!==new Date(-621987552e5).toISOString().indexOf("-000001")||(Date.prototype.toISOString=function(){var e,t,n,i;if(!isFinite(this))throw new RangeError;for(e=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=this.getUTCFullYear(),i=(0>i?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(i>=0&&9999>=i?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return i+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError;return this.toISOString()}),864e13!==Date.parse("+275760-09-13T00:00:00.000Z")&&(Date=function(e){var t=function n(t,i,r,s,o,a,l){var h=arguments.length;if(this instanceof e){var c=1==h&&t+""===t?new e(n.parse(t)):h>=7?new e(t,i,r,s,o,a,l):h>=6?new e(t,i,r,s,o,a):h>=5?new e(t,i,r,s,o):h>=4?new e(t,i,r,s):h>=3?new e(t,i,r):h>=2?new e(t,i):h>=1?new e(t):new e;return c.constructor=n,c}return e.apply(this,arguments)},i=RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var r in e)t[r]=e[r];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var n=i.exec(t);if(n){n.shift();for(var r=1;7>r;r++)n[r]=+(n[r]||(3>r?1:0)),1==r&&n[r]--;var s=+n.pop(),o=+n.pop(),a=n.pop(),l=0;if(a){if(o>23||s>59)return 0/0;l=6e4*(60*o+s)*("+"==a?-1:1)}var h=+n[0];return h>=0&&99>=h?(n[0]=h+400,e.UTC.apply(this,n)+l-126227808e5):e.UTC.apply(this,n)+l}return e.parse.apply(this,arguments)},t}(Date));var b="	\n\f\r   ᠎             　\u2028\u2029";if(!String.prototype.trim||b.trim()){b="["+b+"]";var D=RegExp("^"+b+b+"*"),x=RegExp(b+b+"*$");String.prototype.trim=function(){return(this+"").replace(D,"").replace(x,"")}}var B=function(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},S="a"!="a"[0],k=function(e){if(null==e)throw new TypeError;return S&&"string"==typeof e&&e?e.split(""):Object(e)}}),define("ace/lib/dom",["require","exports","module"],function(e,t){var n="http://www.w3.org/1999/xhtml";t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.setText=function(e,t){void 0!==e.innerText&&(e.innerText=t),void 0!==e.textContent&&(e.textContent=t)},t.hasCssClass=function(e,t){var n=e.className.split(/\s+/g);return-1!==n.indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;n.length>i;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;n.length>i;)if(n[i++].id===e)return!0;return!1},t.importCssString=function(e,i,r){if(r=r||document,i&&t.hasCssString(i,r))return null;var s;if(r.createStyleSheet)s=r.createStyleSheet(),s.cssText=e,i&&(s.owningElement.id=i);else{s=r.createElementNS?r.createElementNS(n,"style"):r.createElement("style"),s.appendChild(r.createTextNode(e)),i&&(s.id=i);var o=r.getElementsByTagName("head")[0]||r.documentElement;o.appendChild(s)}},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var i=t.createElement("link");i.rel="stylesheet",i.href=e;var r=n.getElementsByTagName("head")[0]||n.documentElement;r.appendChild(i)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),t.computedStyle=window.getComputedStyle?function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var n=t.createElement("p");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px";var i=t.createElement("div"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",i.appendChild(n);var s=e.body||e.documentElement;s.appendChild(i);var o=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return o==a&&(a=i.clientWidth),s.removeChild(i),o-a},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},t.setInnerText=function(e,t){var n=e.ownerDocument;n.body&&"textContent"in n.body?e.textContent=t:e.innerText=t},t.getInnerText=function(e){var t=e.ownerDocument;return t.body&&"textContent"in t.body?e.textContent:e.innerText||e.textContent||""},t.getParentWindow=function(e){return e.defaultView||e.parentWindow}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent","ace/lib/dom"],function(e,t){function n(e,t,n){var s=0;if(s=!r.isOpera||"KeyboardEvent"in window||!r.isMac?0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0):0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0),n in i.MODIFIER_KEYS){switch(i.MODIFIER_KEYS[n]){case"Alt":s=2;break;case"Shift":s=4;break;case"Ctrl":s=1;break;default:s=8}n=0}return 8&s&&(91==n||93==n)&&(n=0),s||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS?e(t,s,n):!1}var i=e("./keys"),r=e("./useragent");if(e("./dom"),t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var i=function(){n(window.event)};n._wrapper=i,e.attachEvent("on"+t,i)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n),void 0)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||e.ctrlKey&&r.isMac?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=document.documentElement.setCapture?function(e,n,i){function r(o){n(o),s||(s=!0,i(o)),t.removeListener(e,"mousemove",n),t.removeListener(e,"mouseup",r),t.removeListener(e,"losecapture",r),e.releaseCapture()}var s=!1;t.addListener(e,"mousemove",n),t.addListener(e,"mouseup",r),t.addListener(e,"losecapture",r),e.setCapture()}:function(e,t,n){function i(e){t&&t(e),n&&n(e),document.removeEventListener("mousemove",t,!0),document.removeEventListener("mouseup",i,!0),e.stopPropagation()}document.addEventListener("mousemove",t,!0),document.addEventListener("mouseup",i,!0)},t.addMouseWheelListener=function(e,n){var i=8,r=function(e){void 0!==e.wheelDelta?void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/i,e.wheelY=-e.wheelDeltaY/i):(e.wheelX=0,e.wheelY=-e.wheelDelta/i):e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)};t.addListener(e,"DOMMouseScroll",r),t.addListener(e,"mousewheel",r)},t.addMultiMouseDownListener=function(e,n,i,s){var o,a,l,h=0,c={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",function(e){if(0!=t.getButton(e))h=0;else{var r=Math.abs(e.clientX-o)>5||Math.abs(e.clientY-a)>5;(!l||r)&&(h=0),h+=1,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[h-1]||600)}if(1==h&&(o=e.clientX,a=e.clientY),i[s]("mousedown",e),h>4)h=0;else if(h>1)return i[s](c[h],e)}),r.isOldIE&&t.addListener(e,"dblclick",function(e){h=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[h-1]||600),i[s]("mousedown",e),i[s](c[h],e)})},t.addCommandKeyListener=function(e,i){var s=t.addListener;if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var o=null;s(e,"keydown",function(e){o=e.keyCode}),s(e,"keypress",function(e){return n(i,e,o)})}else{var a=null;s(e,"keydown",function(e){return a=e.keyIdentifier||e.keyCode,n(i,e,e.keyCode)})}},window.postMessage&&!r.isOldIE){var s=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+s;t.addListener(n,"message",function r(s){s.data==i&&(t.stopPropagation(s),t.removeListener(n,"message",r),e())}),n.postMessage(i,"*")}}else t.nextTick=function(e,t){t=t||window,window.setTimeout(e,0)}}),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t){var n=e("./oop"),i=function(){var e={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(var t in e.FUNCTION_KEYS){var i=e.FUNCTION_KEYS[t].toUpperCase();e[i]=parseInt(t,10)}return n.mixin(e,e.MODIFIER_KEYS),n.mixin(e,e.PRINTABLE_KEYS),n.mixin(e,e.FUNCTION_KEYS),e}();n.mixin(t,i),t.keyCodeToString=function(e){return(i[e]||String.fromCharCode(e)).toLowerCase()}}),define("ace/lib/oop",["require","exports","module"],function(e,t){t.inherits=function(){var e=function(){};return function(t,n){e.prototype=n.prototype,t.super_=n.prototype,t.prototype=new e,t.prototype.constructor=t}}(),t.mixin=function(e,t){for(var n in t)e[n]=t[n]},t.implement=function(e,n){t.mixin(e,n)}}),define("ace/lib/useragent",["require","exports","module"],function(e,t){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName&&parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]),t.isOldIE=t.isIE&&9>t.isIE,t.isGecko=t.isMozilla=window.controllers&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&4>parseInt((navigator.userAgent.match(/rv\:(\d+)/)||[])[1],10),t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS}}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands"],function(e,t){e("./lib/fixoldbrowsers");var n=e("./lib/oop"),i=e("./lib/lang"),r=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,o=e("./mouse/mouse_handler").MouseHandler,a=e("./mouse/fold_handler").FoldHandler,l=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,c=e("./search").Search,u=e("./range").Range,d=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,p=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new f(r.isMac?"mac":"win",g),this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new l(this),r.isIPad||(this.$mouseHandler=new o(this),new a(this)),this.$blockScrolling=0,this.$search=(new c).set({wrap:!0}),this.setSession(t||new h(""))};(function(){n.implement(this,d),this.setKeyboardHandler=function(e){this.keyBinding.setKeyboardHandler(e)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){if(this.session){var t=this.session;this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeLeftTop",this.$onScrollLeftChange);var n=this.session.getSelection();n.removeEventListener("changeCursor",this.$onCursorChange),n.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull(),this._emit("changeSession",{session:e,oldSession:t})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e){this.renderer.setTheme(e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.setFontSize=function(e){this.container.style.fontSize=e,this.renderer.updateFontSize()},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session.findMatchingBracket(e.getCursorPosition());if(t){var n=new u(t.row,t.column,t.row,t.column+1);e.session.$bracketHighlight=e.session.addMarker(n,"ace_bracket","text")}},10)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus"))},this.onBlur=function(){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur"))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t,n=e.data,i=n.range;t=i.start.row==i.end.row&&"insertLines"!=n.action&&"removeLines"!=n.action?i.end.row:1/0,this.renderer.updateLines(i.start.row,t),this._emit("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$updateHighlightActiveLine(),this._emit("changeSelection")},this.$updateHighlightActiveLine=function(){var e=this.getSession();if(e.$highlightLineMarker&&e.removeMarker(e.$highlightLineMarker),e.$highlightLineMarker=null,this.$highlightActiveLine){var t=this.getCursorPosition(),n=this.session.getFoldLine(t.row);if("line"!=this.getSelectionStyle()||!this.selection.isMultiLine()){var i;i=n?new u(n.start.row,0,n.end.row+1,0):new u(t.row,0,t.row+1,0),e.$highlightLineMarker=e.addMarker(i,"ace_active_line","background")}}},this.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._emit("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,i=t.end.column+1,r=e.getLine(t.start.row),s=r.length,o=r.substring(Math.max(n,0),Math.min(i,s));if(!(n>=0&&/^[\w\d]/.test(o)||s>=i&&/[\w\d]$/.test(o))&&(o=r.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(o))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(){this.renderer.updateText()},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getCopyText=function(){var e="";return this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange())),this._emit("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){this.$readOnly||(this._emit("paste",e),this.insert(e))},this.insert=function(e){var t=this.session,n=t.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()){var r=n.transformAction(t.getState(i.row),"insertion",this,t,e);r&&(e=r.text)
}if(e=e.replace("	",this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new u.fromPoints(i,i);s.end.column+=e.length,this.session.remove(s)}}else i=this.session.remove(this.getSelectionRange()),this.clearSelection();this.clearSelection();var o=i.column,a=t.getState(i.row),l=n.checkOutdent(a,t.getLine(i.row),e),h=t.getLine(i.row),c=n.getNextLineIndent(a,h.slice(0,i.column),t.getTabString()),d=t.insert(i,e);r&&r.selection&&(2==r.selection.length?this.selection.setSelectionRange(new u(i.row,o+r.selection[0],i.row,o+r.selection[1])):this.selection.setSelectionRange(new u(i.row+r.selection[0],r.selection[1],i.row+r.selection[2],r.selection[3])));var a=t.getState(i.row);if(t.getDocument().isNewLine(e)){this.moveCursorTo(i.row+1,0);for(var f=t.getTabSize(),g=Number.MAX_VALUE,p=i.row+1;d.row>=p;++p){var m=0;h=t.getLine(p);for(var v=0;h.length>v;++v)if("	"==h.charAt(v))m+=f;else{if(" "!=h.charAt(v))break;m+=1}/[^\s]/.test(h)&&(g=Math.min(m,g))}for(var p=i.row+1;d.row>=p;++p){var A=g;h=t.getLine(p);for(var v=0;h.length>v&&A>0;++v)"	"==h.charAt(v)?A-=f:" "==h.charAt(v)&&(A-=1);t.remove(new u(p,0,p,v))}t.indentRows(i.row+1,d.row,c)}l&&n.autoOutdent(a,t,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.$mouseHandler.setScrollSpeed(e)},this.getScrollSpeed=function(){return this.$mouseHandler.getScrollSpeed()},this.setDragDelay=function(e){this.$mouseHandler.setDragDelay(e)},this.getDragDelay=function(){return this.$mouseHandler.getDragDelay()},this.$selectionStyle="line",this.setSelectionStyle=function(e){this.$selectionStyle!=e&&(this.$selectionStyle=e,this.onSelectionChange(),this._emit("changeSelectionStyle",{data:e}))},this.getSelectionStyle=function(){return this.$selectionStyle},this.$highlightActiveLine=!0,this.setHighlightActiveLine=function(e){this.$highlightActiveLine!=e&&(this.$highlightActiveLine=e,this.$updateHighlightActiveLine())},this.getHighlightActiveLine=function(){return this.$highlightActiveLine},this.$highlightGutterLine=!0,this.setHighlightGutterLine=function(e){this.$highlightGutterLine!=e&&(this.renderer.setHighlightGutterLine(e),this.$highlightGutterLine=e)},this.getHighlightGutterLine=function(){return this.$highlightGutterLine},this.$highlightSelectedWord=!0,this.setHighlightSelectedWord=function(e){this.$highlightSelectedWord!=e&&(this.$highlightSelectedWord=e,this.$onSelectionChange())},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.$readOnly=!1,this.setReadOnly=function(e){this.$readOnly=e},this.getReadOnly=function(){return this.$readOnly},this.$modeBehaviours=!0,this.setBehavioursEnabled=function(e){this.$modeBehaviours=e},this.getBehavioursEnabled=function(){return this.$modeBehaviours},this.setShowFoldWidgets=function(e){var t=this.renderer.$gutterLayer;t.getShowFoldWidgets()!=e&&(this.renderer.$gutterLayer.setShowFoldWidgets(e),this.$showFoldWidgets=e,this.renderer.updateFull())},this.getShowFoldWidgets=function(){return this.renderer.$gutterLayer.getShowFoldWidgets()},this.setFadeFoldWidgets=function(e){this.renderer.setFadeFoldWidgets(e)},this.getFadeFoldWidgets=function(){return this.renderer.getFadeFoldWidgets()},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);r.length>t?(n=r.charAt(t)+r.charAt(t-1),i=new u(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new u(e.row,t-2,e.row,t)),this.session.replace(i,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row||t.start.column<t.end.column)){var n;if(this.session.getUseSoftTabs()){var r=e.getTabSize(),s=this.getCursorPosition(),o=e.documentToScreenColumn(s.row,s.column),a=r-o%r;n=i.stringRepeat(" ",a)}else n="	";return this.insert(n)}var l=this.$getSelectedRows();e.indentRows(l.first,l.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.removeLines=function(){var e,t=this.$getSelectedRows();e=0===t.first||t.last+1<this.session.getLength()?new u(t.first,0,t.last+1,0):new u(t.first-1,this.session.getLine(t.first-1).length,t.last,this.session.getLine(t.last).length),this.session.remove(e),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var r=e.isBackwards(),s=e.isBackwards()?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(function(e,t){return this.session.moveLinesDown(e,t)})},this.moveLinesUp=function(){this.$moveLines(function(e,t){return this.session.moveLinesUp(e,t)})},this.moveText=function(e,t){return this.$readOnly?null:this.session.moveText(e,t)},this.copyLinesUp=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t),0})},this.copyLinesDown=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t)})},this.$moveLines=function(e){var t=this.$getSelectedRows(),n=this.selection;if(!n.isMultiLine())var i=n.getRange(),r=n.isBackwards();var s=e.call(this,t.first,t.last);i?(i.start.row+=s,i.end.row+=s,n.setSelectionRange(i,r)):(n.setSelectionAnchor(t.last+s+1,0),n.$moveSelection(function(){n.moveCursorTo(t.first+s,0)}))},this.$getSelectedRows=function(){var e=this.getSelectionRange().collapseRows();return{first:e.start.row,last:e.end.row}},this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&this.getLastVisibleRow()>=e},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&this.renderer.getLastFullyVisibleRow()>=e},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,1==t?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):0==t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e){var t=this.getCursorPosition(),n=this.session.getBracketRange(t);if(!n){if(n=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:t.row,column:t.column-1}}),!n)return;var i=n.start;i.row==t.row&&2>Math.abs(i.column-t.column)&&(n=this.session.getBracketRange(i))}i=n&&n.cursor||i,i&&(e?n&&n.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(i.row,i.column):(this.clearSelection(),this.moveCursorTo(i.row,i.column)))},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.navigateUp=function(e){this.selection.clearSelection(),e=e||1,this.selection.moveCursorBy(-e,0)},this.navigateDown=function(e){this.selection.clearSelection(),e=e||1,this.selection.moveCursorBy(e,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){var e=this.renderer.scrollTop;this.selection.moveCursorFileEnd(),this.clearSelection(),this.renderer.animateScrolling(e)},this.navigateFileStart=function(){var e=this.renderer.scrollTop;this.selection.moveCursorFileStart(),this.clearSelection(),this.renderer.animateScrolling(e)},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.clearSelection(),this.selection.moveCursorTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var r=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(r)||this.$search.$options.needle,e||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,i),s):(t.backwards?r.start=r.end:r.end=r.start,this.selection.setRange(r),void 0)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),0!=t&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy()}}).call(p.prototype),t.Editor=p}),define("ace/lib/lang",["require","exports","module"],function(e,t){t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){return Array(t+1).join(e)};var n=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;i>n;n++)t[n]=e[n]&&"object"==typeof e[n]?this.copyObject(e[n]):e[n];return t},t.deepCopy=function(e){if("object"!=typeof e)return e;var t=e.constructor();for(var n in e)t[n]="object"==typeof e[n]?this.deepCopy(e[n]):e[n];return t},t.arrayToMap=function(e){for(var t={},n=0;e.length>n;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;e.length>=n;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom"],function(e,t){var n=e("../lib/event"),i=e("../lib/useragent"),r=e("../lib/dom"),s=function(e,t){function s(e){try{e?(h.value=c,h.selectionStart=0,h.selectionEnd=1):h.select()}catch(t){}}function o(e){if(!d){var n=e||h.value;n&&(n.length>1&&(n.charAt(0)==c?n=n.substr(1):n.charAt(n.length-1)==c&&(n=n.slice(0,-1))),n&&n!=c&&(f?t.onPaste(n):t.onTextInput(n)))}d=!1,f=!1,s(!0)}function a(){return document.activeElement===h}function l(){setTimeout(function(){g&&(h.style.cssText=g,g=""),o(),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}var h=r.createElement("textarea");i.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.style.top="-2em",e.insertBefore(h,e.firstChild);var c=i.isIE?"":"";o();var u=!1,d=!1,f=!1,g="",p=function(e){u||o(e.data),setTimeout(function(){u||s(!0)},0)},m=function(){setTimeout(function(){u||""!=h.value&&o()},0)},v=function(){u=!0,t.onCompositionStart(),setTimeout(A,0)},A=function(){u&&t.onCompositionUpdate(h.value)},C=function(){u=!1,t.onCompositionEnd()},E=function(e){d=!0;var n=t.getCopyText();n?h.value=n:e.preventDefault(),s(),setTimeout(function(){o()},0)},F=function(e){d=!0;var n=t.getCopyText();n?(h.value=n,t.onCut()):e.preventDefault(),s(),setTimeout(function(){o()},0)};if(n.addCommandKeyListener(h,t.onCommandKey.bind(t)),n.addListener(h,"input",p),i.isOldIE){var w={13:1,27:1};n.addListener(h,"keyup",function(e){u&&(!h.value||w[e.keyCode])&&setTimeout(C,0),129>(0|h.value.charCodeAt(0))||(u?A():v())}),n.addListener(h,"propertychange",function(){h.value!=c&&setTimeout(o,0)})}n.addListener(h,"paste",function(e){f=!0,e.clipboardData&&e.clipboardData.getData?(o(e.clipboardData.getData("text/plain")),e.preventDefault()):m()}),"onbeforecopy"in h&&"undefined"!=typeof clipboardData?(n.addListener(h,"beforecopy",function(e){if(!g){var n=t.getCopyText();n?clipboardData.setData("Text",n):e.preventDefault()}}),n.addListener(e,"keydown",function(e){if(e.ctrlKey&&88==e.keyCode){var i=t.getCopyText();i&&(clipboardData.setData("Text",i),t.onCut()),n.preventDefault(e)}}),n.addListener(h,"cut",F)):!i.isOpera||"KeyboardEvent"in window?(n.addListener(h,"copy",E),n.addListener(h,"cut",F)):n.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey&&(88==e.keyCode||67==e.keyCode)){var n=t.getCopyText();n&&(h.value=n,h.select(),88==e.keyCode&&t.onCut())}}),n.addListener(h,"compositionstart",v),i.isGecko&&n.addListener(h,"text",A),i.isWebKit&&n.addListener(h,"keyup",A),n.addListener(h,"compositionend",C),n.addListener(h,"blur",function(){t.onBlur()}),n.addListener(h,"focus",function(){t.onFocus(),s()}),this.focus=function(){s(),h.focus()},this.blur=function(){h.blur()},this.isFocused=a,this.getElement=function(){return h},this.onContextMenu=function(e){g||(g=h.style.cssText),h.style.cssText="position:fixed; z-index:100000;"+(i.isIE?"background:rgba(0, 0, 0, 0.03); opacity:0.1;":"")+"left:"+(e.clientX-2)+"px; top:"+(e.clientY-2)+"px;",t.selection.isEmpty()?h.value="":s(!0),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),i.isWin&&(i.isGecko||i.isIE)&&n.capture(t.container,function(e){h.style.left=e.clientX-2+"px",h.style.top=e.clientY-2+"px"},l))},this.onContextMenuClose=l,i.isGecko||n.addListener(h,"contextmenu",function(e){t.textInput.onContextMenu(e),l()})};t.TextInput=s}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop"],function(e,t){var n=e("../lib/event"),i=e("../lib/useragent"),r=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,o=e("./mouse_event").MouseEvent,a=e("./dragdrop").DragdropHandler,l=function(e){this.editor=e,new r(this),new s(this),new a(this),n.addListener(e.container,"mousedown",function(t){return e.focus(),n.preventDefault(t)});var t=e.renderer.getMouseEventTarget();n.addListener(t,"click",this.onMouseEvent.bind(this,"click")),n.addListener(t,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener(t,[300,300,250],this,"onMouseEvent"),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var i=e.renderer.$gutter;n.addListener(i,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(i,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(i,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(i,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"))};(function(){this.$scrollSpeed=1,this.setScrollSpeed=function(e){this.$scrollSpeed=e},this.getScrollSpeed=function(){return this.$scrollSpeed},this.onMouseEvent=function(e,t){this.editor._emit(e,new o(t,this.editor))},this.$dragDelay=250,this.setDragDelay=function(e){this.$dragDelay=e},this.getDragDelay=function(){return this.$dragDelay},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new o(t,this.editor))},this.onMouseWheel=function(e,t){var n=new o(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){t&&this.setState(t),this.x=e.x,this.y=e.y;var r=this.editor.renderer;r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=null);var s=this,o=function(e){s.x=e.clientX,s.y=e.clientY},a=function(e){clearInterval(h),s[s.state+"End"]&&s[s.state+"End"](e),s.$clickSelection=null,null==r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=!0,r.$moveTextAreaToCursor())},l=function(){s[s.state]&&s[s.state]()};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(),a(e.domEvent)}),void 0;n.capture(this.editor.container,o,a);var h=setInterval(l,20)}}).call(l.prototype),t.MouseHandler=l}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/useragent"],function(e,t){function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onScroll.bind(e));var n=["select","startSelect","drag","dragEnd","dragWait","dragWaitEnd","startDrag","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange"),e.$focusWaitTimout=250}function i(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}function r(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else var n=2*t.row-e.start.row-e.end.row;return 0>n?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var s=e("../lib/dom"),o=(e("../lib/useragent"),5);(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();if(0!==r){var s=i.getSelectionRange(),o=s.isEmpty();return o&&(i.moveCursorToPosition(n),i.selection.clearSelection()),i.textInput.onContextMenu(e.domEvent),void 0}return t&&!i.isFocused()&&(i.focus(),this.$focusWaitTimout&&!this.$clickSelection)?(this.setState("focusWait"),this.captureMouse(e),e.preventDefault()):(!t||this.$clickSelection||e.getShiftKey()?this.startSelect(n):t&&(this.mousedownEvent.time=(new Date).getTime(),this.setState("dragWait")),this.captureMouse(e),e.preventDefault())},this.startSelect=function(e){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y),this.mousedownEvent.getShiftKey()?this.editor.selection.selectToPosition(e):this.$clickSelection||(this.editor.moveCursorToPosition(e),this.editor.selection.clearSelection()),this.setState("select")},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var s=r(this.$clickSelection,n);n=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),s=n.selection[e](i.row,i.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(-1==o&&0>=a)t=this.$clickSelection.end,(s.end.row!=i.row||s.end.column!=i.column)&&(i=s.start);else if(1==a&&o>=0)t=this.$clickSelection.start,(s.start.row!=i.row||s.start.column!=i.column)&&(i=s.end);else if(-1==o&&1==a)i=s.end,t=s.start;else{var l=r(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.startDrag=function(){var e=this.editor;this.setState("drag"),this.dragRange=e.getSelectionRange();var t=e.getSelectionStyle();this.dragSelectionMarker=e.session.addMarker(this.dragRange,"ace_selection",t),e.clearSelection(),s.addCssClass(e.container,"ace_dragging"),this.$dragKeybinding||(this.$dragKeybinding={handleKeyboard:function(e,t,n){return"esc"==n?{command:this.command}:void 0},command:{exec:function(e){var t=e.$mouseHandler;t.dragCursor=null,t.dragEnd(),t.startSelect()}}}),e.keyBinding.addKeyboardHandler(this.$dragKeybinding)},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=(new Date).getTime();(e>o||t-this.mousedownEvent.time>this.$focusWaitTimout)&&this.startSelect()},this.dragWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=(new Date).getTime(),n=this.editor;e>o?this.startSelect(this.mousedownEvent.getDocumentPosition()):t-this.mousedownEvent.time>n.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(e){this.mousedownEvent.domEvent=e,this.startSelect()},this.drag=function(){var e=this.editor;this.dragCursor=e.renderer.screenToTextCoordinates(this.x,this.y),e.moveCursorToPosition(this.dragCursor),e.renderer.scrollCursorIntoView()},this.dragEnd=function(e){var t=this.editor,n=this.dragCursor,i=this.dragRange;if(s.removeCssClass(t.container,"ace_dragging"),t.session.removeMarker(this.dragSelectionMarker),t.keyBinding.removeKeyboardHandler(this.$dragKeybinding),n){if(t.clearSelection(),e&&(e.ctrlKey||e.altKey)){var r=t.session,o=i;o.end=r.insert(n,r.getTextRange(i)),o.start=n}else{if(i.contains(n.row,n.column))return;var o=t.moveText(i,n)}o&&t.selection.setSelectionRange(o)}},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session,r=i.getBracketRange(t);return r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.$clickSelection=r,this.setState("select"),void 0):(this.$clickSelection=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords"),void 0)},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines"),this.$clickSelection=n.selection.getLineRange(t.row)},this.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("null")},this.onScroll=function(e){var t=this.editor,n=t.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(n)this.$passScrollEvent=!1;else{if(this.$passScrollEvent)return;if(!this.$scrollStopTimeout){var i=this;this.$scrollStopTimeout=setTimeout(function(){i.$passScrollEvent=!0,i.$scrollStopTimeout=null},200)}}return t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.preventDefault()}}).call(n.prototype),t.DefaultHandlers=n}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event"],function(e,t){function n(e){function t(){u=i.createElement("div"),u.className="ace_gutter_tooltip",u.style.maxWidth="500px",u.style.display="none",a.container.appendChild(u)}function n(){u||t();var e=c.getDocumentPosition().row,n=l.$annotations[e];if(!n)return s();var i=a.session.getLength();if(e==i){var r=a.renderer.pixelToScreenCoordinates(0,c.y).row,h=c.$pos;if(r>a.session.documentToScreenRow(h.row,h.column))return s()}d!=n&&(d=n.text.join("\n"),u.style.display="block",u.innerHTML=d,a.on("mousewheel",s),o(c))}function s(){h&&(h=clearTimeout(h)),d&&(u.style.display="none",d=null,a.removeEventListener("mousewheel",s))}function o(e){var t=a.renderer.$gutter.getBoundingClientRect();u.style.left=e.x-t.left+15+"px",e.y+3*a.renderer.lineHeight+15<t.bottom?(u.style.bottom="",u.style.top=e.y-t.top+15+"px"):(u.style.top="",u.style.bottom=t.bottom-e.y+5+"px")}var a=e.editor,l=a.renderer.$gutterLayer;e.editor.setDefaultHandler("guttermousedown",function(t){if(a.isFocused()){var n=l.getRegion(t);if(!n){var i=t.getDocumentPosition().row,r=a.session.selection;return t.getShiftKey()?r.selectTo(i,0):e.$clickSelection=a.selection.getLineRange(i),e.captureMouse(t,"selectByLines"),t.preventDefault()}}});var h,c,u,d;e.editor.setDefaultHandler("guttermousemove",function(e){var t=e.domEvent.target||e.domEvent.srcElement;return i.hasCssClass(t,"ace_fold-widget")?s():(d&&o(e),c=e,h||(h=setTimeout(function(){h=null,c?n():s()},50)),void 0)}),r.addListener(a.renderer.$gutter,"mouseout",function(){c=null,d&&!h&&(h=setTimeout(function(){h=null,s()},50))})}var i=e("../lib/dom"),r=e("../lib/event");t.GutterHandler=n}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){var n=e("../lib/event"),i=e("../lib/useragent"),r=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor;if(e.getReadOnly())this.$inSelection=!1;else{var t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),define("ace/mouse/dragdrop",["require","exports","module","ace/lib/event"],function(e,t){var n=e("../lib/event"),i=function(e){var t,i,r,s,o,a,l,h=e.editor,c=0,u=h.container;n.addListener(u,"dragenter",function(e){if(c++,!t){o=h.getSelectionRange(),a=h.selection.isBackwards();var i=h.getSelectionStyle();t=h.session.addMarker(o,"ace_selection",i),h.clearSelection(),clearInterval(s),s=setInterval(d,20)}return n.preventDefault(e)}),n.addListener(u,"dragover",function(e){return i=e.clientX,r=e.clientY,n.preventDefault(e)
});var d=function(){l=h.renderer.screenToTextCoordinates(i,r),h.moveCursorToPosition(l),h.renderer.scrollCursorIntoView()};n.addListener(u,"dragleave",function(e){return c--,c>0?void 0:(console.log(e.type,c,e.target),clearInterval(s),h.session.removeMarker(t),t=null,h.selection.setSelectionRange(o,a),n.preventDefault(e))}),n.addListener(u,"drop",function(e){return console.log(e.type,c,e.target),c=0,clearInterval(s),h.session.removeMarker(t),t=null,o.end=h.session.insert(l,e.dataTransfer.getData("Text")),o.start=l,h.focus(),h.selection.setSelectionRange(o),n.preventDefault(e)})};t.DragdropHandler=i}),define("ace/mouse/fold_handler",["require","exports","module"],function(e,t){function n(e){e.on("click",function(t){var n=t.getDocumentPosition(),i=e.session,r=i.getFoldAt(n.row,n.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),t.stop()}})}t.FoldHandler=n}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t){var n=e("../lib/keys"),i=e("../lib/event"),r=function(e){this.$editor=e,this.$data={},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0),this.$data={editor:this.$editor}},this.setKeyboardHandler=function(e){if(this.$handlers[this.$handlers.length-1]!=e){for(;this.$handlers[1];)this.removeKeyboardHandler(this.$handlers[1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1==t?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(e,t,n,r){for(var s,o=this.$handlers.length;o--&&(s=this.$handlers[o].handleKeyboard(this.$data,e,t,n,r),!s||!s.command););if(!s||!s.command)return!1;var a=!1,l=this.$editor.commands;return a="null"!=s.command?l.exec(s.command,this.$editor,s.args,r):1!=s.passEvent,a&&r&&-1!=e&&i.stopEvent(r),a},this.onCommandKey=function(e,t,i){var r=n.keyCodeToString(i);this.$callKeyboardHandlers(t,r,i,e)},this.onTextInput=function(e){var t=this.$callKeyboardHandlers(-1,e);t||this.$editor.commands.exec("insertstring",this.$editor,e)}}).call(r.prototype),t.KeyBinding=r}),define("ace/edit_session",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/lib/net","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t){var n=e("./config"),i=e("./lib/oop"),r=e("./lib/lang"),s=e("./lib/net"),o=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,h=e("./range").Range,c=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,f=function(e,t){this.$modified=!0,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$resetRowCache(0),this.$wrapData=[],this.$foldData=[],this.$rowLengthCache=[],this.$undoSelect=!0,this.$foldData.toString=function(){var e="";return this.forEach(function(t){e+="\n"+(""+t)}),e},"object"==typeof e&&e.getLine?this.setDocument(e):this.setDocument(new c(e)),this.selection=new a(this),this.setMode(t)};(function(){function t(e){return 4352>e?!1:e>=4352&&4447>=e||e>=4515&&4519>=e||e>=4602&&4607>=e||e>=9001&&9002>=e||e>=11904&&11929>=e||e>=11931&&12019>=e||e>=12032&&12245>=e||e>=12272&&12283>=e||e>=12288&&12350>=e||e>=12353&&12438>=e||e>=12441&&12543>=e||e>=12549&&12589>=e||e>=12593&&12686>=e||e>=12688&&12730>=e||e>=12736&&12771>=e||e>=12784&&12830>=e||e>=12832&&12871>=e||e>=12880&&13054>=e||e>=13056&&19903>=e||e>=19968&&42124>=e||e>=42128&&42182>=e||e>=43360&&43388>=e||e>=44032&&55203>=e||e>=55216&&55238>=e||e>=55243&&55291>=e||e>=63744&&64255>=e||e>=65040&&65049>=e||e>=65072&&65106>=e||e>=65108&&65126>=e||e>=65128&&65131>=e||e>=65281&&65376>=e||e>=65504&&65510>=e}i.implement(this,o),this.setDocument=function(e){if(this.doc)throw Error("Document is already set");this.doc=e,e.on("change",this.onChange.bind(this)),this.on("changeFold",this.onChangeFold.bind(this)),this.bgTokenizer&&(this.bgTokenizer.setDocument(this.getDocument()),this.bgTokenizer.start(0))},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],this.$screenRowCache=[],void 0;var t=this.$getRowCacheIndex(this.$docRowCache,e)+1,n=this.$docRowCache.length;this.$docRowCache.splice(t,n),this.$screenRowCache.splice(t,n)},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;i>=n;){var r=n+i>>1,s=e[r];if(t>s)n=r+1;else{if(!(s>t))return r;i=r-1}}return n&&n-1},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var n=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&!t.ignore&&(this.$deltasDoc.push(t),n&&0!=n.length&&this.$deltasFold.push({action:"removeFolds",folds:n}),this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(t),this._emit("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveCursorTo(0,0),this.selection.clearSelection(),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t)s=i.length-1,r=this.getLine(e).length;else for(var s=0;i.length>s&&(r+=i[s].value.length,!(r>=t));s++);return n=i[s],n?(n.index=s,n.start=r-n.value.length,n):null},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected_word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t]}),t.$deltas=[]},this.$informUndoManager=r.deferredCall(this.$syncInformUndoManager)}},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"	"},this.$useSoftTabs=!0,this.setUseSoftTabs=function(e){this.$useSoftTabs!==e&&(this.$useSoftTabs=e)},this.getUseSoftTabs=function(){return this.$useSoftTabs},this.$tabSize=4,this.setTabSize=function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._emit("changeTabSize"))},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&0==e.column%this.$tabSize},this.$overwrite=!1,this.setOverwrite=function(e){this.$overwrite!=e&&(this.$overwrite=e,this._emit("changeOverwrite"))},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._emit("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._emit("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;e.length>t;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._emit("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._emit("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._emit("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._emit("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,s={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=s,this._emit("changeFrontMarker")):(this.$backMarkers[r]=s,this._emit("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._emit("changeFrontMarker")):(this.$backMarkers[n]=e,this._emit("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._emit(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.setAnnotations=function(e){this.$annotations={};for(var t=0;e.length>t;t++){var n=e[t],i=n.row;this.$annotations[i]?this.$annotations[i].push(n):this.$annotations[i]=[n]}this._emit("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||{}},this.clearAnnotations=function(){this.$annotations={},this._emit("changeAnnotation",{})},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var r=/\s/;else var r=this.nonTokenRe;var s=t;if(s>0){do s--;while(s>=0&&n.charAt(s).match(r));s++}for(var o=t;n.length>o&&n.charAt(o).match(r);)o++;return new h(e,s,e,o)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.$useWorker=!0,this.setUseWorker=function(e){this.$useWorker!=e&&(this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker())},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._emit("tokenizerUpdate",e)},this.$modes={},this._loadMode=function(t,i){function r(e){return h.$modes[t]?i(h.$modes[t]):(h.$modes[t]=new e.Mode,h.$modes[t].$id=t,h._emit("loadmode",{name:t,mode:h.$modes[t]}),i(h.$modes[t]),void 0)}function o(e,t){return n.get("packaged")?(s.loadScript(n.moduleUrl(e,"mode"),t),void 0):t()}if(this.$modes["null"]||(this.$modes["null"]=this.$modes["ace/mode/text"]=new l),this.$modes[t])return i(this.$modes[t]);var a,h=this;try{a=e(t)}catch(c){}return a&&a.Mode?r(a):(this.$mode||this.$setModePlaceholder(),o(t,function(){e([t],r)}),void 0)},this.$setModePlaceholder=function(){this.$mode=this.$modes["null"];var e=this.$mode.getTokenizer();if(this.bgTokenizer)this.bgTokenizer.setTokenizer(e);else{this.bgTokenizer=new u(e);var t=this;this.bgTokenizer.addEventListener("update",function(e){t._emit("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=this.$mode.tokenRe,this.nonTokenRe=this.$mode.nonTokenRe},this.$mode=null,this.$modeId=null,this.setMode=function(e){if(e=e||"null","string"==typeof e){if(this.$modeId==e)return;this.$modeId=e;var t=this;return this._loadMode(e,function(n){t.$modeId===e&&t.setMode(n)}),void 0}if(this.$mode!==e){this.$mode=e,this.$modeId=e.$id,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new u(n);var t=this;this.bgTokenizer.addEventListener("update",function(e){t._emit("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.bgTokenizer.start(0),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,this.$setFolding(e.foldingRules),this._emit("changeMode")}},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if("undefined"==typeof Worker||e.noWorker)this.$worker=null;else try{this.$worker=this.$mode.createWorker(this)}catch(t){console.log("Could not load worker"),console.log(t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){e=Math.round(Math.max(0,e)),this.$scrollTop!==e&&(this.$scrollTop=e,this._emit("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){e=Math.round(Math.max(0,e)),this.$scrollLeft!==e&&(this.$scrollLeft=e,this._emit("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.screenWidth},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=t.length,l=0;a>l;l++){if(l>o){if(l=s.end.row+1,l>=a)break;s=this.$foldData[r++],o=s?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=e.length-1;-1!=i;i--){var r=e[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=0;e.length>i;i++){var r=e[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function i(e){var n="insertText"==e.action||"insertLines"==e.action;return t?!n:n}var r,s,o=e[0],a=!1;i(o)?(r=o.range.clone(),a=!0):(r=h.fromPoints(o.range.start,o.range.start),a=!1);for(var l=1;e.length>l;l++)o=e[l],i(o)?(s=o.range.start,-1==r.compare(s.row,s.column)&&r.setStart(o.range.start),s=o.range.end,1==r.compare(s.row,s.column)&&r.setEnd(o.range.end),a=!0):(s=o.range.start,-1==r.compare(s.row,s.column)&&(r=h.fromPoints(o.range.start,o.range.start)),a=!1);if(null!=n){var c=n.compareRange(r);1==c?r.setStart(n.start):-1==c&&r.setEnd(n.end)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t){var n=this.getTextRange(e);this.remove(e);var i=t.row,r=t.column;if(!e.isMultiLine()&&e.start.row==i&&r>e.end.column&&(r-=n.length),e.isMultiLine()&&i>e.end.row){var s=this.doc.$split(n);i-=s.length-1}var o=i+e.end.row-e.start.row,a=e.isMultiLine()?e.end.column:r+e.end.column-e.start.column,l=new h(i,r,o,a);return this.insert(l.start,n),l},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;t>=i;i++)this.insert({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new h(0,0,0,0),i=this.getTabSize(),r=t.start.row;t.end.row>=r;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;i>o&&" "==s.charAt(o);++o);i>o&&"	"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.moveLinesUp=function(e,t){if(0>=e)return 0;var n=this.doc.removeLines(e,t);return this.doc.insertLines(e-1,n),-1},this.moveLinesDown=function(e,t){if(t>=this.doc.getLength()-1)return 0;var n=this.doc.removeLines(e,t);return this.doc.insertLines(e+1,n),1},this.duplicateLines=function(e,t){var e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t),n=this.getLines(e,t);this.doc.insertLines(e,n);var i=t-e+1;return i},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return 0>t?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),0>e)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){0>e.start.row?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=[];for(var n=0;t>n;n++)this.$wrapData.push([]);this.$updateWrapData(0,t-1)}this._emit("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange.min=e,this.$wrapLimitRange.max=t,this.$modified=!0,this._emit("changeWrapMode"))},this.adjustWrapLimit=function(e){var t=this.$constrainWrapLimit(e);return t!=this.$wrapLimit&&t>0?(this.$wrapLimit=t,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._emit("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e){var t=this.$wrapLimitRange.min;t&&(e=Math.max(t,e));var n=this.$wrapLimitRange.max;return n&&(e=Math.min(n,e)),Math.max(1,e)},this.getWrapLimit=function(){return this.$wrapLimit},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t,n=this.$useWrapMode,i=e.data.action,r=e.data.range.start.row,s=e.data.range.end.row,o=e.data.range.start,a=e.data.range.end,l=null;if(-1!=i.indexOf("Lines")?(s="insertLines"==i?r+e.data.lines.length:r,t=e.data.lines?e.data.lines.length:s-r):t=s-r,0!=t)if(-1!=i.indexOf("remove")){this[n?"$wrapData":"$rowLengthCache"].splice(r,t);var h=this.$foldData;l=this.getFoldsInRange(e.data.range),this.removeFolds(l);var c=this.getFoldLine(a.row),u=0;if(c){c.addRemoveChars(a.row,a.column,o.column-a.column),c.shiftRow(-t);var d=this.getFoldLine(r);d&&d!==c&&(d.merge(c),c=d),u=h.indexOf(c)+1}for(u;h.length>u;u++){var c=h[u];c.start.row>=a.row&&c.shiftRow(-t)}s=r}else{var f;if(n){f=[r,0];for(var g=0;t>g;g++)f.push([]);this.$wrapData.splice.apply(this.$wrapData,f)}else f=Array(t),f.unshift(r,0),this.$rowLengthCache.splice.apply(this.$rowLengthCache,f);var h=this.$foldData,c=this.getFoldLine(r),u=0;if(c){var p=c.range.compareInside(o.row,o.column);0==p?(c=c.split(o.row,o.column),c.shiftRow(t),c.addRemoveChars(s,0,a.column-o.column)):-1==p&&(c.addRemoveChars(r,0,a.column-o.column),c.shiftRow(t)),u=h.indexOf(c)+1}for(u;h.length>u;u++){var c=h[u];c.start.row>=r&&c.shiftRow(t)}}else{t=Math.abs(e.data.range.start.column-e.data.range.end.column),-1!=i.indexOf("remove")&&(l=this.getFoldsInRange(e.data.range),this.removeFolds(l),t=-t);var c=this.getFoldLine(r);c&&c.addRemoveChars(r,o.column,t)}return n&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),n?this.$updateWrapData(r,s):this.$updateRowLengthCache(r,s),l},this.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,i,s=this.doc.getAllLines(),o=this.getTabSize(),a=this.$wrapData,l=this.$wrapLimit,h=e;for(t=Math.min(t,s.length-1);t>=h;)if(i=this.getFoldLine(h,i)){for(n=[],i.walk(function(e,t,i,r){var o;if(e){o=this.$getDisplayTokens(e,n.length),o[0]=f;for(var a=1;o.length>a;a++)o[a]=g}else o=this.$getDisplayTokens(s[t].substring(r,i),n.length);n=n.concat(o)}.bind(this),i.end.row,s[i.end.row].length+1);0!=n.length&&n[n.length-1]>=m;)n.pop();a[i.start.row]=this.$computeWrapSplits(n,l,o),h=i.end.row+1}else n=this.$getDisplayTokens(r.stringTrimRight(s[h])),a[h]=this.$computeWrapSplits(n,l,o),h++};var a=1,c=2,f=3,g=4,p=9,m=10,v=11,A=12;this.$computeWrapSplits=function(e,t){function n(t){var n=e.slice(s,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),o+=r,i.push(o),s=t}if(0==e.length)return[];for(var i=[],r=e.length,s=0,o=0;r-s>t;){var a=s+t;if(e[a]>=m){for(;e[a]>=m;)a++;n(a)}else if(e[a]!=f&&e[a]!=g){for(var l=Math.max(a-10,s-1);a>l&&f>e[a];)a--;for(;a>l&&e[a]==p;)a--;a>l?n(++a):(a=s+t,n(a))}else{for(a;a!=s-1&&e[a]!=f;a--);if(a>s){n(a);continue}for(a=s+t;e.length>a&&e[a]==g;a++);if(a==e.length)break;n(a)}}return i},this.$getDisplayTokens=function(e,n){var i,r=[];n=n||0;for(var s=0;e.length>s;s++){var o=e.charCodeAt(s);if(9==o){i=this.getScreenTabSize(r.length+n),r.push(v);for(var l=1;i>l;l++)r.push(A)}else 32==o?r.push(m):o>39&&48>o||o>57&&64>o?r.push(p):o>=4352&&t(o)?r.push(a,c):r.push(a)}return r},this.$getStringScreenWidth=function(e,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var r,s;for(s=0;e.length>s&&(r=e.charCodeAt(s),i+=9==r?this.getScreenTabSize(i):r>=4352&&t(r)?2:1,!(i>n));s++);return[i,s]},this.getRowLength=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(0>e)return{row:0,column:0};var n,i,r=0,s=0,o=0,a=0,l=this.$screenRowCache,h=this.$getRowCacheIndex(l,e);if(h>0&&l.length>h)var o=l[h],r=this.$docRowCache[h],c=e>o||e==o&&h==l.length-1;else var c=!0;for(var u=this.getLength()-1,d=this.getNextFoldLine(r),f=d?d.start.row:1/0;e>=o&&(a=this.getRowLength(r),!(o+a-1>=e||r>=u));)o+=a,r++,r>f&&(r=d.end.row+1,d=this.getNextFoldLine(r,d),f=d?d.start.row:1/0),c&&(this.$docRowCache.push(r),this.$screenRowCache.push(o));if(d&&r>=d.start.row)n=this.getFoldDisplayLine(d),r=d.start.row;else{if(e>=o+a||r>u)return{row:u,column:this.getLine(u).length};n=this.getLine(r),d=null}if(this.$useWrapMode){var g=this.$wrapData[r];g&&(i=g[e-o],e>o&&g.length&&(s=g[e-o-1]||g[g.length-1],n=n.substring(s)))}return s+=this.$getStringScreenWidth(n,t)[1],this.$useWrapMode&&s>=i&&(s=i-1),d?d.idxToPosition(s):{row:r,column:s}},this.documentToScreenPosition=function(e,t){if(t===void 0)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i=0,r=null,s=null;s=this.getFoldAt(e,t,1),s&&(e=s.start.row,t=s.start.column);var o,a=0,l=this.$docRowCache,h=this.$getRowCacheIndex(l,e);if(h>0&&l.length>h)var a=l[h],i=this.$screenRowCache[h],c=e>a||e==a&&h==l.length-1;else var c=!0;for(var u=this.getNextFoldLine(a),d=u?u.start.row:1/0;e>a;){if(a>=d){if(o=u.end.row+1,o>e)break;u=this.getNextFoldLine(o,u),d=u?u.start.row:1/0}else o=a+1;i+=this.getRowLength(a),a=o,c&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var f="";if(u&&a>=d?(f=this.getFoldDisplayLine(u,e,t),r=u.start.row):(f=this.getLine(e).substring(0,t),r=e),this.$useWrapMode){for(var g=this.$wrapData[r],p=0;f.length>=g[p];)i++,p++;f=f.substring(g[p-1]||0,f.length)}return{row:i,column:this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,t=this.$foldData[r++],s=t?t.start.row:1/0;n>i;)e+=this.$wrapData[i].length+1,i++,i>s&&(i=t.end.row+1,t=this.$foldData[r++],s=t?t.start.row:1/0);else{e=this.getLength();for(var o=this.$foldData,r=0;o.length>r;r++)t=o[r],e-=t.end.row-t.start.row}return e}}).call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),t.EditSession=f}),define("ace/config",["require","exports","module","ace/lib/lang"],function(e,t,n){function i(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var r=e("./lib/lang"),s=function(){return this}(),o={packaged:!1,workerPath:"",modePath:"",themePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!o.hasOwnProperty(e))throw Error("Unknown config key: "+e);return o[e]},t.set=function(e,t){if(!o.hasOwnProperty(e))throw Error("Unknown config key: "+e);o[e]=t},t.all=function(){return r.copyObject(o)},t.moduleUrl=function(e,t){if(o.$moduleUrls[e])return o.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var i=n[n.length-1].replace(t,"").replace(/(^[\-_])|([\-_]$)/,"");return!i&&n.length>1&&(i=n[n.length-2]),this.get(t+"Path")+"/"+t+"-"+i+this.get("suffix")},t.setModuleUrl=function(e,t){return o.$moduleUrls[e]=t},t.init=function(){if(o.packaged=e.packaged||n.packaged||s.define&&define.packaged,!s.document)return"";for(var r={},a="",l=document.getElementsByTagName("script"),h=0;l.length>h;h++){var c=l[h],u=c.src||c.getAttribute("src");if(u){for(var d=c.attributes,f=0,g=d.length;g>f;f++){var p=d[f];0===p.name.indexOf("data-ace-")&&(r[i(p.name.replace(/^data-ace-/,""))]=p.value)}var m=u.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);m&&(a=m[1])}}a&&(r.base=r.base||a,r.packaged=!0),r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base;for(var v in r)r[v]!==void 0&&t.set(v,r[v])}}),define("ace/lib/net",["require","exports","module","ace/lib/useragent"],function(e,t){var n=e("./useragent");t.get=function(e,n){var i=t.createXhr();i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&n(i.responseText)},i.send(null)};var i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];t.createXhr=function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(t=0;3>t;t++){n=i[t];try{e=new ActiveXObject(n)}catch(r){}if(e){i=[n];break}}if(!e)throw Error("createXhr(): XMLHttpRequest not available");return e},t.loadScript=function(e,t){var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.src=e,i.appendChild(r),n.isOldIE?r.onreadystatechange=function(){"loaded"==this.readyState&&t()}:r.onload=t}}),define("ace/lib/event_emitter",["require","exports","module"],function(e,t){var n={};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry=this._eventRegistry||{},this._defaultHandlers=this._defaultHandlers||{};var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){t=t||{},t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=function(){this.propagationStopped=!0}),t.preventDefault||(t.preventDefault=function(){this.defaultPrevented=!0});for(var r=0;n.length>r&&(n[r](t),!t.propagationStopped);r++);return i&&!t.defaultPrevented?i(t):void 0}},n.setDefaultHandler=function(e,t){if(this._defaultHandlers=this._defaultHandlers||{},this._defaultHandlers[e])throw Error("The default handler for '"+e+"' is already set");this._defaultHandlers[e]=t},n.on=n.addEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];n||(n=this._eventRegistry[e]=[]),-1==n.indexOf(t)&&n.push(t)},n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t){var n=e("./lib/oop"),i=e("./lib/lang"),r=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,o=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return this.moveCursorTo(this.lead.row,this.lead.column+e),void 0;var t=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();(!i||0!==t.column)&&this.setSelectionAnchor(t.row,t.column+e),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)
})},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(t===void 0){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,t?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0==t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column),s=r.match(/^\s*/);s[0].length==t?this.moveCursorTo(i.row,i.column):this.moveCursorTo(i.row,i.column+s[0].length)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),r=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(t,n,1);return s?(this.moveCursorTo(s.end.row,s.end.column),void 0):((e=this.session.nonTokenRe.exec(r))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=i.substring(n)),n>=i.length?(this.moveCursorTo(t,i.length),this.moveCursorRight(),this.doc.getLength()-1>t&&this.moveCursorWordRight(),void 0):((e=this.session.tokenRe.exec(r))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n),void 0))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column),void 0;var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var s,o=i.stringReverse(r);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(s=this.session.nonTokenRe.exec(o))&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft(),void 0):((s=this.session.tokenRe.exec(o))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n),void 0)},this.$shortWordEndIndex=function(e){var t,n,i=0,r=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,t=this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(n=e[i])&&r.test(n);)i++;if(1>=i)for(s.lastIndex=0;(n=e[i])&&!s.test(n);)if(s.lastIndex=0,i++,r.test(n)){if(i>2){i--;break}for(;(n=e[i])&&r.test(n);)i++;if(i>2)break}}return s.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var s=this.doc.getLength();do e++,i=this.doc.getLine(e);while(s>e&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0==n){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var s=i.stringReverse(r),o=this.$shortWordEndIndex(s);return this.moveCursorTo(t,n-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column);this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e}}).call(o.prototype),t.Selection=o}),define("ace/range",["require","exports","module"],function(e,t){var n=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row==e.start.row&&this.end.row==e.end.row&&this.start.column==e.start.column&&this.end.column==e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(i.row,i.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(i.row,i.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return 0==this.compare(e,t)?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?this.start.row>e?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?this.end.column>=t?0:1:0:this.start.column>t?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};if(this.start.row>t)var r={row:t+1,column:0};if(e>this.start.row)var r={row:e,column:0};if(e>this.end.row)var i={row:e,column:0};return n.fromPoints(r||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var r={row:e,column:t};else var s={row:e,column:t};return n.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row==this.end.row&&this.start.column==this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new n(t.row,t.column,i.row,i.column)}}).call(n.prototype),n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},t.Range=n}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode"],function(e,t){var n=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,r=e("./behaviour").Behaviour,s=e("../unicode"),o=function(){this.$tokenizer=new n((new i).getRules()),this.$behaviour=new r};(function(){this.tokenRe=RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|s])+","g"),this.getTokenizer=function(){return this.$tokenizer},this.toggleCommentLines=function(){},this.getNextLineIndent=function(){return""},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(e){var t=e.match(/^(\s+)/);return t?t[1]:""},this.createWorker=function(){return null},this.createModeDelegates=function(e){if(this.$embeds){this.$modes={};for(var t=0;this.$embeds.length>t;t++)e[this.$embeds[t]]&&(this.$modes[this.$embeds[t]]=new e[this.$embeds[t]]);for(var n=["toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction"],t=0;n.length>t;t++)(function(e){var i=n[t],r=e[i];e[n[t]]=function(){return this.$delegator(i,arguments,r)}})(this)}},this.$delegator=function(e,t,n){for(var i=t[0],r=0;this.$embeds.length>r;r++)if(this.$modes[this.$embeds[r]]){var s=i.split(this.$embeds[r]);if(!s[0]&&s[1]){t[0]=s[1];var o=this.$modes[this.$embeds[r]];return o[e].apply(o,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var i in n)if(n[i][t]){var r=n[i][t].apply(this,arguments);if(r)return r}}}}).call(o.prototype),t.Mode=o}),define("ace/tokenizer",["require","exports","module"],function(e,t){var n=function(e,t){t=t?"g"+t:"g",this.rules=e,this.regExps={},this.matchMappings={};for(var n in this.rules){for(var i=this.rules[n],r=i,s=[],o=0,a=this.matchMappings[n]={},l=0;r.length>l;l++){r[l].regex instanceof RegExp&&(r[l].regex=(""+r[l].regex).slice(1,-1));var h=RegExp("(?:("+r[l].regex+")|(.))").exec("a").length-2,c=r[l].regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+o+1)});if(h>1&&r[l].token.length!==h-1)throw Error("Matching groups and length of the token array don't match in rule #"+l+" of state "+n);a[o]={rule:l,len:h},o+=h,s.push(c)}this.regExps[n]=RegExp("(?:("+s.join(")|(")+")|(.))",t)}};(function(){this.getLineTokens=function(e,t){var n=t||"start",i=this.rules[n],r=this.matchMappings[n],s=this.regExps[n];s.lastIndex=0;for(var o,a=[],l=0,h={type:null,value:""};o=s.exec(e);){for(var c="text",u=null,d=[o[0]],f=0;o.length-2>f;f++)if(void 0!==o[f+1]){u=i[r[f].rule],r[f].len>1&&(d=o.slice(f+2,f+1+r[f].len)),c="function"==typeof u.token?u.token.apply(this,d):u.token,u.next&&(n=u.next,i=this.rules[n],r=this.matchMappings[n],l=s.lastIndex,s=this.regExps[n],s.lastIndex=l);break}if(d[0]){"string"==typeof c&&(d=[d.join("")],c=[c]);for(var f=0;d.length>f;f++)d[f]&&(u&&!u.merge&&"text"!==c[f]||h.type!==c[f]?(h.type&&a.push(h),h={type:c[f],value:d[f]}):h.value+=d[f])}if(l==e.length)break;l=s.lastIndex}return h.type&&a.push(h),{tokens:a,state:n}}}).call(n.prototype),t.Tokenizer=n}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t){var n=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{token:"text",regex:".+"}]}};(function(){this.addRules=function(e,t){for(var n in e){for(var i=e[n],r=0;i.length>r;r++){var s=i[r];s.next&&(s.next=t+s.next)}this.$rules[t+n]=i}},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,r){var s=(new e).getRules();if(r)for(var o=0;r.length>o;o++)r[o]=t+r[o];else{r=[];for(var a in s)r.push(t+a)}this.addRules(s,t);for(var o=0;r.length>o;o++)Array.prototype.unshift.apply(this.$rules[r[o]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds}}).call(i.prototype),t.TextHighlightRules=i}),define("ace/mode/behaviour",["require","exports","module"],function(e,t){var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},n=0;e.length>n;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(n.prototype),t.Behaviour=n}),define("ace/unicode",["require","exports","module"],function(e,t){function n(e){var n=/\w{4}/g;for(var i in e)t.packages[i]=e[i].replace(n,"\\u$&")}t.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})
}),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t){var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,s=e("./anchor").Anchor,o=function(e){this.$lines=[],0==e.length?this.$lines=[""]:Array.isArray(e)?this.insertLines(0,e):this.insert({row:0,column:0},e)};(function(){n.implement(this,i),this.setValue=function(e){var t=this.getLength();this.remove(new r(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},this.$split=0=="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";case"auto":return this.$autoNewLine}},this.$autoNewLine="\n",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e)},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.$lines[e.start.row].substring(e.start.column,e.end.column);var t=this.getLines(e.start.row+1,e.end.row-1);return t.unshift((this.$lines[e.start.row]||"").substring(e.start.column)),t.push((this.$lines[e.end.row]||"").substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t&&(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length),e},this.insert=function(e,t){if(!t||0===t.length)return e;e=this.$clipPosition(e),1>=this.getLength()&&this.$detectNewLine(t);var n=this.$split(t),i=n.splice(0,1)[0],r=0==n.length?null:n.splice(n.length-1,1)[0];return e=this.insertInLine(e,i),null!==r&&(e=this.insertNewLine(e),e=this.insertLines(e.row,n),e=this.insertInLine(e,r||"")),e},this.insertLines=function(e,t){if(0==t.length)return{row:e,column:0};if(t.length>65535){var n=this.insertLines(e,t.slice(65535));t=t.slice(0,65535)}var i=[e,0];i.push.apply(i,t),this.$lines.splice.apply(this.$lines,i);var s=new r(e,0,e+t.length,0),o={action:"insertLines",range:s,lines:t};return this._emit("change",{data:o}),n||s.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var n={row:e.row+1,column:0},i={action:"insertText",range:r.fromPoints(e,n),text:this.getNewLineCharacter()};return this._emit("change",{data:i}),n},this.insertInLine=function(e,t){if(0==t.length)return e;var n=this.$lines[e.row]||"";this.$lines[e.row]=n.substring(0,e.column)+t+n.substring(e.column);var i={row:e.row,column:e.column+t.length},s={action:"insertText",range:r.fromPoints(e,i),text:t};return this._emit("change",{data:s}),i},this.remove=function(e){if(e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end),e.isEmpty())return e.start;var t=e.start.row,n=e.end.row;if(e.isMultiLine()){var i=0==e.start.column?t:t+1,r=n-1;e.end.column>0&&this.removeInLine(n,0,e.end.column),r>=i&&this.removeLines(i,r),i!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,n){if(t!=n){var i=new r(e,t,e,n),s=this.getLine(e),o=s.substring(t,n),a=s.substring(0,t)+s.substring(n,s.length);this.$lines.splice(e,1,a);var l={action:"removeText",range:i,text:o};return this._emit("change",{data:l}),i.start}},this.removeLines=function(e,t){var n=new r(e,0,t+1,0),i=this.$lines.splice(e,t-e+1),s={action:"removeLines",range:n,nl:this.getNewLineCharacter(),lines:i};return this._emit("change",{data:s}),i},this.removeNewLine=function(e){var t=this.getLine(e),n=this.getLine(e+1),i=new r(e,t.length,e+1,0),s=t+n;this.$lines.splice(e,2,s);var o={action:"removeText",range:i,text:this.getNewLineCharacter()};this._emit("change",{data:o})},this.replace=function(e,t){if(0==t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;if(this.remove(e),t)var n=this.insert(e.start,t);else n=e.start;return n},this.applyDeltas=function(e){for(var t=0;e.length>t;t++){var n=e[t],i=r.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this.insertLines(i.start.row,n.lines):"insertText"==n.action?this.insert(i.start,n.text):"removeLines"==n.action?this.removeLines(i.start.row,i.end.row-1):"removeText"==n.action&&this.remove(i)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],i=r.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this.removeLines(i.start.row,i.end.row-1):"insertText"==n.action?this.remove(i):"removeLines"==n.action?this.insertLines(i.start.row,n.lines):"removeText"==n.action&&this.insert(i.start,n.text)}}}).call(o.prototype),t.Document=o}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=t.Anchor=function(e,t,n){this.document=e,n===void 0?this.setPosition(t.row,t.column):this.setPosition(t,n),this.$onChange=this.onChange.bind(this),e.on("change",this.$onChange)};(function(){n.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.onChange=function(e){var t=e.data,n=t.range;if(!(n.start.row==n.end.row&&n.start.row!=this.row||n.start.row>this.row||n.start.row==this.row&&n.start.column>this.column)){var i=this.row,r=this.column;"insertText"===t.action?n.start.row===i&&r>=n.start.column?n.start.row===n.end.row?r+=n.end.column-n.start.column:(r-=n.start.column,i+=n.end.row-n.start.row):n.start.row!==n.end.row&&i>n.start.row&&(i+=n.end.row-n.start.row):"insertLines"===t.action?i>=n.start.row&&(i+=n.end.row-n.start.row):"removeText"==t.action?n.start.row==i&&r>n.start.column?r=n.end.column>=r?n.start.column:Math.max(0,r-(n.end.column-n.start.column)):n.start.row!==n.end.row&&i>n.start.row?(n.end.row==i&&(r=Math.max(0,r-n.end.column)+n.start.column),i-=n.end.row-n.start.row):n.end.row==i&&(i-=n.end.row-n.start.row,r=Math.max(0,r-n.end.column)+n.start.column):"removeLines"==t.action&&i>=n.start.row&&(i>=n.end.row?i-=n.end.row-n.start.row:(i=n.start.row,r=0)),this.setPosition(i,r,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._emit("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>e?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),0>t&&(n.column=0),n}}).call(r.prototype)}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=5e3,s=function(e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,i=t.doc,r=0,s=i.getLength();s>t.currentLine;){for(t.$tokenizeRow(t.currentLine);t.lines[t.currentLine];)t.currentLine++;if(r++,0==r%5&&new Date-e>20)return t.fireUpdateEvent(n,t.currentLine-1),t.running=setTimeout(t.$worker,20),void 0}t.running=!1,t.fireUpdateEvent(n,s-1)}}};(function(){n.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._emit("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.$updateOnChange=function(e){var t=e.range,n=t.start.row,i=t.end.row-n;if(0===i)this.lines[n]=null;else if("removeText"==e.action||"removeLines"==e.action)this.lines.splice(n,i+1,null),this.states.splice(n,i+1,null);else{var r=Array(i+1);r.unshift(n,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop(),this.running=setTimeout(this.$worker,700)},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1];if(t.length>r){var i={value:t.substr(r),type:"text"};t=t.slice(0,r)}var s=this.tokenizer.getLineTokens(t,n);return i&&(s.tokens.push(i),s.state="start"),this.states[e]!==s.state?(this.states[e]=s.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=s.tokens}}).call(s.prototype),t.BackgroundTokenizer=s}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){var n=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),r=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,r,s){if(this.regExp)for(var o=s.firstRow,a=s.lastRow,l=o;a>=l;l++){var h=this.cache[l];null==h&&(h=n.getMatchOffsets(r.getLine(l),this.regExp),h=h.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=h.length?h:"");for(var c=h.length;c--;)t.drawSingleLineMarker(e,h[c].toScreenRange(r),this.clazz,s,null,this.type)}}}).call(r.prototype),t.SearchHighlight=r}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t){function n(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,s=0;r.length>s;s++){var o=r[s];if(o.range.contains(e,t)){if(1==n&&o.range.isEnd(e,t))continue;if(-1==n&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){e=e.clone();var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var s=0;i.length>s;s++){var o=i[s].range.compareRange(e);if(2!=o){if(-2==o)break;for(var a=i[s].folds,l=0;a.length>l;l++){var h=a[l];if(o=h.range.compareRange(e),-2==o)break;if(2!=o){if(42==o)break;r.push(h)}}}}return r},this.getAllFolds=function(){function e(n){if(t.push(n),n.subFolds)for(var i=0;n.subFolds.length>i;i++)e(n.subFolds[i])}for(var t=[],n=this.$foldData,i=0;n.length>i;i++)for(var r=0;n[i].folds.length>r;r++)e(n[i].folds[r]);return t},this.getFoldStringAt=function(e,t,n,i){if(i=i||this.getFoldLine(e),!i)return null;for(var r,s,o={end:{column:0}},a=0;i.folds.length>a;a++){s=i.folds[a];var l=s.range.compareEnd(e,t);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==n?r.substring(0,t-o.end.column):1==n?r.substring(t-o.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;n.length>i;i++){var r=n[i];if(e>=r.start.row&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;n.length>i;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;n.length>r;r++){var s=n[r],o=s.end.row,a=s.start.row;if(o>=t){t>a&&(a>=e?i-=t-a:i=0);break}o>=e&&(i-=a>=e?o-a:o-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,i=this.$foldData,o=!1;n=e instanceof s?e:new s(t,e),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,h=n.end.row,c=n.end.column;if(2>n.placeholder.length)throw"Placeholder has to be at least 2 characters";if(a==h&&2>c-l)throw"The range has to be at least 2 characters width";var u=this.getFoldAt(a,l,1),d=this.getFoldAt(h,c,-1);if(u&&d==u)return u.addSubFold(n);if(u&&!u.range.isStart(a,l)||d&&!d.range.isEnd(h,c))throw"A fold can't intersect already existing fold"+n.range+u.range;var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),n.subFolds=f);for(var g=0;i.length>g;g++){var p=i[g];if(h==p.start.row){p.addFold(n),o=!0;break}if(a==p.end.row){if(p.addFold(n),o=!0,!n.sameRow){var m=i[g+1];if(m&&m.start.row==h){p.merge(m);break}}break}if(p.start.row>=h)break}return o||(p=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(p.start.row,p.start.row):this.$updateRowLengthCache(p.start.row,p.start.row),this.$modified=!0,this._emit("changeFold",{data:n}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,s=t.folds;if(1==s.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i),this.$modified=!0,this._emit("changeFold",{data:e})},this.removeFolds=function(e){for(var t=[],n=0;e.length>n;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(e){this.addFold(e)},this),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(n=null==e?new i(0,0,this.getLength(),0):"number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRange(n),t)this.removeFolds(r);else for(;r.length;)this.expandFolds(r),r=this.getFoldsInRange(n)},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row,r=0),null==t&&(t=e.end.row,n=this.getLine(t).length);var s=this.doc,o="";return e.walk(function(e,t,n,a){if(!(i>t)){if(t==i){if(r>n)return;a=Math.max(r,a)}o+=e?e:s.getLine(t).substring(a,n)}}.bind(this),t,n),o},this.getDisplayLine=function(e,t,n,i){var r=this.getFoldLine(e);if(!r){var s;return s=this.doc.getLine(e),s.substring(i||0,t||s.length)}return this.getFoldDisplayLine(r,e,t,n,i)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new r(e,n)})},this.toggleFold=function(e){var t,n,i=this.selection,r=i.getRange();if(r.isEmpty()){var s=r.start;if(t=this.getFoldAt(s.row,s.column))return this.expandFold(t),void 0;(n=this.findMatchingBracket(s))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(s.row,s.column)||r}else{var o=this.getFoldsInRange(r);if(e&&o.length)return this.expandFolds(o),void 0;1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&""+t.range==""+r)return this.expandFold(t),void 0;var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),4>a.length)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(e,t){var n=new o(this,e,t),r=n.getCurrentToken();if(r&&/^comment|string/.test(r.type)){var s=new i,a=RegExp(r.type.replace(/\..*/,"\\."));do r=n.stepBackward();while(r&&a.test(r.type));n.stepForward(),s.start.row=n.getCurrentTokenRow(),s.start.column=n.getCurrentTokenColumn()+2,n=new o(this,e,t);do r=n.stepForward();while(r&&a.test(r.type));return r=n.stepBackward(),s.end.row=n.getCurrentTokenRow(),s.end.column=n.getCurrentTokenColumn()+r.value.length,s}},this.foldAll=function(e,t){var n=this.foldWidgets;t=t||this.getLength();for(var i=e||0;t>i;i++)if(null==n[i]&&(n[i]=this.getFoldWidget(i)),"start"==n[i]){var r=this.getFoldWidgetRange(i);if(r&&t>r.end.row)try{this.addFold("...",r)}catch(s){}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){return this.$foldMode!=e?(this.$foldMode=e,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),void 0):(this.foldWidgets=null,void 0)):void 0},this.onFoldWidgetClick=function(e,t){var n,i=this.getFoldWidget(e),r=this.getLine(e),s=t.shiftKey,o=s||t.ctrlKey||t.altKey||t.metaKey;if(n="end"==i?this.getFoldAt(e,0,-1):this.getFoldAt(e,r.length,1))return o?this.removeFold(n):this.expandFold(n),void 0;var a=this.getFoldWidgetRange(e);if(a){if(!a.isMultiLine()&&(n=this.getFoldAt(a.start.row,a.start.column,1),n&&a.isEqual(n.range)))return this.removeFold(n),void 0;s||this.addFold("...",a),o&&this.foldAll(a.start.row+1,a.end.row)}else o&&this.foldAll(e+1,this.getLength()),(t.target||t.srcElement).className+=" invalid"},this.updateFoldWidgets=function(e){var t=e.data,n=t.range,i=n.start.row,r=n.end.row-i;if(0===r)this.foldWidgets[i]=null;else if("removeText"==t.action||"removeLines"==t.action)this.foldWidgets.splice(i,r+1,null);else{var s=Array(r+1);s.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,s)}}}var i=e("../range").Range,r=e("./fold_line").FoldLine,s=e("./fold").Fold,o=e("../token_iterator").TokenIterator;t.Folding=n}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t){function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw"Can't add a fold to this FoldLine as it has no connection";this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):0>this.range.compareStart(e.end.row,e.end.column)&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw"Trying to add fold to FoldRow that doesn't have a matching row";this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&this.end.row>=e},this.walk=function(e,t,n){var i,r,s,o=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var h=0;a.length>h;h++){if(i=a[h],r=i.range.compareStart(t,n),-1==r)return e(null,t,n,o,l),void 0;if(s=e(null,i.start.row,i.start.column,o,l),s=!s&&e(i.placeholder,i.start.row,i.start.column,o),s||0==r)return;l=!i.sameRow,o=i.end.column}e(null,t,n,o,l)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;this.folds.length>r;r++){if(n=this.folds[r],i=n.range.compareEnd(e,t),-1==i)return{fold:n,kind:"after"};if(0==i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,s=this.getNextFoldTo(e,t);if(s)if(i=s.fold,"inside"==s.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){r=this.folds;var o=r.indexOf(i);for(0==o&&(this.start.column+=n),o;r.length>o;o++){if(i=r[o],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var i=this.getNextFoldTo(e,t).fold,r=this.folds,s=this.foldData;if(!i)return null;var o=r.indexOf(i),a=r[o-1];this.end.row=a.end.row,this.end.column=a.end.column,r=r.splice(o,r.length-o);var l=new n(s,r);return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,n=0;t.length>n;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[""+this.range+": ["];return this.folds.forEach(function(t){e.push("  "+(""+t))}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t,n=0,i=0;this.folds.length>i;i++){var t=this.folds[i];if(e-=t.start.column-n,0>e)return{row:t.start.row,column:t.start.column+e};if(e-=t.placeholder.length,0>e)return t.start;n=t.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(n.prototype),t.FoldLine=n}),define("ace/edit_session/fold",["require","exports","module"],function(e,t){var n=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=[]};(function(){this.toString=function(){return'"'+this.placeholder+'" '+(""+this.range)},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new n(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t},this.addSubFold=function(e){if(this.range.isEqual(e))return this;if(!this.range.containsRange(e))throw"A fold can't intersect already existing fold"+e.range+this.range;for(var t=e.range.start.row,n=e.range.start.column,i=0,r=-1;this.subFolds.length>i&&(r=this.subFolds[i].range.compare(t,n),1==r);i++);var s=this.subFolds[i];if(0==r)return s.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,o=i,r=-1;this.subFolds.length>o&&(r=this.subFolds[o].range.compare(t,n),1==r);o++);if(this.subFolds[o],0==r)throw"A fold can't intersect already existing fold"+e.range+this.range;return this.subFolds.splice(i,o-i,e),e.setFoldLine(this.foldLine),e}}).call(n.prototype)}),define("ace/token_iterator",["require","exports","module"],function(e,t){var n=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;0>this.$tokenIndex;){if(this.$row-=1,0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e=this.$session.getLength();for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n}}).call(n.prototype),t.TokenIterator=n}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t){function n(){this.findMatchingBracket=function(e){if(0==e.column)return null;var t=this.getLine(e.row).charAt(e.column-1);if(""==t)return null;var n=t.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,s=n.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=n.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){var a=this.$findClosingBracket(o[1],e);if(!a)return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(o[2],e);if(!a)return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,h=a.value;;){for(;l>=0;){var c=h.charAt(l);if(c==r){if(s-=1,0==s)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else c==e&&(s+=1);l-=1}do a=o.stepBackward();while(a&&!n.test(a.type));if(null==a)break;h=a.value,l=h.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var h=a.value,c=h.length;c>l;){var u=h.charAt(l);if(u==r){if(s-=1,0==s)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==e&&(s+=1);l+=1}do a=o.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=n}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){var n=e("./lib/lang"),i=e("./lib/oop"),r=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$matchIterator(e,this.$options);if(!t)return!1;var n=null;return t.forEach(function(e,t,i){if(e.start)n=e;else{var s=e.offset+(i||0);n=new r(t,s,t,s+e.length)}return!0}),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,s=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine)for(var l=a.length,h=s.length-l,c=a.offset||0;h>=c;c++){for(var u=0;l>u&&-1!=s[c+u].search(a[u]);u++);var d=s[c],f=s[c+l-1],g=d.match(a[0])[0].length,p=f.match(a[l-1])[0].length;o.push(new r(c,d.length-g,c+l-1,p))}else for(var m=0;s.length>m;m++)for(var v=n.getMatchOffsets(s[m],a),u=0;v.length>u;u++){var A=v[u];o.push(new r(m,A.offset,m,A.offset+A.length))}if(i){for(var C=i.start.column,E=i.start.column,m=0,u=o.length-1;u>m&&C>o[m].start.column&&o[m].start.row==i.start.row;)m++;for(;u>m&&o[u].end.column>E&&o[u].end.row==i.end.row;)u--;return o.slice(m,u+1)}return o},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];t[s]=o&&o.toLowerCase()!=o?t[s].toUpperCase():t[s].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var s,o=this,a=t.backwards;if(t.$isMultiLine)var l=i.length,h=function(t,n,o){var a=t.search(i[0]);if(-1!=a){for(var h=1;l>h;h++)if(t=e.getLine(n+h),-1==t.search(i[h]))return;var c=t.match(i[l-1])[0].length,u=new r(n,a,n+l-1,c);return 1==i.offset?(u.start.row--,u.start.column=Number.MAX_VALUE):o&&(u.start.column+=o),s(u)?!0:void 0}};else if(a)var h=function(e,t,r){for(var o=n.getMatchOffsets(e,i),a=o.length-1;a>=0;a--)if(s(o[a],t,r))return!0};else var h=function(e,t,r){for(var o=n.getMatchOffsets(e,i),a=0;o.length>a;a++)if(s(o[a],t,r))return!0};return{forEach:function(n){s=n,o.$lineIterator(e,t).forEach(h)}}},this.$assembleRegExp=function(e){if(e.needle instanceof RegExp)return e.re=e.needle;var t=e.needle;if(!e.needle)return e.re=!1;e.regExp||(t=n.escapeRegExp(t)),e.wholeWord&&(t="\\b"+t+"\\b");var i=e.caseSensitive?"g":"gi";if(e.$isMultiLine=/[\n\r]/.test(t),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(t,i);try{var r=RegExp(t,i)}catch(s){r=!1}return e.re=r},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;n.length>r;r++)try{i.push(RegExp(n[r],t))}catch(s){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(e,t){var n=1==t.backwards,i=0!=t.skipCurrent,r=t.range,s=t.start;s||(s=r?r[n?"end":"start"]:e.selection.getRange()),s.start&&(s=s[i!=n?"end":"start"]);var o=r?r.start.row:0,a=r?r.end.row:e.getLength()-1,l=n?function(n){var i=s.row,r=e.getLine(i).substring(0,s.column);if(!n(r,i)){for(i--;i>=o;i--)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=a,o=s.row;i>=o;i--)if(n(e.getLine(i),i))return}}:function(n){var i=s.row,r=e.getLine(i).substr(s.column);if(!n(r,i,s.column)){for(i+=1;a>=i;i++)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=o,a=s.row;a>=i;i++)if(n(e.getLine(i),i))return}};return{forEach:l}}}).call(s.prototype),t.Search=s}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t){var n=e("../lib/oop"),i=e("../keyboard/hash_handler").HashHandler,r=e("../lib/event_emitter").EventEmitter,s=function(e,t){this.platform=e,this.commands={},this.commmandKeyBinding={},this.addCommands(t),this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(s,i),function(){n.implement(this,r),this.exec=function(e,t,n){if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var i=this._emit("exec",{editor:t,command:e,args:n});return i===!1?!1:!0},this.toggleRecording=function(e){return this.$inReplay?void 0:(e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e
})}}.call(s.prototype),t.CommandManager=s}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys"],function(e,t){function n(e,t){this.platform=t,this.commands={},this.commmandKeyBinding={},this.addCommands(e)}var i=e("../lib/keys");(function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e){var t="string"==typeof e?e:e.name;e=this.commands[t],delete this.commands[t];var n=this.commmandKeyBinding;for(var i in n)for(var r in n[i])n[i][r]==e&&delete n[i][r]},this.bindKey=function(e,t){if(e){if("function"==typeof t)return this.addCommand({exec:t,bindKey:e,name:e}),void 0;var n=this.commmandKeyBinding;e.split("|").forEach(function(e){var i=this.parseKeys(e,t),r=i.hashId;(n[r]||(n[r]={}))[i.key]=t},this)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];return"string"==typeof n?this.bindKey(n,t):("function"==typeof n&&(n={exec:n}),n.name||(n.name=t),this.addCommand(n),void 0)},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){var t=e.bindKey;if(t){var n="string"==typeof t?t:t[this.platform];this.bindKey(n,e)}},this.parseKeys=function(e){for(var t,n=0,r=e.toLowerCase().trim().split(/\s*\-\s*/),s=0,o=r.length;o>s;s++)i.KEY_MODS[r[s]]?n|=i.KEY_MODS[r[s]]:t=r[s]||"-";return"text"==r[0]&&2==r.length&&(n=-1,t=r[1]),{key:t,hashId:n}},this.findKeyCommand=function(e,t){var n=this.commmandKeyBinding;return n[e]&&n[e][t.toLowerCase()]},this.handleKeyboard=function(e,t,n){return{command:this.findKeyCommand(t,n)}}}).call(n.prototype),t.HashHandler=n}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang"],function(e,t){function n(e,t){return{win:e,mac:t}}var i=e("../lib/lang");t.commands=[{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},readOnly:!0},{name:"foldall",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll()},readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){var t=prompt("Find:",e.getCopyText());e.find(t)},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectup",bindKey:n("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P",null),exec:function(e){e.jumpToMatching(!0)},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},multiSelectAction:"forEach"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},multiSelectAction:"forEach"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},multiSelectAction:"forEach"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-R","Command-Option-F"),exec:function(e){var t=prompt("Find:",e.getCopyText());if(t){var n=prompt("Replacement:");n&&e.replace(n,{needle:t})}}},{name:"replaceall",bindKey:n("Ctrl-Shift-R","Command-Shift-Option-F"),exec:function(e){var t=prompt("Find:");if(t){var n=prompt("Replacement:");n&&e.replaceAll(n,{needle:t})}}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()}},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()}},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()}},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()}},{name:"del",bindKey:n("Delete","Delete|Ctrl-D"),exec:function(e){e.remove("right")},multiSelectAction:"forEach"},{name:"backspace",bindKey:n("Command-Backspace|Option-Backspace|Shift-Backspace|Backspace","Ctrl-Backspace|Command-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)}},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach"}]}),define("ace/undomanager",["require","exports","module"],function(e,t){var n=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],this.$undoStack.push(t),this.$redoStack=[]},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t)),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(t,e),this.$undoStack.push(t)),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[]},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0}}).call(n.prototype),t.UndoManager=n}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/useragent","ace/config","ace/lib/net","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","ace/lib/event_emitter","ace/requirejs/text!ace/css/editor.css"],function(e,t){var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./lib/event"),s=e("./lib/useragent"),o=e("./config"),a=e("./lib/net"),l=e("./layer/gutter").Gutter,h=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,d=e("./scrollbar").ScrollBar,f=e("./renderloop").RenderLoop,g=e("./lib/event_emitter").EventEmitter,p=e("ace/requirejs/text!./css/editor.css");i.importCssString(p,"ace_editor");var m=function(e,t){var n=this;this.container=e,this.$keepTextAreaAtCursor=!s.isIE,i.addCssClass(e,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.setHighlightGutterLine(!0),this.$gutterLayer=new l(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onResize.bind(this,!0)),this.$markerBack=new h(this.content);var o=this.$textLayer=new c(this.content);this.canvas=o.element,this.$markerFront=new h(this.content),this.characterWidth=o.getCharacterWidth(),this.lineHeight=o.getLineHeight(),this.$cursorLayer=new u(this.content),this.$cursorPadding=8,this.$horizScroll=!1,this.$horizScrollAlwaysVisible=!1,this.$animatedScroll=!1,this.scrollBar=new d(e),this.scrollBar.addEventListener("scroll",function(e){n.$inScrollAnimation||n.session.setScrollTop(e.data)}),this.scrollTop=0,this.scrollLeft=0,r.addListener(this.scroller,"scroll",function(){var e=n.scroller.scrollLeft;n.scrollLeft=e,n.session.setScrollLeft(e)}),this.cursorPos={row:0,column:0},this.$textLayer.addEventListener("changeCharacterSize",function(){n.characterWidth=o.getCharacterWidth(),n.lineHeight=o.getLineHeight(),n.$updatePrintMargin(),n.onResize(!0),n.$loop.schedule(n.CHANGE_FULL)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:1,characterWidth:1,minHeight:1,maxHeight:1,offset:0,height:1},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.setPadding(4),this.$updatePrintMargin()};(function(){this.showGutter=!0,this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,g),this.setSession=function(e){this.session=e,this.scroller.className="ace_scroller",this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),this.$loop.schedule(this.CHANGE_FULL)},this.updateLines=function(e,t){void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),t>this.$changedLines.lastRow&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$loop.schedule(this.CHANGE_LINES)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.onResize=function(e,t,n,r){var s=this.CHANGE_SIZE,o=this.$size;if(!(this.resizing>2)){if(this.resizing>1?this.resizing++:this.resizing=e?1:0,r||(r=i.getInnerHeight(this.container)),(e||o.height!=r)&&(o.height=r,this.scroller.style.height=r+"px",o.scrollerHeight=this.scroller.clientHeight,this.scrollBar.setHeight(o.scrollerHeight),this.session&&(this.session.setScrollTop(this.getScrollTop()),s|=this.CHANGE_FULL)),n||(n=i.getInnerWidth(this.container)),e||this.resizing>1||o.width!=n){o.width=n;var t=this.showGutter?this.$gutter.offsetWidth:0;this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBar.getWidth()),this.scroller.style.right=this.scrollBar.getWidth()+"px",(this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)}e?this.$renderChanges(s,!0):this.$loop.schedule(s),e&&delete this.resizing}},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t)},this.setAnimatedScroll=function(e){this.$animatedScroll=e},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},this.getShowInvisibles=function(){return this.$textLayer.showInvisibles},this.getDisplayIndentGuides=function(){return this.$textLayer.displayIndentGuides},this.setDisplayIndentGuides=function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},this.$showPrintMargin=!0,this.setShowPrintMargin=function(e){this.$showPrintMargin=e,this.$updatePrintMargin()},this.getShowPrintMargin=function(){return this.$showPrintMargin},this.$printMarginColumn=80,this.setPrintMarginColumn=function(e){this.$printMarginColumn=e,this.$updatePrintMargin()},this.getPrintMarginColumn=function(){return this.$printMarginColumn},this.getShowGutter=function(){return this.showGutter},this.setShowGutter=function(e){this.showGutter!==e&&(this.$gutter.style.display=e?"block":"none",this.showGutter=e,this.onResize(!0))},this.getFadeFoldWidgets=function(){return i.hasCssClass(this.$gutter,"ace_fade-fold-widgets")},this.setFadeFoldWidgets=function(e){e?i.addCssClass(this.$gutter,"ace_fade-fold-widgets"):i.removeCssClass(this.$gutter,"ace_fade-fold-widgets")},this.$highlightGutterLine=!1,this.setHighlightGutterLine=function(e){return this.$highlightGutterLine!=e?(this.$highlightGutterLine=e,this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight(),void 0):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter_active_line",this.$gutter.appendChild(this.$gutterLineHighlight),void 0)):void 0},this.getHighlightGutterLine=function(){return this.$highlightGutterLine},this.$updateGutterLineHighlight=function(){this.$gutterLineHighlight.style.top=this.$cursorLayer.$pixelPos.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=this.layerConfig.lineHeight+"px"},this.$updatePrintMargin=function(){var e;if(this.$showPrintMargin||this.$printMarginEl){this.$printMarginEl||(e=i.createElement("div"),e.className="ace_print_margin_layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print_margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.$textLayer.element));var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden"}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.$cursorLayer.$pixelPos.top,t=this.$cursorLayer.$pixelPos.left;if(e-=this.layerConfig.offset,!(0>e||e>this.layerConfig.height-this.lineHeight)){var n=this.characterWidth;this.$composition&&(n+=this.textarea.scrollWidth),t-=this.scrollLeft,t>this.$size.scrollerWidth-n&&(t=this.$size.scrollerWidth-n),this.showGutter&&(t+=this.$gutterLayer.gutterWidth),this.textarea.style.height=this.lineHeight+"px",this.textarea.style.width=n+"px",this.textarea.style.left=t+"px",this.textarea.style.top=e-1+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.getHScrollBarAlwaysVisible=function(){return this.$horizScrollAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.$horizScrollAlwaysVisible!=e&&(this.$horizScrollAlwaysVisible=e,(!this.$horizScrollAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL))},this.$updateScrollBar=function(){this.scrollBar.setInnerHeight(this.layerConfig.maxHeight),this.scrollBar.setScrollTop(this.scrollTop)},this.$renderChanges=function(e,t){if(t||e&&this.session&&this.container.offsetWidth){if((e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL)&&this.$computeLayerConfig(),e&this.CHANGE_H_SCROLL){this.scroller.scrollLeft=this.scrollLeft;var n=this.scroller.scrollLeft;this.scrollLeft=n,this.session.setScrollLeft(n),this.scroller.className=0==this.scrollLeft?"ace_scroller":"ace_scroller horscroll"}return e&this.CHANGE_FULL?(this.$textLayer.checkForSizeChanges(),this.$updateScrollBar(),this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void 0):e&this.CHANGE_SCROLL?(this.$updateScrollBar(),e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void 0):(e&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.showGutter)&&this.$gutterLayer.update(this.layerConfig):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.showGutter&&this.$gutterLayer.update(this.layerConfig),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),e&this.CHANGE_SIZE&&this.$updateScrollBar(),void 0)}},this.$computeLayerConfig=function(){var e=this.session,t=this.scrollTop%this.lineHeight,n=this.$size.scrollerHeight+this.lineHeight,i=this.$getLongestLine(),r=this.$horizScrollAlwaysVisible||0>this.$size.scrollerWidth-i,s=this.$horizScroll!==r;this.$horizScroll=r,s&&(this.scroller.style.overflowX=r?"scroll":"hidden",r||this.session.setScrollLeft(0));var o=this.session.getScreenLength()*this.lineHeight;this.session.setScrollTop(Math.max(0,Math.min(this.scrollTop,o-this.$size.scrollerHeight)));var a,l,h=Math.ceil(n/this.lineHeight)-1,c=Math.max(0,Math.round((this.scrollTop-t)/this.lineHeight)),u=c+h,d=this.lineHeight;c=e.screenToDocumentRow(c,0);var f=e.getFoldLine(c);f&&(c=f.start.row),a=e.documentToScreenRow(c,0),l=e.getRowLength(c)*d,u=Math.min(e.screenToDocumentRow(u,0),e.getLength()-1),n=this.$size.scrollerHeight+e.getRowLength(u)*d+l,t=this.scrollTop-a*d,this.layerConfig={width:i,padding:this.$padding,firstRow:c,firstRowScreen:a,lastRow:u,lineHeight:d,characterWidth:this.characterWidth,minHeight:n,maxHeight:o,offset:t,height:this.$size.scrollerHeight},this.$gutterLayer.element.style.marginTop=-t+"px",this.content.style.marginTop=-t+"px",this.content.style.width=i+2*this.$padding+"px",this.content.style.height=n+"px",s&&this.onResize(!0)},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||n.firstRow>t))return 1/0===t?(this.showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n),void 0):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.$textLayer.showInvisibles&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),i=n.left,r=n.top;this.scrollTop>r?(t&&(r-=t*this.$size.scrollerHeight),this.session.setScrollTop(r)):this.scrollTop+this.$size.scrollerHeight<r+this.lineHeight&&(t&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight-this.$size.scrollerHeight));var s=this.scrollLeft;s>i?(this.$padding+2*this.layerConfig.characterWidth>i&&(i=0),this.session.setScrollLeft(i)):s+this.$size.scrollerWidth<i+this.characterWidth&&this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=n.top-this.$size.scrollerHeight*(t||0);this.session.setScrollTop(i)},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,r=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;i>n;++n)r.push(s(n/this.STEPS,e,t-e));return r},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}),s=r.top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll&&1e5>Math.abs(e-n)){var i=this,r=i.$calcSteps(e,n);this.$inScrollAnimation=!0,clearInterval(this.$timer),i.session.setScrollTop(r.shift()),this.$timer=setInterval(function(){r.length?(i.session.setScrollTop(r.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$inScrollAnimation=!1,t&&t())},10)}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){0>e&&(e=0),this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return 0>t&&this.session.getScrollTop()>0?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight<this.layerConfig.maxHeight?!0:void 0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=Math.round(i);return{row:r,column:s,side:i-s>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+Math.round(i.column*this.characterWidth),s=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this._loadTheme=function(e,t){return o.get("packaged")?(a.loadScript(o.moduleUrl(e,"theme"),t),void 0):t()},this.setTheme=function(t){function n(e){i.importCssString(e.cssText,e.cssClass,r.container.ownerDocument),r.$theme&&i.removeCssClass(r.container,r.$theme),r.$theme=e?e.cssClass:null,r.$theme&&i.addCssClass(r.container,r.$theme),e&&e.isDark?i.addCssClass(r.container,"ace_dark"):i.removeCssClass(r.container,"ace_dark"),r.$size&&(r.$size.width=0,r.onResize())}var r=this;if(this.$themeValue=t,t&&"string"!=typeof t)n(t);else{var s,o=t||"ace/theme/textmate";try{s=e(o)}catch(a){}if(s)return n(s);r._loadTheme(o,function(){e([o],function(e){r.$themeValue===t&&n(e)})})}},this.getTheme=function(){return this.$themeValue},this.setStyle=function(e){i.addCssClass(this.container,e)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(m.prototype),t.VirtualRenderer=m}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(e,t){var n=e("../lib/dom"),i=e("../lib/oop"),r=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[]};(function(){i.implement(this,r),this.setSession=function(e){this.session=e},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!n)continue;for(var i=this.$annotations[t]={text:[]},r=0;n.length>r;r++){var s=n[r],o=s.text.replace(/"/g,"&quot;").replace(/'/g,"&#8217;").replace(/</,"&lt;");
-1===i.text.indexOf(o)&&i.text.push(o);var a=s.type;"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"==a&&!i.className&&(i.className=" ace_info")}}},this.update=function(e){for(var t={className:""},i=[],r=e.firstRow,s=e.lastRow,o=this.session.getNextFoldLine(r),a=o?o.start.row:1/0,l=this.$showFoldWidgets&&this.session.foldWidgets,h=this.session.$breakpoints,c=this.session.$decorations,u=0;r>a&&(r=o.end.row+1,o=this.session.getNextFoldLine(r,o),a=o?o.start.row:1/0),!(r>s);){var d=this.$annotations[r]||t;if(i.push("<div class='ace_gutter-cell ",h[r]||"",c[r]||"",d.className,"' style='height:",this.session.getRowLength(r)*e.lineHeight,"px;'>",u=r+1),l){var f=l[r];null==f&&(f=l[r]=this.session.getFoldWidget(r)),f&&i.push("<span class='ace_fold-widget ",f,"start"==f&&r==a&&o.end.row>r?" closed":" open","'></span>")}i.push("</div>"),r++}this.element=n.setInnerHtml(this.element,i.join("")),this.element.style.height=e.minHeight+"px",this.session.$useWrapMode&&(u=this.session.getLength());var g=(""+u).length*e.characterWidth,p=this.$padding||this.$computePadding();g+=p.left+p.right,g!==this.gutterWidth&&(this.gutterWidth=g,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",g))},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1,this.$padding.right=parseInt(e.paddingRight),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),t.Gutter=s}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t){var n=e("../range").Range,i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var s=r.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),r.renderer){var o=this.$getTop(s.start.row,e),a=Math.round(this.$padding+s.start.column*e.characterWidth);r.renderer(t,s,a,o,e)}else s.isMultiLine()?"text"==r.type?this.drawTextMarker(t,s,r.clazz,e):this.drawMultiLineMarker(t,s,r.clazz,e,r.type):this.drawSingleLineMarker(t,s,r.clazz+" start",e,null,r.type)}else r.update(t,this,this.session,e)}this.element=i.setInnerHtml(this.element,t.join(""))}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,r){var s=t.start.row,o=new n(s,t.start.column,s,this.session.getScreenLastRowColumn(s));for(this.drawSingleLineMarker(e,o,i+" start",r,1,"text"),s=t.end.row,o=new n(s,0,s,t.end.column),this.drawSingleLineMarker(e,o,i,r,0,"text"),s=t.start.row+1;t.end.row>s;s++)o.start.row=s,o.end.row=s,o.end.column=this.session.getScreenLastRowColumn(s),this.drawSingleLineMarker(e,o,i,r,1,"text")},this.drawMultiLineMarker=function(e,t,n,i,r){var s="background"===r?0:this.$padding,o=i.lineHeight,a=this.$getTop(t.start.row,i),l=Math.round(s+t.start.column*i.characterWidth);e.push("<div class='",n," start' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",l,"px;'></div>"),a=this.$getTop(t.end.row,i);var h=Math.round(t.end.column*i.characterWidth);e.push("<div class='",n,"' style='","height:",o,"px;","width:",h,"px;","top:",a,"px;","left:",s,"px;'></div>"),o=(t.end.row-t.start.row-1)*i.lineHeight,0>o||(a=this.$getTop(t.start.row+1,i),e.push("<div class='",n,"' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",s,"px;'></div>"))},this.drawSingleLineMarker=function(e,t,n,i,r,s){var o="background"===s?0:this.$padding,a=i.lineHeight;if("background"===s)var l=i.width;else l=Math.round((t.end.column+(r||0)-t.start.column)*i.characterWidth);var h=this.$getTop(t.start.row,i),c=Math.round(o+t.start.column*i.characterWidth);e.push("<div class='",n,"' style='","height:",a,"px;","width:",l,"px;","top:",h,"px;","left:",c,"px;'></div>")}}).call(r.prototype),t.Marker=r}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){var n=e("../lib/oop"),i=e("../lib/dom"),r=e("../lib/lang"),s=e("../lib/useragent"),o=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$characterSize=this.$measureSizes()||{width:0,height:0},this.$pollSizeChanges()};(function(){n.implement(this,o),this.EOF_CHAR="¶",this.EOL_CHAR="¬",this.TAB_CHAR="→",this.SPACE_CHAR="·",this.$padding=0,this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$characterSize.height||1},this.getCharacterWidth=function(){return this.$characterSize.width||1},this.checkForSizeChanges=function(){var e=this.$measureSizes();e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)&&(this.$characterSize=e,this._emit("changeCharacterSize",{data:e}))},this.$pollSizeChanges=function(){var e=this;this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},this.$measureSizes=s.isIE||s.isOldGecko?function(){var e=1e3;if(!this.$measureNode){var t=this.$measureNode=i.createElement("div"),n=t.style;if(n.width=n.height="auto",n.left=n.top=40*-e+"px",n.visibility="hidden",n.position="fixed",n.overflow="visible",n.whiteSpace="nowrap",t.innerHTML=r.stringRepeat("Xy",e),this.element.ownerDocument.body)this.element.ownerDocument.body.appendChild(t);else{for(var s=this.element.parentNode;!i.hasCssClass(s,"ace_editor");)s=s.parentNode;s.appendChild(t)}}if(!this.element.offsetWidth)return null;var n=this.$measureNode.style,o=i.computedStyle(this.element);for(var a in this.$fontStyles)n[a]=o[a];var l={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/(2*e)};return 0==l.width||0==l.height?null:l}:function(){if(!this.$measureNode){var e=this.$measureNode=i.createElement("div"),t=e.style;t.width=t.height="auto",t.left=t.top="-100px",t.visibility="hidden",t.position="fixed",t.overflow="visible",t.whiteSpace="nowrap",e.innerHTML="X";for(var n=this.element.parentNode;n&&!i.hasCssClass(n,"ace_editor");)n=n.parentNode;if(!n)return this.$measureNode=null;n.appendChild(e)}var r=this.$measureNode.getBoundingClientRect(),s={height:r.height,width:r.width};return 0==s.width||0==s.height?null:s},this.setSession=function(e){this.session=e,this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;e+1>n;n++)this.showInvisibles?t.push("<span class='ace_invisible'>"+this.TAB_CHAR+Array(n).join("&#160;")+"</span>"):t.push(Array(n+1).join("&#160;"));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r=Array(this.tabSize+1).join("&#160;"),s=r;this.showInvisibles&&(i+=" ace_invisible",s=this.TAB_CHAR+r.substr(6)),this.$tabStrings[" "]="<span class='"+i+"'>"+r+"</span>",this.$tabStrings["	"]="<span class='"+i+"'>"+s+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var r=Math.max(t,e.firstRow),s=Math.min(n,e.lastRow),o=this.element.childNodes,a=0,l=e.firstRow;r>l;l++){var h=this.session.getFoldLine(l);if(h){if(h.containsRow(r)){r=h.start.row;break}l=h.end.row}a++}for(var l=r,h=this.session.getNextFoldLine(l),c=h?h.start.row:1/0;l>c&&(l=h.end.row+1,h=this.session.getNextFoldLine(l,h),c=h?h.start.row:1/0),!(l>s);){var u=o[a++];if(u){var d=[];this.$renderLine(d,l,!this.$useLineGroups(),l==c?h:!1),i.setInnerHtml(u,d.join(""))}l++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(e.lastRow>t.lastRow){var r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),s=t,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),a=o?o.start.row:1/0),!(s>n);){var l=i.createElement("div"),h=[];if(this.$renderLine(h,s,!1,s==a?o:!1),l.innerHTML=h.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l);else for(var c=l.childNodes;c.length;)r.appendChild(c[0]);s++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,r=e.lastRow,s=n,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),a=o?o.start.row:1/0),!(s>r);)this.$useLineGroups()&&t.push("<div class='ace_line_group'>"),this.$renderLine(t,s,!1,s==a?o:!1),this.$useLineGroups()&&t.push("</div>"),s++;this.element=i.setInnerHtml(this.element,t.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){var r=this,s=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,o=function(e,n,i,s){if(n)return Array(e.length+1).join("&#160;");if("&"==e)return"&#38;";if("<"==e)return"&#60;";if("	"==e){var o=r.session.getScreenTabSize(t+s);return t+=o-1,r.$tabStrings[o]}if("　"==e){var a=r.showInvisibles?"ace_cjk ace_invisible":"ace_cjk",l=r.showInvisibles?r.SPACE_CHAR:"";return t+=1,"<span class='"+a+"' style='width:"+2*r.config.characterWidth+"px'>"+l+"</span>"}return i?"<span class='ace_invisible ace_invalid'>"+r.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+e+"</span>")},a=i.replace(s,o);if(this.$textToken[n.type])e.push(a);else{var l="ace_"+n.type.replace(/\./g," ace_"),h="";"fold"==n.type&&(h=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",l,"'",h,">",a,"</span>")}return t+i.length},this.renderIndentGuide=function(e,t){var n=t.search(this.$indentGuideRe);return 0>=n?t:" "==t[0]?(n-=n%this.tabSize,e.push(Array(n/this.tabSize+1).join(this.$tabStrings[" "])),t.substr(n)):"	"==t[0]?(e.push(Array(n+1).join(this.$tabStrings["	"])),t.substr(n)):t},this.$renderWrappedLine=function(e,t,n,i){for(var r=0,s=0,o=n[0],a=0,l=0;t.length>l;l++){var h=t[l],c=h.value;if(0==l&&this.displayIndentGuides){if(r=c.length,c=this.renderIndentGuide(e,c),!c)continue;r-=c.length}if(o>r+c.length)a=this.$renderToken(e,a,h,c),r+=c.length;else{for(;r+c.length>=o;)a=this.$renderToken(e,a,h,c.substring(0,o-r)),c=c.substring(o-r),r=o,i||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),s++,a=0,o=n[s]||Number.MAX_VALUE;0!=c.length&&(r+=c.length,a=this.$renderToken(e,a,h,c))}}},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var s=1;t.length>s;s++)i=t[s],r=i.value,n=this.$renderToken(e,n,i,r)},this.$renderLine=function(e,t,n,i){if(!i&&0!=i&&(i=this.session.getFoldLine(t)),i)var r=this.$getFoldLineTokens(t,i);else var r=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),r.length){var s=this.session.getRowSplitData(t);s&&s.length?this.$renderWrappedLine(e,r,s,n):this.$renderSimpleLine(e,r)}this.showInvisibles&&(i&&(t=i.end.row),e.push("<span class='ace_invisible'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var i=0,s=0;t>s+e[i].value.length;)if(s+=e[i].value.length,i++,i==e.length)return;if(s!=t){var o=e[i].value.substring(t-s);o.length>n-t&&(o=o.substring(0,n-t)),r.push({type:e[i].type,value:o}),s=t+o.length,i+=1}for(;n>s&&e.length>i;){var o=e[i].value;o.length+s>n?r.push({type:e[i].type,value:o.substring(0,n-s)}):r.push(e[i]),s+=o.length,i+=1}}var i=this.session,r=[],s=i.getTokens(e);return t.walk(function(e,t,o,a,l){e?r.push({type:"fold",value:e}):(l&&(s=i.getTokens(t)),s.length&&n(s,a,o))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t){var n=e("../lib/dom"),i=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.cursors=[],this.cursor=this.addCursor()};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.addCursor=function(){var e=n.createElement("div"),t="ace_cursor";return this.isVisible||(t+=" ace_hidden"),this.overwrite&&(t+=" ace_overwrite"),e.className=t,this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1;for(var e=this.cursors.length;e--;)n.addCssClass(this.cursors[e],"ace_hidden");clearInterval(this.blinkId)},this.showCursor=function(){this.isVisible=!0;for(var e=this.cursors.length;e--;)n.removeCssClass(this.cursors[e],"ace_hidden");this.element.style.visibility="",this.restartTimer()},this.restartTimer=function(){if(clearInterval(this.blinkId),this.isVisible){var e=1==this.cursors.length?this.cursor:this.element;this.blinkId=setInterval(function(){e.style.visibility="hidden",setTimeout(function(){e.style.visibility=""},400)},1e3)}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),i=Math.round(this.$padding+n.column*this.config.characterWidth),r=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},this.update=function(e){if(this.config=e,this.session.selectionMarkerCount>0){for(var t,n=this.session.$selectionMarkers,i=0,r=0,i=n.length;i--;){t=n[i];var s=this.getPixelPosition(t.cursor,!0),o=(this.cursors[r++]||this.addCursor()).style;o.left=s.left+"px",o.top=s.top+"px",o.width=e.characterWidth+"px",o.height=e.lineHeight+"px"}if(r>1)for(;this.cursors.length>r;)this.removeCursor()}else{var s=this.getPixelPosition(null,!0),o=this.cursor.style;for(o.left=s.left+"px",o.top=s.top+"px",o.width=e.characterWidth+"px",o.height=e.lineHeight+"px";this.cursors.length>1;)this.removeCursor()}var a=this.session.getOverwrite();a!=this.overwrite&&this.$setOverite(a),this.$pixelPos=s,this.restartTimer()},this.$setOverite=function(e){this.overwrite=e;for(var t=this.cursors.length;t--;)e?n.addCssClass(this.cursors[t],"ace_overwrite"):n.removeCssClass(this.cursors[t],"ace_overwrite")},this.destroy=function(){clearInterval(this.blinkId)}}).call(i.prototype),t.Cursor=i}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t){var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,o=function(e){this.element=i.createElement("div"),this.element.className="ace_sb",this.inner=i.createElement("div"),this.element.appendChild(this.inner),e.appendChild(this.element),this.width=i.scrollbarWidth(e.ownerDocument),this.element.style.width=(this.width||15)+5+"px",r.addListener(this.element,"scroll",this.onScroll.bind(this))};(function(){n.implement(this,s),this.onScroll=function(){this._emit("scroll",{data:this.element.scrollTop})},this.getWidth=function(){return this.width},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.element.scrollTop=e}}).call(o.prototype),t.ScrollBar=o}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t){var n=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending){this.pending=!0;var t=this;n.nextTick(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),define("ace/requirejs/text!ace/css/editor.css",[],".ace_editor {\n    position: absolute;\n    overflow: hidden;\n    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Droid Sans Mono', 'Consolas', monospace;\n    font-size: 12px;\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    cursor: text;\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    height: 100%;\n    width: auto;\n    cursor: default;\n    z-index: 4;\n}\n\n.ace_gutter_active_line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.horscroll {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTQ4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTU4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBMjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBMzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgXxbAAAAJbSURBVHjapFNNaBNBFH4zs5vdZLP5sQmNpT82QY209heh1ioWisaDRcSKF0WKJ0GQnrzrxasHsR6EnlrwD0TagxJabaVEpFYxLWlLSS822tr87m66ccfd2GKyVhA6MMybgfe97/vmPUQphd0sZjto9XIn9OOsvlu2nkqRzVU+6vvlzPf8W6bk8dxQ0NPbxAALgCgg2JkaQuhzQau/El0zbmUA7U0Es8v2CiYmKQJHGO1QICCLoqilMhkmurDAyapKgqItezi/USRdJqEYY4D5jCy03ht2yMkkvL91jTTX10qzyyu2hruPRN7jgbH+EOsXcMLgYiThEgAMhABW85oqy1DXdRIdvP1AHJ2acQXvDIrVHcdQNrEKNYSVMSZGMjEzIIAwDXIo+6G/FxcGnzkC3T2oMhLjre49sBB+RRcHLqdafK6sYdE/GGBwU1VpFNj0aN8pJbe+BkZyevUrvLl6Xmm0W9IuTc0DxrDNAJd5oEvI/KRsNC3bQyNjPO9yQ1YHcfj2QvfQc/5TUhJTBc2iM0U7AWDQtc1nJHvD/cfO2s7jaGkiTEfa/Ep8coLu7zmNmh8+dc5lZDuUeFAGUNA/OY6JVaypQ0vjr7XYjUvJM37vt+j1vuTK5DgVfVUoTjVe+y3/LxMxY2GgU+CSLy4cpfsYorRXuXIOi0Vt40h67uZFTdIo6nLaZcwUJWAzwNS0tBnqqKzQDnjdG/iPyZxo46HaKUpbvYkj8qYRTZsBhge+JHhZyh0x9b95JqjVJkT084kZIPwu/mPWqPgfQ5jXh2+92Ay7HedfAgwA6KDWafb4w3cAAAAASUVORK5CYII=\");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTg4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTk4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBNjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBNzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgd7PfIAAAGmSURBVHjaYvr//z8DJZiJgUIANoCRkREb9gLiSVAaQx4OQM7AAkwd7XU2/v++/rOttdYGEB9dASEvOMydGKfH8Gv/p4XTkvRBfLxeQAP+1cUhXopyvzhP7P/IoSj7g7Mw09cNKO6J1QQ0L4gICPIv/veg/8W+JdFvQNLHVsW9/nmn9zk7B+cCkDwhL7gt6knSZnx9/LuCEOcvkIAMP+cvto9nfqyZmmUAksfnBUtbM60gX/3/kgyv3/xSFOL5DZT+L8vP+Yfh5cvfPvp/xUHyQHXGyAYwgpwBjZYFT3Y1OEl/OfCH4ffv3wzc4iwMvNIsDJ+f/mH4+vIPAxsb631WW0Yln6ZpQLXdMK/DXGDflh+sIv37EivD5x//Gb7+YWT4y86sl7BCCkSD+Z++/1dkvsFRl+HnD1Rvje4F8whjMXmGj58YGf5zsDMwcnAwfPvKcml62DsQDeaDxN+/Y0qwlpEHqrdB94IRNIDUgfgfKJChGK4OikEW3gTiXUB950ASLFAF54AC94A0G9QAfOnmF9DCDzABFqS08IHYDIScdijOjQABBgC+/9awBH96jwAAAABJRU5ErkJggg==\");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAAAAAEFBQVJSUl5eXmRkZGtra39/f4WFhYmJiZGRkaampry8vMPDw8zMzNXV1dzc3OTk5Orq6vDw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABQALAAAAAAQABAAAAUuICWOZGmeaBml5XGwFCQSBGyXRSAwtqQIiRuiwIM5BoYVbEFIyGCQoeJGrVptIQA7\");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTk5MTVGREIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTk5MTVGRUIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFOTkxNUZCQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFOTkxNUZDQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SIDkjAAAAJ1JREFUeNpi/P//PwMlgImBQkB7A6qrq/+DMC55FkIGKCoq4pVnpFkgTp069f/+/fv/r1u37r+tre1/kg0A+ptn9uzZYLaRkRHpLvjw4cNXWVlZhufPnzOcO3eOdAO0tbVPAjHDmzdvGA4fPsxIsgGSkpJmv379Ynj37h2DjIyMCMkG3LhxQ/T27dsMampqDHZ2dq/pH41DxwCAAAMAFdc68dUsFZgAAAAASUVORK5CYII=\");\n}\n\n.ace_editor .ace_sb {\n    position: absolute;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    right: 0;\n}\n\n.ace_editor .ace_sb div {\n    position: absolute;\n    width: 1px;\n    left: 0;\n}\n\n.ace_editor .ace_print_margin_layer {\n    z-index: 0;\n    position: absolute;\n    overflow: hidden;\n    margin: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n}\n\n.ace_editor .ace_print_margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_editor > textarea {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    appearance: none;\n    -moz-appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n}\n\n.ace_editor > textarea.ace_composition {\n    background: #fff;\n    color: #000;\n    z-index: 1000;\n    opacity: 1;\n    border: solid lightgray 1px;\n    margin: -1px\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    white-space: nowrap;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter .ace_layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n}\n\n.ace_text-layer {\n    color: black;\n    font: inherit !important;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n}\n\n.ace_cursor.ace_hidden {\n    opacity: 0.2;\n}\n\n.ace_editor.multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_line {\n    white-space: nowrap;\n}\n\n.ace_marker-layer .ace_step {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_active_line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected_word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),\n        url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%3AIDAT8%11c%FC%FF%FF%7F%18%03%1A%60%01%F2%3F%A0%891%80%04%FF%11-%F8%17%9BJ%E2%05%B1ZD%81v%26t%E7%80%F8%A3%82h%A12%1A%20%A3%01%02%0F%01%BA%25%06%00%19%C0%0D%AEF%D5%3ES%00%00%00%00IEND%AEB%60%82\");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    -moz-border-radius: 2px;\n    -webkit-border-radius: 2px;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),\n        url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%003IDAT8%11c%FC%FF%FF%7F%3E%03%1A%60%01%F2%3F%A3%891%80%04%FFQ%26%F8w%C0%B43%A1%DB%0C%E2%8F%0A%A2%85%CAh%80%8C%06%08%3C%04%E8%96%18%00%A3S%0D%CD%CF%D8%C1%9D%00%00%00%00IEND%AEB%60%82\");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n}\n\n.ace_dragging .ace_content {\n    cursor: move;\n}\n\n.ace_gutter_tooltip {\n    background-color: #FFFFD5;\n    border: 1px solid gray;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);\n    color: black;\n    display: inline-block;\n    padding: 4px;\n    position: absolute;\n    z-index: 300;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    cursor: default;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: inline-block;\n    height: 100%;\n    width: 11px;\n    vertical-align: bottom;\n\n    background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAe%8A%B1%0D%000%0C%C2%F2%2CK%96%BC%D0%8F9%81%88H%E9%D0%0E%96%C0%10%92%3E%02%80%5E%82%E4%A9*-%EEsw%C8%CC%11%EE%96w%D8%DC%E9*Eh%0C%151(%00%00%00%00IEND%AEB%60%82\");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n}\n\n.ace_fold-widget.end {\n    background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAm%C7%C1%09%000%08C%D1%8C%ECE%C8E(%8E%EC%02)%1EZJ%F1%C1'%04%07I%E1%E5%EE%CAL%F5%A2%99%99%22%E2%D6%1FU%B5%FE0%D9x%A7%26Wz5%0E%D5%00%00%00%00IEND%AEB%60%82\");\n}\n\n.ace_fold-widget.closed {\n    background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%06%08%06%00%00%00%06%E5%24%0C%00%00%009IDATx%DA5%CA%C1%09%000%08%03%C0%AC*(%3E%04%C1%0D%BA%B1%23%A4Uh%E0%20%81%C0%CC%F8%82%81%AA%A2%AArGfr%88%08%11%11%1C%DD%7D%E0%EE%5B%F6%F6%CB%B8%05Q%2F%E9tai%D9%00%00%00%00IEND%AEB%60%82\");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");\n}\n.ace_dark .ace_fold-widget.end {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");\n}\n.ace_dark .ace_fold-widget.closed {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n    \n    \n    \n.ace_fold-widget.invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n       -moz-transition: opacity 0.4s ease 0.05s;\n    -webkit-transition: opacity 0.4s ease 0.05s;\n         -o-transition: opacity 0.4s ease 0.05s;\n        -ms-transition: opacity 0.4s ease 0.05s;\n            transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n       -moz-transition: opacity 0.05s ease 0.05s;\n    -webkit-transition: opacity 0.05s ease 0.05s;\n         -o-transition: opacity 0.05s ease 0.05s;\n        -ms-transition: opacity 0.05s ease 0.05s;\n            transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n"),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor"],function(e,t){function n(e,t,n){return f.$options.wrap=!0,f.$options.needle=t,f.$options.backwards=-1==n,f.find(e)
}function i(e,t){return e.row==t.row&&e.column==t.column}function r(e){e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),t.onSessionChange.call(e,e),e.on("changeSession",t.onSessionChange.bind(e)),e.on("mousedown",h),e.commands.addCommands(u.defaultCommands),s(e)}function s(e){function t(){i&&(r.style.cursor="",i=!1)}var n=e.textInput.getElement(),i=!1,r=e.renderer.content;c.addListener(n,"keydown",function(e){18!=e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?i&&(r.style.cursor=""):i||(r.style.cursor="crosshair",i=!0)}),c.addListener(n,"keyup",t),c.addListener(n,"blur",t)}var o=e("./range_list").RangeList,a=e("./range").Range,l=e("./selection").Selection,h=e("./mouse/multi_select_handler").onMouseDown,c=e("./lib/event"),u=e("./commands/multi_select_commands");t.commands=u.defaultCommands.concat(u.multiSelectCommands);var d=e("./search").Search,f=new d,g=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0==this.rangeCount){var n=this.toOrientedRange();if(e.intersects(n))return t||this.fromOrientedRange(e);this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._emit("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);return t?(this.$onRemoveRange(t),t[0]):void 0},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._emit("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._emit("removeRange",{ranges:e}),0==this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._emit("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeList.ranges.concat()},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),i=n.start.row,r=n.end.row;if(i==r)return;var s=[],o=this.getLineRange(i,!0);o.start.column=n.start.column,s.push(o);for(var l=i+1;r>l;l++)s.push(this.getLineRange(l,!0));o=this.getLineRange(r,!0),o.end.column=n.end.column,s.push(o),s.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),s=this.rectangularRangeBlock(i,r);s.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var o=e.column,l=t.column;else var o=t.column,l=e.column;var h=e.row<t.row;if(h)var c=e.row,u=t.row;else var c=t.row,u=e.row;0>o&&(o=0),0>c&&(c=0),c==u&&(n=!0);for(var d=c;u>=d;d++){var f=a.fromPoints(this.session.screenToDocumentPosition(d,o),this.session.screenToDocumentPosition(d,l));if(f.isEmpty()){if(g&&i(f.end,g))break;var g=f.end}f.cursor=s?f.start:f.end,r.push(f)}if(h&&r.reverse(),!n){for(var p=r.length-1;r[p].isEmpty()&&p>0;)p--;if(p>0)for(var m=0;r[m].isEmpty();)m++;for(var v=p;v>=m;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(l.prototype);var p=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.on("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeEventListener("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;n.multiSelect&&(t.multiSelectAction?"forEach"==t.multiSelectAction?n.forEachSelection(t,e.args):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),t.exec(n,e.args||{})):t.multiSelectAction(n,e.args||{}):(t.exec(n,e.args||{}),n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()),e.preventDefault())},this.forEachSelection=function(e,t){if(!this.inVirtualSelectionMode){var n=this.session,i=this.selection,r=i.rangeList,s=i._eventRegistry;i._eventRegistry={};var o=new l(n);this.inVirtualSelectionMode=!0;for(var a=r.ranges.length;a--;)o.fromOrientedRange(r.ranges[a]),this.selection=n.selection=o,e.exec(this,t||{}),o.toOrientedRange(r.ranges[a]);o.detach(),this.selection=n.selection=i,this.inVirtualSelectionMode=!1,i._eventRegistry=s,i.mergeOverlappingRanges(),this.onCursorChange(),this.onSelectionChange()}},this.exitMultiSelectMode=function(){this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getCopyText=function(){var e="";if(this.inMultiSelectMode){var t=this.multiSelect.rangeList.ranges;e=[];for(var n=0;t.length>n;n++)e.push(this.session.getTextRange(t[n]));e=e.join(this.session.getDocument().getNewLineCharacter())}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.onPaste=function(e){if(!this.$readOnly){if(this._emit("paste",e),!this.inMultiSelectMode)return this.insert(e);var t=e.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(t.length>n.length||2>=t.length||!t[1])return this.commands.exec("insertstring",this,e);for(var i=n.length;i--;){var r=n[i];r.isEmpty()||this.session.remove(r),this.session.insert(r.start,t[i])}}},this.findAll=function(e,t,n){t=t||{},t.needle=e||t.needle,this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var r=this.multiSelect;n||r.toSingleRange(i[0]);for(var s=i.length;s--;)r.addRange(i[s],!0);return this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s=this.session.screenToDocumentPosition(r.row+e,r.column);if(n.isEmpty())var o=s;else var l=this.session.documentToScreenPosition(i?n.end:n.start),o=this.session.screenToDocumentPosition(l.row+e,l.column);if(i){var h=a.fromPoints(s,o);h.cursor=h.start}else{var h=a.fromPoints(o,s);h.cursor=h.end}if(h.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(h),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){var s=i[r];if(s.isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();for(var a=[],r=i.length;r--;){var s=i[r];a.unshift(t.getTextRange(s))}0>e?a.unshift(a.pop()):a.push(a.shift());for(var r=i.length;r--;){var s=i[r],o=s.clone();t.replace(s,a[r]),s.start.row=o.start.row,s.start.column=o.start.column}},this.selectMore=function(e,t){var i=this.session,r=i.multiSelect,s=r.toOrientedRange();if(s.isEmpty()){var s=i.getWordRange(s.start.row,s.start.column);s.cursor=s.end,this.multiSelect.addRange(s)}var o=i.getTextRange(s),a=n(i,o,e);a&&(a.cursor=-1==e?a.start:a.end,this.multiSelect.addRange(a)),t&&this.multiSelect.substractPoint(s.cursor)}}).call(p.prototype),t.onSessionChange=function(e){var t=e.session;t.multiSelect||(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t.multiSelect;var n=e.oldSession;n&&(n.multiSelect&&n.multiSelect.editor==this&&(n.multiSelect.editor=null),t.multiSelect.removeEventListener("addRange",this.$onAddRange),t.multiSelect.removeEventListener("removeRange",this.$onRemoveRange),t.multiSelect.removeEventListener("multiSelect",this.$onMultiSelect),t.multiSelect.removeEventListener("singleSelect",this.$onSingleSelect)),t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=r}),define("ace/range_list",["require","exports","module"],function(e,t){var n=function(){this.ranges=[]};(function(){this.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},this.pointIndex=function(e,t){for(var n=this.ranges,i=t||0;n.length>i;i++){var r=n[i],s=this.comparePoints(e,r.end);if(!(s>0))return 0==s?i:(s=this.comparePoints(e,r.start),s>=0?i:-i-1)}return-i-1},this.add=function(e){var t=this.pointIndex(e.start);0>t&&(t=-t-1);var n=this.pointIndex(e.end,t);return 0>n?n=-n-1:n++,this.ranges.splice(t,n-t,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.call(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges.splice(t,1):void 0},this.merge=function(){for(var e,t=[],n=this.ranges,i=n[0],r=1;n.length>r;r++){e=i,i=n[r];var s=this.comparePoints(e.end,i.start);0>s||(0!=s||e.isEmpty()||i.isEmpty())&&(0>this.comparePoints(e.end,i.end)&&(e.end.row=i.end.row,e.end.column=i.end.column),n.splice(r,1),t.push(i),i=e,r--)}return t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges[t]:void 0},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||e>n[n.length-1].start.row)return[];var i=this.pointIndex({row:e,column:0});0>i&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);0>r&&(r=-r-1);for(var s=[],o=i;r>o;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){var t=e.data.range;if("i"==e.data.action[0])var n=t.start,i=t.end;else var i=t.start,n=t.end;for(var r=n.row,s=i.row,o=s-r,a=-n.column+i.column,l=this.ranges,h=0,c=l.length;c>h;h++){var u=l[h];if(!(r>u.end.row)){if(u.start.row>r)break;u.start.row==r&&u.start.column>=n.column&&(u.start.column+=a,u.start.row+=o),u.end.row==r&&u.end.column>=n.column&&(u.end.column+=a,u.end.row+=o)}}if(0!=o&&c>h)for(;c>h;h++){var u=l[h];u.start.row+=o,u.end.row+=o}}}).call(n.prototype),t.RangeList=n}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event"],function(e,t){function n(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,i=t.altKey,s=t.shiftKey,o=e.getAccelKey(),a=e.getButton();if(e.editor.inMultiSelectMode&&2==a)return e.editor.textInput.onContextMenu(e.domEvent),void 0;if(!o&&!i)return 0==a&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode(),void 0;var l=e.editor,h=l.selection,c=l.inMultiSelectMode,u=e.getDocumentPosition(),d=h.getCursor(),f=e.inSelection()||h.isEmpty()&&n(u,d),g=e.x,p=e.y,m=function(e){g=e.clientX,p=e.clientY},v=function(){var e=l.renderer.pixelToScreenCoordinates(g,p),t=A.screenToDocumentPosition(e.row,e.column);n(E,e)&&n(t,h.selectionLead)||(E=e,l.selection.moveCursorToPosition(t),l.selection.clearSelection(),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(F),F=h.rectangularRangeBlock(E,C),F.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers())},A=l.session,C=l.renderer.pixelToScreenCoordinates(g,p),E=C;if(!o||s||i||0!=a){if(!s&&i&&0==a){e.stop(),c&&!o?h.toSingleRange():!c&&o&&h.addRange(),h.moveCursorToPosition(u),h.clearSelection();var F=[],w=function(){clearInterval(b),l.removeSelectionMarkers(F);for(var e=0;F.length>e;e++)h.addRange(F[e])},y=v;r.capture(l.container,m,w);var b=setInterval(function(){y()},20);return e.preventDefault()}}else{if(!c&&f)return;if(!c){var D=h.toOrientedRange();l.addSelectionMarker(D)}var x=h.rangeList.rangeAtPoint(u);r.capture(l.container,function(){},function(){var e=h.toOrientedRange();x&&e.isEmpty()&&n(x.cursor,e.cursor)?h.substractPoint(e.cursor):(D&&(l.removeSelectionMarker(D),h.addRange(D)),h.addRange(e))})}}var r=e("../lib/event");t.onMouseDown=i}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Shift-L",mac:"Ctrl-Shift-L"},readonly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/config"],function(e,t){var n=e("../lib/oop"),i=e("../lib/event_emitter").EventEmitter,r=e("../config"),s=function(t,n,i){if(this.changeListener=this.changeListener.bind(this),r.get("packaged"))this.$worker=new Worker(r.moduleUrl(n,"worker"));else{var s;e.supports!==void 0&&e.supports.indexOf("ucjs2-pinf-0")>=0?s=e.nameToUrl("ace/worker/worker_sourcemint"):(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s=this.$normalizePath(e.toUrl("ace/worker/worker",null,"_"))),this.$worker=new Worker(s);for(var o={},a=0;t.length>a;a++){var l=t[a],h=this.$normalizePath(e.toUrl(l,null,"_").replace(/.js(\?.*)?$/,""));o[l]=h}}this.$worker.postMessage({init:!0,tlns:o,module:n,classname:i}),this.callbackId=1,this.callbacks={};var c=this;this.$worker.onerror=function(e){throw window.console&&console.log&&console.log(e),e},this.$worker.onmessage=function(e){var t=e.data;switch(t.type){case"log":window.console&&console.log&&console.log(t.data);break;case"event":c._emit(t.name,{data:t.data});break;case"call":var n=c.callbacks[t.id];n&&(n(t.data),delete c.callbacks[t.id])}}};(function(){n.implement(this,i),this.$normalizePath=function(e){return location.host?(e=e.replace(/^[a-z]+:\/\/[^\/]+/,""),e=location.protocol+"//"+location.host+("/"==e.charAt(0)?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+e.replace(/^[\/]+/,"")):e},this.terminate=function(){this._emit("terminate",{}),this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){e.range={start:e.data.range.start,end:e.data.range.end},this.emit("change",e)}}).call(s.prototype),t.WorkerClient=s}),define("ace/keyboard/state_handler",["require","exports","module"],function(e,t){function n(e){this.keymapping=this.$buildKeymappingRegex(e)}var i=!1;n.prototype={$buildKeymappingRegex:function(e){for(var t in e)this.$buildBindingsRegex(e[t]);return e},$buildBindingsRegex:function(e){e.forEach(function(e){e.key?e.key=RegExp("^"+e.key+"$"):Array.isArray(e.regex)?("key"in e||(e.key=RegExp("^"+e.regex[1]+"$")),e.regex=RegExp(e.regex.join("")+"$")):e.regex&&(e.regex=RegExp(e.regex+"$"))})},$composeBuffer:function(e,t,n,i){(null==e.state||null==e.buffer)&&(e.state="start",e.buffer="");var r=[];1&t&&r.push("ctrl"),8&t&&r.push("command"),2&t&&r.push("option"),4&t&&r.push("shift"),n&&r.push(n);var s=r.join("-"),o=e.buffer+s;2!=t&&(e.buffer=o);var a={bufferToUse:o,symbolicName:s};return i&&(a.keyIdentifier=i.keyIdentifier),a},$find:function(e,t,n,r,s,o){var a={};return this.keymapping[e.state].some(function(l){var h;if(l.key&&!l.key.test(n))return!1;if(l.regex&&!(h=l.regex.exec(t)))return!1;if(l.match&&!l.match(t,r,s,n,o))return!1;if(l.disallowMatches)for(var c=0;l.disallowMatches.length>c;c++)if(h[l.disallowMatches[c]])return!1;if(l.exec){if(a.command=l.exec,l.params){var u;a.args={},l.params.forEach(function(e){u=null!=e.match&&null!=h?h[e.match]||e.defaultValue:e.defaultValue,"number"===e.type&&(u=parseInt(u)),a.args[e.name]=u})}e.buffer=""}return l.then&&(e.state=l.then,e.buffer=""),null==a.command&&(a.command="null"),i&&console.log("KeyboardStateMapper#find",l),!0}),a.command?a:(e.buffer="",!1)},handleKeyboard:function(e,t,n,r,s){if(-1==t&&(t=0),0==t||""!=n&&n!=String.fromCharCode(0)){var o=this.$composeBuffer(e,t,n,s),a=o.bufferToUse,l=o.symbolicName,h=o.keyIdentifier;return o=this.$find(e,a,l,t,n,h),i&&console.log("KeyboardStateMapper#match",a,l,o),o}return null}},t.matchCharacterOnly=function(e,t,n){return 0==t?!0:4==t&&1==n.length?!0:!1},t.StateHandler=n}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t){var n=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,r=e("./lib/oop"),s=function(e,t,n,i,r,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,i),this.setup=function(){var e=this,t=this.doc,i=this.session,r=this.$pos;this.pos=t.createAnchor(r.row,r.column),this.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(t){i.removeMarker(e.markerId),e.markerId=i.addMarker(new n(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(n){var i=t.createAnchor(n.row,n.column);e.others.push(i)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1),i.on("change",function(r){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(r.value.row,r.value.column,r.value.row,r.value.column+t.length),t.othersClass,null,!1)})})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;this.others.length>e;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){var t=e.data,i=t.range;if(i.start.row===i.end.row&&i.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var r="insertText"===t.action?i.end.column-i.start.column:i.start.column-i.end.column;if(i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1){var s=i.start.column-this.pos.column;if(this.length+=r,!this.session.$fromUndo){if("insertText"===t.action)for(var o=this.others.length-1;o>=0;o--){var a=this.others[o],l={row:a.row,column:a.column+s};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.insert(l,t.text)}else if("removeText"===t.action)for(var o=this.others.length-1;o>=0;o--){var a=this.others[o],l={row:a.row,column:a.column+s};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.remove(new n(l.row,l.column,l.row,l.column-r))}i.start.column===this.pos.column&&"insertText"===t.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-r);for(var e=0;this.others.length>e;e++){var t=this.others[e],n={row:t.row,column:t.column-r};t.row===i.start.row&&i.start.column<t.column&&(n.column+=r),t.setPosition(n.row,n.column)}}.bind(this),0):i.start.column===this.pos.column&&"removeText"===t.action&&setTimeout(function(){for(var e=0;this.others.length>e;e++){var t=this.others[e];t.row===i.start.row&&i.start.column<t.column&&t.setPosition(t.row,t.column-r)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var o=0;this.others.length>o;o++)this.others[o]._emit("change",{value:this.others[o]})}this.$updating=!1}},this.onCursorChange=function(e){if(!this.$updating){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;this.others.length>e;e++)this.others[e].detach();this.session.setUndoSelect(!0)},this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;t>n;n++)e.undo(!0)}}).call(s.prototype),t.PlaceHolder=s}),define("ace/theme/textmate",["require","exports","module","ace/requirejs/text!ace/theme/textmate.css","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("ace/requirejs/text!./textmate.css");var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),define("ace/requirejs/text!ace/theme/textmate.css",[],'.ace-tm .ace_editor {\n  border: 2px solid rgb(159, 159, 159);\n}\n\n.ace-tm .ace_editor.ace_focus {\n  border: 2px solid #327fbd;\n}\n\n.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print_margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm .ace_text-layer {\n}\n\n.ace-tm .ace_cursor {\n  border-left: 2px solid black;\n}\n\n.ace-tm .ace_cursor.ace_overwrite {\n  border-left: 0px;\n  border-bottom: 1px solid black;\n}\n        \n.ace-tm .ace_line .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_line .ace_storage,\n.ace-tm .ace_line .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_line .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_line .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_line .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_line .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_line .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_line .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_line .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_line .ace_support.ace_type,\n.ace-tm .ace_line .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_line .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_line .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_line .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_line .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_line .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_line .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_line .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_line .ace_xml_pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n.ace-tm .ace_markup.ace_markupine {\n    text-decoration:underline;\n}\n\n.ace-tm .ace_markup.ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_markup.ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.multiselect .ace_selection.start {\n  box-shadow: 0 0 3px 0px white;\n  border-radius: 2px;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active_line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter_active_line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected_word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n'),function(){window.require(["ace/ace"],function(e){e&&e.config.init(),window.ace||(window.ace={});for(var t in e)e.hasOwnProperty(t)&&(ace[t]=e[t])})}(),define("ace/theme/eclipse",["require","exports","module","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssText='.ace-eclipse .ace_editor {  border: 2px solid rgb(159, 159, 159);}.ace-eclipse .ace_editor.ace_focus {  border: 2px solid #327fbd;}.ace-eclipse .ace_gutter {  background: #ebebeb;  border-right: 1px solid rgb(159, 159, 159);  color: rgb(136, 136, 136);}.ace-eclipse .ace_print_margin {  width: 1px;  background: #ebebeb;}.ace-eclipse .ace_fold {    background-color: rgb(60, 76, 114);}.ace-eclipse .ace_text-layer {}.ace-eclipse .ace_cursor {  border-left: 2px solid black;}.ace-eclipse .ace_line .ace_storage,.ace-eclipse .ace_line .ace_keyword,.ace-eclipse .ace_line .ace_variable {  color: rgb(127, 0, 85);}.ace-eclipse .ace_line .ace_constant.ace_buildin {  color: rgb(88, 72, 246);}.ace-eclipse .ace_line .ace_constant.ace_library {  color: rgb(6, 150, 14);}.ace-eclipse .ace_line .ace_function {  color: rgb(60, 76, 114);}.ace-eclipse .ace_line .ace_string {  color: rgb(42, 0, 255);}.ace-eclipse .ace_line .ace_comment {  color: rgb(63, 127, 95);}.ace-eclipse .ace_line .ace_comment.ace_doc {  color: rgb(63, 95, 191);}.ace-eclipse .ace_line .ace_comment.ace_doc.ace_tag {  color: rgb(127, 159, 191);}.ace-eclipse .ace_line .ace_constant.ace_numeric {}.ace-eclipse .ace_line .ace_tag {  color: rgb(63, 127, 127);}.ace-eclipse .ace_line .ace_type {  color: rgb(127, 0, 127);}.ace-eclipse .ace_line .ace_xml_pe {  color: rgb(104, 104, 91);}.ace-eclipse .ace_marker-layer .ace_selection {  background: rgb(181, 213, 255);}.ace-eclipse .ace_marker-layer .ace_bracket {  margin: -1px 0 0 -1px;  border: 1px solid rgb(192, 192, 192);}.ace-eclipse .ace_line .ace_meta.ace_tag {  color:rgb(63, 127, 127);}.ace-eclipse .ace_entity.ace_other.ace_attribute-name {  color:rgb(127, 0, 127);}.ace-eclipse .ace_marker-layer .ace_step {  background: rgb(255, 255, 0);}.ace-eclipse .ace_marker-layer .ace_active_line {  background: rgb(232, 242, 254);}.ace-eclipse .ace_marker-layer .ace_selected_word {  border: 1px solid rgb(181, 213, 255);}.ace-eclipse .ace_indent-guide {  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.cssClass="ace-eclipse";var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),define("ace/mode/java",["require","exports","module","ace/lib/oop","ace/mode/javascript","ace/tokenizer","ace/mode/java_highlight_rules"],function(e,t){var n=e("../lib/oop"),i=e("./javascript").Mode,r=e("../tokenizer").Tokenizer,s=e("./java_highlight_rules").JavaHighlightRules,o=function(){i.call(this),this.$tokenizer=new r((new s).getRules())};n.inherits(o,i),function(){this.createWorker=function(){return null}}.call(o.prototype),t.Mode=o}),define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t){var n=e("../lib/oop"),i=e("./text").Mode,r=e("../tokenizer").Tokenizer,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../range").Range,l=e("../worker/worker_client").WorkerClient,h=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){this.$tokenizer=new r((new s).getRules()),this.$outdent=new o,this.$behaviour=new h,this.foldingRules=new c
};n.inherits(u,i),function(){this.toggleCommentLines=function(e,t,n,i){for(var r=!0,s=/^(\s*)\/\//,o=n;i>=o;o++)if(!s.test(t.getLine(o))){r=!1;break}if(r)for(var l=new a(0,0,0,0),o=n;i>=o;o++){var h=t.getLine(o),c=h.match(s);l.start.row=o,l.end.row=o,l.end.column=c[0].length,t.replace(l,c[1])}else t.indentRows(n,i,"//")},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.$tokenizer.getLineTokens(t,e),s=r.tokens,o=r.state;if(s.length&&"comment"==s[s.length-1].type)return i;if("start"==e||"regex_allowed"==e){var a=t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);a&&(i+=n)}else if("doc-start"==e){if("start"==o||"regex_allowed"==e)return"";var a=t.match(/^\s*(\/?)\*/);a&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new l(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("jslint",function(t){for(var n=[],i=0;t.data.length>i;i++){var r=t.data[i];r&&n.push({row:r.line-1,column:r.character-1,text:r.reason,type:"warning",lint:r})}e.setAnnotations(n)}),t.on("narcissus",function(t){e.setAnnotations([t.data])}),t.on("terminate",function(){e.clearAnnotations()}),t}}.call(u.prototype),t.Mode=u}),define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/unicode","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),i=e("../lib/lang"),r=e("../unicode"),s=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,a=function(){var e=i.arrayToMap("Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document".split("|")),t=i.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),n="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield",o=i.arrayToMap("__parent__|__count__|escape|unescape|with|__proto__".split("|")),a=i.arrayToMap("const|let|var|function".split("|")),l=i.arrayToMap("null|Infinity|NaN|undefined".split("|")),h=i.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),c="["+r.packages.L+"\\$_]["+r.packages.L+r.packages.Mn+r.packages.Mc+r.packages.Nd+r.packages.Pc+"\\$_]*\\b",u="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={start:[{token:"comment",regex:/\/\/.*$/},s.getStartRule("doc-start"),{token:"comment",merge:!0,regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+c+")(\\.)(prototype)(\\.)("+c+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator","text"],regex:"("+c+")(\\.)(prototype)(\\.)("+c+")(\\s*)(=)(\\s*)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+c+")(\\.)("+c+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+c+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+c+")(\\.)("+c+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+c+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+c+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"constant.language.boolean",regex:/(?:true|false)\b/},{token:"keyword",regex:"(?:"+n+")\\b",next:"regex_allowed"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:opzzzz|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|timeEnd|assert)\b/},{token:function(n){return e.hasOwnProperty(n)?"variable.language":o.hasOwnProperty(n)?"invalid.deprecated":a.hasOwnProperty(n)?"storage.type":t.hasOwnProperty(n)?"keyword":l.hasOwnProperty(n)?"constant.language":h.hasOwnProperty(n)?"invalid.illegal":"debugger"==n?"invalid.deprecated":"identifier"},regex:c},{token:"keyword.operator",regex:/!|\$|%|&|\*|\-\-|\-|\+\+|\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|\*=|%=|\+=|\-=|&=|\^=|\b(?:in|instanceof|new|delete|typeof|void)/,next:"regex_allowed"},{token:"punctuation.operator",regex:/\?|\:|\,|\;|\./,next:"regex_allowed"},{token:"paren.lparen",regex:/[\[({]/,next:"regex_allowed"},{token:"paren.rparen",regex:/[\])}]/},{token:"keyword.operator",regex:/\/=?/,next:"regex_allowed"},{token:"comment",regex:/^#!.*$/},{token:"text",regex:/\s+/}],regex_allowed:[s.getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/.*$"},{token:"string.regexp",regex:"\\/",next:"regex",merge:!0},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/\\w*",next:"start",merge:!0},{token:"string.regexp",regex:"[^\\\\/\\[]+",merge:!0},{token:"string.regexp.charachterclass",regex:"\\[",next:"regex_character_class",merge:!0},{token:"empty",regex:"",next:"start"}],regex_character_class:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp.charachterclass",regex:"]",next:"regex",merge:!0},{token:"string.regexp.charachterclass",regex:"[^\\\\\\]]+",merge:!0},{token:"empty",regex:"",next:"start"}],function_arguments:[{token:"variable.parameter",regex:c},{token:"punctuation.operator",regex:"[, ]+",merge:!0},{token:"punctuation.operator",regex:"$",merge:!0},{token:"empty",regex:"",next:"start"}],comment_regex_allowed:[{token:"comment",regex:".*?\\*\\/",merge:!0,next:"regex_allowed"},{token:"comment",merge:!0,regex:".+"}],comment:[{token:"comment",regex:".*?\\*\\/",merge:!0,next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"constant.language.escape",regex:u},{token:"string",regex:'[^"\\\\]+',merge:!0},{token:"string",regex:"\\\\$",next:"qqstring",merge:!0},{token:"string",regex:'"|$',next:"start",merge:!0}],qstring:[{token:"constant.language.escape",regex:u},{token:"string",regex:"[^'\\\\]+",merge:!0},{token:"string",regex:"\\\\$",next:"qstring",merge:!0},{token:"string",regex:"'|$",next:"start",merge:!0}]},this.embedRules(s,"doc-",[s.getEndRule("start")])};n.inherits(a,o),t.JavaScriptHighlightRules=a}),define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};n.inherits(r,i),r.getStartRule=function(e){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:e}},r.getEndRule=function(e){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=r}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){var n=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var s=r[1].length,o=e.findMatchingBracket({row:t,column:s});if(!o||o.row==t)return 0;var a=this.$getIndent(e.getLine(o.row));e.replace(new n(t,0,t,s-1),a)},this.$getIndent=function(e){var t=e.match(/^(\s+)/);return t?t[1]:""}}).call(i.prototype),t.MatchingBraceOutdent=i}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour"],function(e,t){var n=e("../../lib/oop"),i=e("../behaviour").Behaviour,r=function(){this.add("braces","insertion",function(e,t,n,i,r){if("{"==r){var s=n.getSelectionRange(),o=i.doc.getTextRange(s);return""!==o?{text:"{"+o+"}",selection:!1}:{text:"{}",selection:[1,1]}}if("}"==r){var a=n.getCursorPosition(),l=i.doc.getLine(a.row),h=l.substring(a.column,a.column+1);if("}"==h){var c=i.$findOpeningBracket("}",{column:a.column+1,row:a.row});if(null!==c)return{text:"",selection:[1,1]}}}else if("\n"==r){var a=n.getCursorPosition(),l=i.doc.getLine(a.row),h=l.substring(a.column,a.column+1);if("}"==h){var u=i.findMatchingBracket({row:a.row,column:a.column+1});if(!u)return null;var d=this.getNextLineIndent(e,l.substring(0,l.length-1),i.getTabString()),f=this.$getIndent(i.doc.getLine(u.row));return{text:"\n"+d+"\n"+f,selection:[1,d.length,1,d.length]}}}}),this.add("braces","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==s){var o=i.doc.getLine(r.start.row),a=o.substring(r.end.column,r.end.column+1);if("}"==a)return r.end.column++,r}}),this.add("parens","insertion",function(e,t,n,i,r){if("("==r){var s=n.getSelectionRange(),o=i.doc.getTextRange(s);return""!==o?{text:"("+o+")",selection:!1}:{text:"()",selection:[1,1]}}if(")"==r){var a=n.getCursorPosition(),l=i.doc.getLine(a.row),h=l.substring(a.column,a.column+1);if(")"==h){var c=i.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==c)return{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s){var o=i.doc.getLine(r.start.row),a=o.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,n,i,r){if("["==r){var s=n.getSelectionRange(),o=i.doc.getTextRange(s);return""!==o?{text:"["+o+"]",selection:!1}:{text:"[]",selection:[1,1]}}if("]"==r){var a=n.getCursorPosition(),l=i.doc.getLine(a.row),h=l.substring(a.column,a.column+1);if("]"==h){var c=i.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==c)return{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s){var o=i.doc.getLine(r.start.row),a=o.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,n,i,r){if('"'==r||"'"==r){var s=r,o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a)return{text:s+a+s,selection:!1};var l=n.getCursorPosition(),h=i.doc.getLine(l.row),c=h.substring(l.column-1,l.column);if("\\"==c)return null;for(var u,d=i.getTokens(o.start.row),f=0,g=-1,p=0;d.length>p&&(u=d[p],"string"==u.type?g=-1:0>g&&(g=u.value.indexOf(s)),!(u.value.length+f>o.start.column));p++)f+=d[p].value.length;if(!u||0>g&&"comment"!==u.type&&("string"!==u.type||o.start.column!==u.value.length+f-1&&u.value.lastIndexOf(s)===u.value.length-1))return{text:s+s,selection:[1,1]};if(u&&"string"===u.type){var m=h.substring(l.column,l.column+1);if(m==s)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==s||"'"==s)){var o=i.doc.getLine(r.start.row),a=o.substring(r.start.column+1,r.start.column+2);if('"'==a)return r.end.column++,r}})};n.inherits(r,i),t.CstyleBehaviour=r}),define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t){var n=e("../../lib/oop"),i=e("../../range").Range,r=e("./fold_mode").FoldMode,s=t.FoldMode=function(){};n.inherits(s,r),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,n){var r=e.getLine(n),s=r.match(this.foldingStartMarker);if(s){var o=s.index;if(s[1])return this.openingBracketBlock(e,s[1],n,o);var a=e.getCommentFoldRange(n,o+s[0].length);return a.end.column-=2,a}if("markbeginend"===t){var s=r.match(this.foldingStopMarker);if(s){var o=s.index+s[0].length;if(s[2]){var a=e.getCommentFoldRange(n,o);return a.end.column-=2,a}var l={row:n,column:o},h=e.$findOpeningBracket(s[1],l);if(!h)return;return h.column++,l.column--,i.fromPoints(h,l)}}}}.call(s.prototype)}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t){var n=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(e,t,i){var r=/\S/,s=e.getLine(t),o=s.search(r);if(-1!=o){for(var a=i||s.length,l=e.getLength(),h=t,c=t;l>++t;){var u=e.getLine(t).search(r);if(-1!=u){if(o>=u)break;c=t}}if(c>h){var d=e.getLine(c).length;return new n(h,a,c,d)}}},this.openingBracketBlock=function(e,t,i,r,s){var o={row:i,column:r+1},a=e.$findClosingBracket(t,o,s);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=this.getFoldWidget(e,a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(o,a)}}}).call(i.prototype)}),define("ace/mode/java_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),i=e("../lib/lang"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,s=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=i.arrayToMap("abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while".split("|")),t=i.arrayToMap("null|Infinity|NaN|undefined".split("|")),n=i.arrayToMap("AbstractMethodError|AssertionError|ClassCircularityError|ClassFormatError|Deprecated|EnumConstantNotPresentException|ExceptionInInitializerError|IllegalAccessError|IllegalThreadStateException|InstantiationError|InternalError|NegativeArraySizeException|NoSuchFieldError|Override|Process|ProcessBuilder|SecurityManager|StringIndexOutOfBoundsException|SuppressWarnings|TypeNotPresentException|UnknownError|UnsatisfiedLinkError|UnsupportedClassVersionError|VerifyError|InstantiationException|IndexOutOfBoundsException|ArrayIndexOutOfBoundsException|CloneNotSupportedException|NoSuchFieldException|IllegalArgumentException|NumberFormatException|SecurityException|Void|InheritableThreadLocal|IllegalStateException|InterruptedException|NoSuchMethodException|IllegalAccessException|UnsupportedOperationException|Enum|StrictMath|Package|Compiler|Readable|Runtime|StringBuilder|Math|IncompatibleClassChangeError|NoSuchMethodError|ThreadLocal|RuntimePermission|ArithmeticException|NullPointerException|Long|Integer|Short|Byte|Double|Number|Float|Character|Boolean|StackTraceElement|Appendable|StringBuffer|Iterable|ThreadGroup|Runnable|Thread|IllegalMonitorStateException|StackOverflowError|OutOfMemoryError|VirtualMachineError|ArrayStoreException|ClassCastException|LinkageError|NoClassDefFoundError|ClassNotFoundException|RuntimeException|Exception|ThreadDeath|Error|Throwable|System|ClassLoader|Cloneable|Class|CharSequence|Comparable|String|Object".split("|")),s=i.arrayToMap("".split("|"));this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},r.getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:function(i){return"this"==i?"variable.language":e.hasOwnProperty(i)?"keyword":n.hasOwnProperty(i)?"support.function":s.hasOwnProperty(i)?"support.function":t.hasOwnProperty(i)?"constant.language":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}]},this.embedRules(r,"doc-",[r.getEndRule("start")])};n.inherits(o,s),t.JavaHighlightRules=o}),function(e,t,n){function i(n,i,r){var s=t.createElement(n);return i&&(s.id=q+i),r&&(s.style.cssText=r),e(s)}function r(e){var t=w.length,n=(H+e)%t;return 0>n?t+n:n}function s(e,t){return Math.round((/%/.test(e)?("x"===t?y.width():y.height())/100:1)*parseInt(e,10))}function o(e){return R.photo||R.photoRegex.test(e)}function a(e){return R.retinaUrl&&n.devicePixelRatio>1?e.replace(R.photoRegex,R.retinaSuffix):e}function l(){var t,n=e.data(N,Z);null==n?(R=e.extend({},X),console&&console.log&&console.log("Error: cboxElement missing settings object")):R=e.extend({},n);for(t in R)e.isFunction(R[t])&&"on"!==t.slice(0,2)&&(R[t]=R[t].call(N));R.rel=R.rel||N.rel||e(N).data("rel")||"nofollow",R.href=R.href||e(N).attr("href"),R.title=R.title||N.title,"string"==typeof R.href&&(R.href=e.trim(R.href))}function h(n,i){e(t).trigger(n),lt.trigger(n),e.isFunction(i)&&i.call(N)}function c(){var e,t,n,i,r,s=q+"Slideshow_",o="click."+q;R.slideshow&&w[1]?(t=function(){clearTimeout(e)},n=function(){(R.loop||w[H+1])&&(e=setTimeout(j.next,R.slideshowSpeed))},i=function(){k.html(R.slideshowStop).unbind(o).one(o,r),lt.bind(tt,n).bind(et,t).bind(nt,r),p.removeClass(s+"off").addClass(s+"on")},r=function(){t(),lt.unbind(tt,n).unbind(et,t).unbind(nt,r),k.html(R.slideshowStart).unbind(o).one(o,function(){j.next(),i()}),p.removeClass(s+"on").addClass(s+"off")},R.slideshowAuto?i():r()):p.removeClass(s+"off "+s+"on")}function u(t){V||(N=t,l(),w=e(N),H=0,"nofollow"!==R.rel&&(w=e("."+J).filter(function(){var t,n=e.data(this,Z);return n&&(t=e(this).data("rel")||n.rel||this.rel),t===R.rel}),H=w.index(N),-1===H&&(w=w.add(N),H=w.length-1)),W||(W=U=!0,p.css({visibility:"hidden",display:"block"}),b=i(ht,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(v),M=A.height()+F.height()+v.outerHeight(!0)-v.height(),P=C.width()+E.width()+v.outerWidth(!0)-v.width(),I=b.outerHeight(!0),O=b.outerWidth(!0),R.returnFocus&&(e(N).blur(),lt.one(it,function(){e(N).focus()})),g.css({opacity:parseFloat(R.opacity),cursor:R.overlayClose?"pointer":"auto",visibility:"visible"}).show(),R.w=s(R.initialWidth,"x"),R.h=s(R.initialHeight,"y"),j.position(),ot&&y.bind("resize."+at+" scroll."+at,function(){g.css({width:y.width(),height:y.height(),top:y.scrollTop(),left:y.scrollLeft()})}).trigger("resize."+at),c(),h(Q,R.onOpen),_.add(B).hide(),T.html(R.close).show()),j.load(!0))}function d(){!p&&t.body&&(K=!1,y=e(n),p=i(ht).attr({id:Z,"class":st?q+(ot?"IE6":"IE"):""}).hide(),g=i(ht,"Overlay",ot?"position:absolute":"").hide(),x=i(ht,"LoadingOverlay").add(i(ht,"LoadingGraphic")),m=i(ht,"Wrapper"),v=i(ht,"Content").append(B=i(ht,"Title"),S=i(ht,"Current"),$=i(ht,"Next"),L=i(ht,"Previous"),k=i(ht,"Slideshow"),T=i(ht,"Close")),m.append(i(ht).append(i(ht,"TopLeft"),A=i(ht,"TopCenter"),i(ht,"TopRight")),i(ht,!1,"clear:left").append(C=i(ht,"MiddleLeft"),v,E=i(ht,"MiddleRight")),i(ht,!1,"clear:left").append(i(ht,"BottomLeft"),F=i(ht,"BottomCenter"),i(ht,"BottomRight"))).find("div div").css({"float":"left"}),D=i(ht,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),_=$.add(L).add(S).add(k),e(t.body).append(g,p.append(m,D)))}function f(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),u(this))}return p?(K||(K=!0,$.click(function(){j.next()}),L.click(function(){j.prev()}),T.click(function(){j.close()}),g.click(function(){R.overlayClose&&j.close()}),e(t).bind("keydown."+q,function(e){var t=e.keyCode;W&&R.escKey&&27===t&&(e.preventDefault(),j.close()),W&&R.arrowKey&&w[1]&&(37===t?(e.preventDefault(),L.click()):39===t&&(e.preventDefault(),$.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+q,"."+J,n):e("."+J).live("click."+q,n)),!0):!1}var g,p,m,v,A,C,E,F,w,y,b,D,x,B,S,k,$,L,T,_,R,M,P,I,O,N,H,z,W,U,V,G,j,Y,K,X={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},Z="colorbox",q="cbox",J=q+"Element",Q=q+"_open",et=q+"_load",tt=q+"_complete",nt=q+"_cleanup",it=q+"_closed",rt=q+"_purge",st=!e.support.leadingWhitespace,ot=st&&!n.XMLHttpRequest,at=q+"_IE6",lt=e({}),ht="div";e.colorbox||(e(d),j=e.fn[Z]=e[Z]=function(t,n){var i=this;if(t=t||{},d(),f()){if(e.isFunction(i))i=e("<a/>"),t.open=!0;else if(!i[0])return i;n&&(t.onComplete=n),i.each(function(){e.data(this,Z,e.extend({},e.data(this,Z)||X,t))}).addClass(J),(e.isFunction(t.open)&&t.open.call(i)||t.open)&&u(i[0])}return i},j.position=function(e,t){function n(e){A[0].style.width=F[0].style.width=v[0].style.width=parseInt(e.style.width,10)-P+"px",v[0].style.height=C[0].style.height=E[0].style.height=parseInt(e.style.height,10)-M+"px"}var i,r,o,a=0,l=0,h=p.offset();y.unbind("resize."+q),p.css({top:-9e4,left:-9e4}),r=y.scrollTop(),o=y.scrollLeft(),R.fixed&&!ot?(h.top-=r,h.left-=o,p.css({position:"fixed"})):(a=r,l=o,p.css({position:"absolute"})),l+=R.right!==!1?Math.max(y.width()-R.w-O-P-s(R.right,"x"),0):R.left!==!1?s(R.left,"x"):Math.round(Math.max(y.width()-R.w-O-P,0)/2),a+=R.bottom!==!1?Math.max(y.height()-R.h-I-M-s(R.bottom,"y"),0):R.top!==!1?s(R.top,"y"):Math.round(Math.max(y.height()-R.h-I-M,0)/2),p.css({top:h.top,left:h.left,visibility:"visible"}),e=p.width()===R.w+O&&p.height()===R.h+I?0:e||0,m[0].style.width=m[0].style.height="9999px",i={width:R.w+O+P,height:R.h+I+M,top:a,left:l},0===e&&p.css(i),p.dequeue().animate(i,{duration:e,complete:function(){n(this),U=!1,m[0].style.width=R.w+O+P+"px",m[0].style.height=R.h+I+M+"px",R.reposition&&setTimeout(function(){y.bind("resize."+q,j.position)},1),t&&t()},step:function(){n(this)}})},j.resize=function(e){W&&(e=e||{},e.width&&(R.w=s(e.width,"x")-O-P),e.innerWidth&&(R.w=s(e.innerWidth,"x")),b.css({width:R.w}),e.height&&(R.h=s(e.height,"y")-I-M),e.innerHeight&&(R.h=s(e.innerHeight,"y")),e.innerHeight||e.height||(b.css({height:"auto"}),R.h=b.height()),b.css({height:R.h}),j.position("none"===R.transition?0:R.speed))},j.prep=function(t){function n(){return R.w=R.w||b.width(),R.w=R.mw&&R.mw<R.w?R.mw:R.w,R.w}function s(){return R.h=R.h||b.height(),R.h=R.mh&&R.mh<R.h?R.mh:R.h,R.h}if(W){var a,l="none"===R.transition?0:R.speed;b.empty().remove(),b=i(ht,"LoadedContent").append(t),b.hide().appendTo(D.show()).css({width:n(),overflow:R.scrolling?"auto":"hidden"}).css({height:s()}).prependTo(v),D.hide(),e(z).css({"float":"none"}),a=function(){function t(){st&&p[0].style.removeAttribute("filter")}var n,s,a=w.length,c="frameBorder",u="allowTransparency";W&&(s=function(){clearTimeout(G),x.remove(),h(tt,R.onComplete)},st&&z&&b.fadeIn(100),B.html(R.title).add(b).show(),a>1?("string"==typeof R.current&&S.html(R.current.replace("{current}",H+1).replace("{total}",a)).show(),$[R.loop||a-1>H?"show":"hide"]().html(R.next),L[R.loop||H?"show":"hide"]().html(R.previous),R.slideshow&&k.show(),R.preloading&&e.each([r(-1),r(1)],function(){var t,n,i=w[this],r=e.data(i,Z);r&&r.href?(t=r.href,e.isFunction(t)&&(t=t.call(i))):t=e(i).attr("href"),t&&(o(t)||r.photo)&&(n=new Image,n.src=t)})):_.hide(),R.iframe?(n=i("iframe")[0],c in n&&(n[c]=0),u in n&&(n[u]="true"),R.scrolling||(n.scrolling="no"),e(n).attr({src:R.href,name:(new Date).getTime(),"class":q+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",s).appendTo(b),lt.one(rt,function(){n.src="//about:blank"}),R.fastIframe&&e(n).trigger("load")):s(),"fade"===R.transition?p.fadeTo(l,1,t):t())},"fade"===R.transition?p.fadeTo(l,0,function(){j.position(0,a)}):j.position(l,a)}},j.load=function(t){var r,c,u,d=j.prep;U=!0,z=!1,N=w[H],t||l(),Y&&p.add(g).removeClass(Y),R.className&&p.add(g).addClass(R.className),Y=R.className,h(rt),h(et,R.onLoad),R.h=R.height?s(R.height,"y")-I-M:R.innerHeight&&s(R.innerHeight,"y"),R.w=R.width?s(R.width,"x")-O-P:R.innerWidth&&s(R.innerWidth,"x"),R.mw=R.w,R.mh=R.h,R.maxWidth&&(R.mw=s(R.maxWidth,"x")-O-P,R.mw=R.w&&R.w<R.mw?R.w:R.mw),R.maxHeight&&(R.mh=s(R.maxHeight,"y")-I-M,R.mh=R.h&&R.h<R.mh?R.h:R.mh),r=R.href,G=setTimeout(function(){x.appendTo(v)},100),R.inline?(u=i(ht).hide().insertBefore(e(r)[0]),lt.one(rt,function(){u.replaceWith(b.children())}),d(e(r))):R.iframe?d(" "):R.html?d(R.html):o(r)?(r=a(r),e(z=new Image).addClass(q+"Photo").bind("error",function(){R.title=!1,d(i(ht,"Error").html(R.imgError))}).one("load",function(){var e;R.retinaImage&&n.devicePixelRatio>1&&(z.height=z.height/n.devicePixelRatio,z.width=z.width/n.devicePixelRatio),R.scalePhotos&&(c=function(){z.height-=z.height*e,z.width-=z.width*e},R.mw&&z.width>R.mw&&(e=(z.width-R.mw)/z.width,c()),R.mh&&z.height>R.mh&&(e=(z.height-R.mh)/z.height,c())),R.h&&(z.style.marginTop=Math.max(R.mh-z.height,0)/2+"px"),w[1]&&(R.loop||w[H+1])&&(z.style.cursor="pointer",z.onclick=function(){j.next()
}),st&&(z.style.msInterpolationMode="bicubic"),setTimeout(function(){d(z)},1)}),setTimeout(function(){z.src=r},1)):r&&D.load(r,R.data,function(t,n){d("error"===n?i(ht,"Error").html(R.xhrError):e(this).contents())})},j.next=function(){!U&&w[1]&&(R.loop||w[H+1])&&(H=r(1),j.load())},j.prev=function(){!U&&w[1]&&(R.loop||H)&&(H=r(-1),j.load())},j.close=function(){W&&!V&&(V=!0,W=!1,h(nt,R.onCleanup),y.unbind("."+q+" ."+at),g.fadeTo(200,0),p.stop().fadeTo(300,0,function(){p.add(g).css({opacity:1,cursor:"auto"}).hide(),h(rt),b.empty().remove(),setTimeout(function(){V=!1,h(it,R.onClosed)},1)}))},j.remove=function(){e([]).add(p).add(g).remove(),p=null,e("."+J).removeData(Z).removeClass(J),e(t).unbind("click."+q)},j.element=function(){return e(N)},j.settings=X)}(jQuery,document,window),function(e){function t(e){e.elem.style[e.prop]=parseInt(e.now,10)+e.unit}var n=function(){return false},i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},r=function(e){return e&&-1==e.indexOf("#")&&-1==e.indexOf("(")?"rgb("+(""+i[e])+")":e};e.extend(e.fx.step,{borderTopWidth:t,borderBottomWidth:t,borderLeftWidth:t,borderRightWidth:t}),e.fn.revertFlip=function(){return this.each(function(){var t=e(this);t.flip(t.data("flipRevertedSettings"))})},e.fn.flip=function(t){return this.each(function(){var i,s,o,a,l,h=e(this),c=n();if(h.data("flipLock"))return!1;var u={direction:function(e){switch(e){case"tb":return"bt";case"bt":return"tb";case"lr":return"rl";case"rl":return"lr";default:return"bt"}}(t.direction),bgColor:r(t.color)||"#999",color:r(t.bgColor)||h.css("background-color"),content:h.html(),speed:t.speed||500,onBefore:t.onBefore||function(){},onEnd:t.onEnd||function(){},onAnimation:t.onAnimation||function(){}};h.data("flipRevertedSettings",u).data("flipLock",1).data("flipSettings",u),i={width:h.width(),height:h.height(),bgColor:r(t.bgColor)||h.css("background-color"),fontSize:h.css("font-size")||"12px",direction:t.direction||"tb",toColor:r(t.color)||"#999",speed:t.speed||500,top:h.offset().top,left:h.offset().left,target:t.content||null,transparent:"transparent",dontChangeColor:t.dontChangeColor||!1,onBefore:t.onBefore||function(){},onEnd:t.onEnd||function(){},onAnimation:t.onAnimation||function(){}},c&&(i.transparent="#123456"),s=h.css("visibility","hidden").clone(!0).data("flipLock",1).appendTo("body").html("").css({visibility:"visible",position:"absolute",left:i.left,top:i.top,margin:0,zIndex:9999,"-webkit-box-shadow":"0px 0px 0px #000","-moz-box-shadow":"0px 0px 0px #000"});var d=function(){return{backgroundColor:i.transparent,fontSize:0,lineHeight:0,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderBottomWidth:0,borderTopColor:i.transparent,borderBottomColor:i.transparent,borderLeftColor:i.transparent,borderRightColor:i.transparent,background:"none",borderStyle:"solid",height:0,width:0}},f=function(){var e=25*(i.height/100),t=d();return t.width=i.width,{start:t,first:{borderTopWidth:0,borderLeftWidth:e,borderRightWidth:e,borderBottomWidth:0,borderTopColor:"#999",borderBottomColor:"#999",top:i.top+i.height/2,left:i.left-e},second:{borderBottomWidth:0,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderTopColor:i.transparent,borderBottomColor:i.transparent,top:i.top,left:i.left}}},g=function(){var e=25*(i.height/100),t=d();return t.height=i.height,{start:t,first:{borderTopWidth:e,borderLeftWidth:0,borderRightWidth:0,borderBottomWidth:e,borderLeftColor:"#999",borderRightColor:"#999",top:i.top-e,left:i.left+i.width/2},second:{borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftColor:i.transparent,borderRightColor:i.transparent,top:i.top,left:i.left}}};a={tb:function(){var e=f();return e.start.borderTopWidth=i.height,e.start.borderTopColor=i.bgColor,e.second.borderBottomWidth=i.height,e.second.borderBottomColor=i.toColor,e},bt:function(){var e=f();return e.start.borderBottomWidth=i.height,e.start.borderBottomColor=i.bgColor,e.second.borderTopWidth=i.height,e.second.borderTopColor=i.toColor,e},lr:function(){var e=g();return e.start.borderLeftWidth=i.width,e.start.borderLeftColor=i.bgColor,e.second.borderRightWidth=i.width,e.second.borderRightColor=i.toColor,e},rl:function(){var e=g();return e.start.borderRightWidth=i.width,e.start.borderRightColor=i.bgColor,e.second.borderLeftWidth=i.width,e.second.borderLeftColor=i.toColor,e}},o=a[i.direction](),c&&(o.start.filter="chroma(color="+i.transparent+")"),l=function(){var e=i.target;return e&&e.jquery?e.html():e},s.queue(function(){i.onBefore(s,h),s.html("").css(o.start),s.dequeue()}),s.animate(o.first,i.speed),s.queue(function(){i.onAnimation(s,h),s.dequeue()}),s.animate(o.second,i.speed),s.queue(function(){i.dontChangeColor||h.css({backgroundColor:i.toColor}),h.css({visibility:"visible"});var e=l();e&&h.html(e),s.remove(),i.onEnd(s,h),h.removeData("flipLock"),s.dequeue()})})}}(jQuery),function(e,t,n,i){function r(t,n){return t in e?e[t]:"function"==typeof e[n]?e[n]:function(e){if(e instanceof Array)return e;if("number"==typeof e){var t=[];return t.length=e,t}}}function s(e){if("string"==typeof e){for(var t=0,r=0;e.length>r;++r)t=4294967295&31*t+e.charCodeAt(r);return t}return"object"!=typeof e?4294967295&e:e.hashCode instanceof Function?e.hashCode():(e.$id===i&&(e.$id=n.floor(65536*n.random())-32768<<16|n.floor(65536*n.random())),e.$id)}function o(e,t){return null===e||null===t?null===e&&null===t:"string"==typeof e?e===t:"object"!=typeof e?e===t:e.equals instanceof Function?e.equals(t):e===t}function a(){}function l(e,t,n){if(!e.hasOwnProperty(t)||"function"!=typeof e[t])return e[t]=n,void 0;var i=e[t];if("$overloads"in i)return i.$defaultOverload=n,void 0;if("$overloads"in n||i.length!==n.length){var r,s;"$overloads"in n?(r=n.$overloads.slice(0),r[i.length]=i,s=n.$defaultOverload):(r=[],r[n.length]=n,r[i.length]=i,s=i);var o=function(){var e=o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload;return e.apply(this,arguments)};o.$overloads=r,"$methodArgsIndex"in n&&(o.$methodArgsIndex=n.$methodArgsIndex),o.$defaultOverload=s,o.name=t,e[t]=o}}function h(e,t){function n(n){k.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},enumerable:!0})}var i=[];for(var r in t)"function"==typeof t[r]?l(e,r,t[r]):"$"===r.charAt(0)||r in e||i.push(r);for(;i.length>0;)n(i.shift());e.$super=t}function c(e){return"string"!=typeof e?!1:-1!==["byte","int","char","color","float","long","double"].indexOf(e)}function u(e){var i=250,r=e.size/i,s=t.createElement("canvas");s.width=2*i,s.height=2*i,s.style.opacity=0;var o=e.getCSSDefinition(i+"px","normal"),a=s.getContext("2d");a.font=o;var l="dbflkhyjqpg";s.width=a.measureText(l).width,a.font=o;var h=t.createElement("div");h.style.position="absolute",h.style.opacity=0,h.style.fontFamily='"'+e.name+'"',h.style.fontSize=i+"px",h.innerHTML=l+"<br/>"+l,t.body.appendChild(h);var c=s.width,u=s.height,d=u/2;a.fillStyle="white",a.fillRect(0,0,c,u),a.fillStyle="black",a.fillText(l,0,d);for(var f=a.getImageData(0,0,c,u).data,g=0,p=4*c,v=f.length;v>++g&&255===f[g];)m();var A=n.round(g/p);for(g=v-1;--g>0&&255===f[g];)m();var C=n.round(g/p);if(e.ascent=r*(d-A),e.descent=r*(C-d),t.defaultView.getComputedStyle){var E=t.defaultView.getComputedStyle(h,null).getPropertyValue("height");E=r*E.replace("px",""),E>=2*e.size&&(e.leading=n.round(E/2))}return t.body.removeChild(h),e.caching?a:void 0}function d(e,t){e===i&&(e=""),this.name=e,t===i&&(t=0),this.size=t,this.glyph=!1,this.ascent=0,this.descent=0,this.leading=1.2*t;var n=e.indexOf(" Italic Bold");-1!==n&&(e=e.substring(0,n)),this.style="normal";var r=e.indexOf(" Italic");-1!==r&&(e=e.substring(0,r),this.style="italic"),this.weight="normal";var s=e.indexOf(" Bold");if(-1!==s&&(e=e.substring(0,s),this.weight="bold"),this.family="sans-serif",e!==i)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}this.context2d=u(this),this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}function f(){var e,t,n=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadXML","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","peg","perspective","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shearX","shearY","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","toImageData","touchCancel","touchEnd","touchMove","touchStart","translate","transform","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","XML","year","__contains","__equals","__equalsIgnoreCase","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split","__codePointAt","__startsWith","__endsWith","__matches"],i={};for(e=0,t=n.length;t>e;++e)i[n[e]]=null;for(var r in M.lib)if(M.lib.hasOwnProperty(r)&&M.lib[r].exports){var s=M.lib[r].exports;for(e=0,t=s.length;t>e;++e)i[s[e]]=null}return i}function g(e){function t(e){for(var t=[],n=e.split(/([\{\[\(\)\]\}])/),i=n[0],r=[],s=1;n.length>s;s+=2){var o=n[s];if("["===o||"{"===o||"("===o)r.push(i),i=o;else if("]"===o||"}"===o||")"===o){var a="}"===o?"A":")"===o?"B":"C",l=t.length;t.push(i+o),i=r.pop()+'"'+a+(l+1)+'"'}i+=n[s+1]}return t.unshift(i),t}function n(e,t){return e.replace(/'(\d+)'/g,function(e,n){var i=t[n];return"/"===i.charAt(0)?i:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(i)?"(new $p.Character("+i+"))":i})}function r(e){var t,n=/^\s*/.exec(e);if(n[0].length===e.length)t={left:n[0],middle:"",right:""};else{var i=/\s*$/.exec(e);t={left:n[0],middle:e.substring(n[0].length,i.index),right:i[0]}}return t.untrim=function(e){return this.left+e+this.right},t}function s(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function o(e,t){for(var n=0,i=t.length;i>n;++n)e[t[n]]=null;return e}function a(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e){return e.substring(2,e.length-1)}function h(e,t){var n=kt.length;return kt.push(e),'"'+t+n+'"'}function c(){return"class"+ ++Lt}function u(e,t,n){e.classId=t,e.scopeId=n,$t[t]=e}function d(e){var t=e;return t=t.replace(Tt,function(e){return h(e,"E")}),t=t.replace(_t,function(e){return h(e,"D")}),t=t.replace(It,function(e){return h(e,"H")})}function g(e,t){var n=e.replace(Mt,function(e,n,i){return i!==t?e:h(e,"G")});return n}function p(e){this.name=e}function m(e,t){this.params=e,this.methodArgsParam=t}function v(e){var t=s(e.substring(1,e.length-1)),n=[],i=null;if(""!==t)for(var r=t.split(","),o=0;r.length>o;++o){var a=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(r[o]);if(o===r.length-1&&r[o].indexOf("...")>=0){i=new p(a[1]);break}n.push(new p(a[1]))}return new m(n,i)}function A(e){function t(e,t,n,i){var o=kt[i];s=!0;var a=r(o.substring(1,o.length-1));return"__"+n+(""===a.middle?h("("+t.replace(/\.\s*$/,"")+")","B"):h("("+t.replace(/\.\s*$/,"")+","+a.middle+")","B"))}function n(e,t,n){return s=!0,"__instanceof"+h("("+t+", "+n+")","B")}var i=e;i=i.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,t,n){return n}),i=i.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e){return h(e,"F")}),i=i.replace(It,function(e){return h(e,"H")}),i=i.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,t,n){var i=n.replace(/"C(\d+)"/g,function(e,t){return kt[t]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", "),r="{"+i.substring(1,i.length-1)+"}",s="('"+t+"', "+h(r,"A")+")";return"$p.createJavaArray"+h(s,"B")}),i=i.replace(/(\.\s*length)\s*"B\d+"/g,"$1"),i=i.replace(/#([0-9A-Fa-f]{6})\b/g,function(e,t){return"0xFF"+t}),i=i.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,t,n){var i=kt[t];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(i))return e;if(/^\(\s*int\s*\)$/.test(i))return"(int)"+n;var r=i.split(/"C(\d+)"/g);return r.length>1&&!/^\[\s*\]$/.test(kt[r[1]])?e:""+n}),i=i.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,t){var n=r(t);return n.untrim("__int_cast("+n.middle+")")}),i=i.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1"),i=i.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,t,n){return t===n?e:""===n?"0"+t:t}),i=i.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1"),i=i.replace(/([^\s])%([^=\s])/g,"$1 % $2"),i=i.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1"),i=i.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,t){return"parse"+t.substring(0,1).toUpperCase()+t.substring(1)+'"B'}),i=i.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,t,n,i,r,s){if(n){var o=kt[i];return r?"pixels.setPixel"+h("("+o.substring(1,o.length-1)+","+s+")","B"):"pixels.getPixel"+h("("+o.substring(1,o.length-1)+")","B")}return t?"pixels.getLength"+h("()","B"):r?"pixels.set"+h("("+s+")","B"):"pixels.toArray"+h("()","B")});var s;do s=!1,i=i.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,t);while(s);do s=!1,i=i.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,n);while(s);return i=i.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function C(e,t){this.baseInterfaceName=e,this.body=t,t.owner=this}function E(e){var t=RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(e),n=wt,i=c();wt=i;var r=t[1]+"$"+i,s=new C(r,yt(kt[t[2]],r,"","implements "+t[1]));return u(s,i,n),wt=n,s}function F(e,t,n){this.name=e,this.params=t,this.body=n}function w(e){var t=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(e);return new F("function"!==t[1]?t[1]:null,v(kt[t[2]]),Dt(kt[t[3]]))}function y(e){this.members=e}function D(e){for(var t=e.split(","),n=0;t.length>n;++n){var i=t[n].indexOf(":");t[n]=0>i?{value:St(t[n])}:{label:s(t[n].substring(0,i)),value:St(s(t[n].substring(i+1)))}}return new y(t)}function x(e){if("("===e.charAt(0)||"["===e.charAt(0))return e.charAt(0)+x(e.substring(1,e.length-1))+e.charAt(e.length-1);if("{"===e.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(e)?"{"+h(e.substring(1,e.length-1),"I")+"}":"["+x(e.substring(1,e.length-1))+"]";var t=r(e),n=A(t.middle);return n=n.replace(/"[ABC](\d+)"/g,function(e,t){return x(kt[t])}),t.untrim(n)}function B(e){return e.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,t,n,r,s,o){if(t)return e;var a={name:n,member:s,callSign:!!o};return Ft(a)+(r===i?"":r)})}function S(e,t){this.expr=e,this.transforms=t}function $(e,t,n){this.name=e,this.value=t,this.isDefault=n}function L(e,t){var n,i,r,o=e.indexOf("=");return 0>o?(n=e,i=t,r=!0):(n=e.substring(0,o),i=St(e.substring(o+1)),r=!1),new $(s(n.replace(/(\s*"C\d+")+/g,"")),i,r)}function T(e){return"int"===e||"float"===e?"0":"boolean"===e?"false":"color"===e?"0x00000000":"null"}function _(e,t){this.definitions=e,this.varType=t}function R(e){this.expression=e}function M(e){if(Rt.test(e)){for(var t=Pt.exec(e),n=e.substring(t[0].length).split(","),i=T(t[2]),r=0;n.length>r;++r)n[r]=L(n[r],i);return new _(n,t[2])}return new R(St(e))}function P(e,t,n){this.initStatement=e,this.condition=t,this.step=n}function I(e,t){this.initStatement=e,this.container=t}function O(e,t){this.initStatement=e,this.container=t}function N(e){var t;return/\bin\b/.test(e)?(t=e.substring(1,e.length-1).split(/\bin\b/g),new I(M(s(t[0])),St(t[1]))):e.indexOf(":")>=0&&0>e.indexOf(";")?(t=e.substring(1,e.length-1).split(":"),new O(M(s(t[0])),St(t[1]))):(t=e.substring(1,e.length-1).split(";"),new P(M(s(t[0])),St(t[1]),St(t[2])))}function H(e){e.sort(function(e,t){return t.weight-e.weight})}function z(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function W(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function U(e){var t=Tt.exec(e);Tt.lastIndex=0;var n,i=t[1].indexOf("static")>=0,r=kt[l(t[6])],s=wt,o=c();return wt=o,n="interface"===t[2]?new z(t[3],bt(r,t[3],t[4]),i):new W(t[3],yt(r,t[3],t[4],t[5]),i),u(n,o,s),wt=s,n}function V(e,t,n,i){this.name=e,this.params=t,this.body=n,this.isStatic=i}function G(e){var t=_t.exec(e);_t.lastIndex=0;var n=t[1].indexOf("static")>=0,i=";"!==t[6]?kt[l(t[6])]:"{}";return new V(t[3],v(kt[l(t[4])]),Dt(i),n)}function j(e,t,n){this.definitions=e,this.fieldType=t,this.isStatic=n}function Y(e){for(var t=Pt.exec(e),n=t[1].indexOf("static")>=0,i=e.substring(t[0].length).split(/,\s*/g),r=T(t[2]),s=0;i.length>s;++s)i[s]=L(i[s],r);return new j(i,t[2],n)}function K(e,t){this.params=e,this.body=t}function X(e){var t=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(e),n=v(kt[t[1]]);return new K(n,Dt(kt[t[2]]))}function Z(e,t,n,i,r,s){var o,a;for(this.name=e,this.interfacesNames=t,this.methodsNames=n,this.fields=i,this.innerClasses=r,this.misc=s,o=0,a=i.length;a>o;++o)i[o].owner=this}function q(e,t,n,i,r,s,o,a,l){var h,c;for(this.name=e,this.baseClassName=t,this.interfacesNames=n,this.functions=i,this.methods=r,this.fields=s,this.cstrs=o,this.innerClasses=a,this.misc=l,h=0,c=s.length;c>h;++h)s[h].owner=this}function J(e,t){this.name=e,this.body=t,t.owner=this}function Q(e,t){this.name=e,this.body=t,t.owner=this}function et(e){var t=Tt.exec(e);Tt.lastIndex=0;var n=kt[l(t[6])],i=wt,r=c();wt=r;var s;return s="interface"===t[2]?new J(t[3],bt(n,t[3],t[4])):new Q(t[3],yt(n,t[3],t[4],t[5])),u(s,r,i),wt=i,s}function tt(e,t,n){this.name=e,this.params=t,this.body=n}function nt(e){var t=_t.exec(e);return _t.lastIndex=0,new tt(t[3],v(kt[l(t[4])]),Dt(kt[l(t[6])]))}function it(e){var t=e;return t=t.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1")}function rt(e,t){this.argument=e,this.misc=t}function st(e,t){this.argument=e,this.misc=t}function ot(e,t,n){this.name=e,this.argument=t,this.misc=n}function at(e){this.expr=e}function lt(e){this.label=e}function ht(e){for(var t=[],n=0,i=e.length;i>n;++n){var r=e[n];r instanceof _?t=t.concat(r.getNames()):r instanceof rt&&r.argument.initStatement instanceof _?t=t.concat(r.argument.initStatement.getNames()):(r instanceof z||r instanceof W||r instanceof J||r instanceof Q||r instanceof tt||r instanceof F)&&t.push(r.name)}return o({},t)}function ct(e){this.statements=e}function ut(e){this.statements=e}function dt(){function e(e,t){for(var n,s=t.split("."),o=e.scope;o;){if(o.hasOwnProperty(s[0])){n=o[s[0]];break}o=o.scope}n===i&&(n=r[s[0]]);for(var a=1,l=s.length;l>a&&n;++a)n=n.inScope[s[a]];return n}var t,n,r={};for(t in $t)if($t.hasOwnProperty(t)){n=$t[t];var s=n.scopeId,o=n.name;if(s){var a=$t[s];n.scope=a,a.inScope===i&&(a.inScope={}),a.inScope[o]=n}else r[o]=n}for(t in $t)if($t.hasOwnProperty(t)){n=$t[t];var l=n.body.baseClassName;if(l){var h=e(n,l);h&&(n.base=h,h.derived||(h.derived=[]),h.derived.push(n))}var c,u,d=n.body.interfacesNames,f=[];if(d&&d.length>0){for(c=0,u=d.length;u>c;++c){var g=e(n,d[c]);f.push(g),g&&(g.derived||(g.derived=[]),g.derived.push(n))}f.length>0&&(n.interfaces=f)}}}function ft(){function e(e,t){var n=s[e];if(!n)return!1;var i=n.indexOf(t);return 0>i?!1:(n.splice(i,1),n.length>0?!1:(delete s[e],!0))}var t,n,i,r=[],s={};for(t in $t)if($t.hasOwnProperty(t))if(i=$t[t],i.inScope||i.derived){var o=[];if(i.inScope)for(n in i.inScope)i.inScope.hasOwnProperty(n)&&o.push(i.inScope[n]);i.derived&&(o=o.concat(i.derived)),s[t]=o}else r.push(t),i.weight=0;for(;r.length>0;)if(t=r.shift(),i=$t[t],i.scopeId&&e(i.scopeId,i)&&(r.push(i.scopeId),$t[i.scopeId].weight=i.weight+1),i.base&&e(i.base.classId,i)&&(r.push(i.base.classId),i.base.weight=i.weight+1),i.interfaces){var a,l;for(a=0,l=i.interfaces.length;l>a;++a)i.interfaces[a]&&e(i.interfaces[a].classId,i)&&(r.push(i.interfaces[a].classId),i.interfaces[a].weight=i.weight+1)}}var gt=f(),pt=e.replace(/\r\n?|\n\r/g,"\n"),mt=[],vt=pt.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,t,n,i,r,s,o,a){var l;return t||n?(l=mt.length,mt.push(e),"'"+l+"'"):i?(l=mt.length,mt.push(s),r+"'"+l+"'"):""!==a?" ":"\n"});vt=vt.replace(/__x([0-9A-F]{4})/g,function(e,t){return"__x005F_x"+t}),vt=vt.replace(/\$/g,"__x0024");var At,Ct=vt,Et=function(e,t,n,i){return t||i?e:(At=!0,"")};do At=!1,Ct=Ct.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,Et);while(At);var Ft,wt,yt,bt,Dt,xt,Bt,St,kt=t(Ct),$t={},Lt=0,Tt=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,_t=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,Rt=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,Mt=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,Pt=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,It=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;p.prototype.toString=function(){return this.name},m.prototype.getNames=function(){for(var e=[],t=0,n=this.params.length;n>t;++t)e.push(this.params[t].name);return e},m.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},m.prototype.toString=function(){if(0===this.params.length)return"()";for(var e="(",t=0,n=this.params.length;n>t;++t)e+=this.params[t]+", ";return e.substring(0,e.length-2)+")"},C.prototype.toString=function(){return"new ("+this.body+")"},F.prototype.toString=function(){var e=Ft,t=o({"this":null},this.params.getNames());Ft=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n="function";this.name&&(n+=" "+this.name);var i=this.params.prependMethodArgs(""+this.body);return n+=this.params+" "+i,Ft=e,n},y.prototype.toString=function(){var e=Ft;Ft=function(t){return"this"===t.name?"this":e(t)};for(var t="",n=0,i=this.members.length;i>n;++n)this.members[n].label&&(t+=this.members[n].label+": "),t+=""+this.members[n].value+", ";return Ft=e,t.substring(0,t.length-2)},S.prototype.toString=function(){var e=this.transforms,t=B(this.expr);return t.replace(/"!(\d+)"/g,function(t,n){return""+e[n]})},St=function(e){var t=[],n=x(e);return n=n.replace(/"H(\d+)"/g,function(e,n){return t.push(w(kt[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"F(\d+)"/g,function(e,n){return t.push(E(kt[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"I(\d+)"/g,function(e,n){return t.push(D(kt[n])),'"!'+(t.length-1)+'"'}),new S(n,t)},$.prototype.toString=function(){return this.name+" = "+this.value},_.prototype.getNames=function(){for(var e=[],t=0,n=this.definitions.length;n>t;++t)e.push(this.definitions[t].name);return e},_.prototype.toString=function(){return"var "+this.definitions.join(",")},R.prototype.toString=function(){return""+this.expression},P.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},I.prototype.toString=function(){var e=""+this.initStatement;return e.indexOf("=")>=0&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},O.iteratorId=0,O.prototype.toString=function(){var e=""+this.initStatement,t="$it"+O.iteratorId++,n=e.replace(/^\s*var\s*/,"").split("=")[0],i="var "+t+" = new $p.ObjectIterator("+this.container+"), "+n+" = void(0)",r=t+".hasNext() && (("+n+" = "+t+".next()) || true)";return"("+i+"; "+r+";)"},z.prototype.toString=function(){return""+this.body},W.prototype.toString=function(){return""+this.body},V.prototype.toString=function(){var e=o({},this.params.getNames()),t=Ft;Ft=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(""+this.body),i="function "+this.methodId+this.params+" "+n+"\n";return Ft=t,i},j.prototype.getNames=function(){for(var e=[],t=0,n=this.definitions.length;n>t;++t)e.push(this.definitions[t].name);return e},j.prototype.toString=function(){var e=Ft({name:"[this]"});if(this.isStatic){for(var t=this.owner.name,n=[],i=0,r=this.definitions.length;r>i;++i){var s=this.definitions[i],o=s.name,a=t+"."+o,l="if("+a+" === void(0)) {\n "+a+" = "+s.value+"; }\n$p.defineProperty("+e+", '"+o+"', { get: function(){return "+a+";}, set: function(val){"+a+" = val;} });\n";n.push(l)}return n.join("")}return e+"."+this.definitions.join("; "+e+".")},K.prototype.toString=function(){var e=o({},this.params.getNames()),t=Ft;Ft=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n="function $constr_"+this.params.params.length+(""+this.params),i=this.params.prependMethodArgs(""+this.body);return/\$(superCstr|constr)\b/.test(i)||(i="{\n$superCstr();\n"+i.substring(1)),Ft=t,n+i+"\n"},Z.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var i,r,s,o;for(i=0,s=this.fields.length;s>i;++i){var a=this.fields[i].getNames();for(r=0,o=a.length;o>r;++r)e[a[r]]=this.fields[i]}for(i=0,s=this.methodsNames.length;s>i;++i){var l=this.methodsNames[i];t[l]=!0}for(i=0,s=this.innerClasses.length;s>i;++i){var h=this.innerClasses[i];n[h.name]=h}},Z.prototype.toString=function(){function e(e){for(var t=0;e;)++t,e=e.scope;return t}e(this.owner);var t=this.name,n="",i="",r={},s={},o={};this.getMembers(r,s,o);var a,l;if(this.owner.interfaces){var h,c=[];for(a=0,l=this.interfacesNames.length;l>a;++a)this.owner.interfaces[a]&&(h=Ft({name:this.interfacesNames[a]}),c.push(h),n+="$p.extendInterfaceMembers("+t+", "+h+");\n");i+=t+".$interfaces = ["+c.join(", ")+"];\n"}for(i+=t+".$isInterface = true;\n",i+=t+".$methods = ['"+this.methodsNames.join("', '")+"'];\n",H(this.innerClasses),a=0,l=this.innerClasses.length;l>a;++a){var u=this.innerClasses[a];u.isStatic&&(n+=t+"."+u.name+" = "+u+";\n")}for(a=0,l=this.fields.length;l>a;++a){var d=this.fields[a];d.isStatic&&(n+=t+"."+d.definitions.join(";\n"+t+".")+";\n")}return"(function() {\nfunction "+t+"() { throw 'Unable to create the interface'; }\n"+n+i+"return "+t+";\n})()"},bt=function(e,t,n){var s=e.substring(1,e.length-1);s=d(s),s=g(s,t);var o=[],a=[];s=s.replace(/"([DE])(\d+)"/g,function(e,t,n){return"D"===t?o.push(n):"E"===t&&a.push(n),""});var l,h,c,u=s.split(/;(?:\s*;)*/g);for(n!==i&&(l=n.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),h=0,c=o.length;c>h;++h){var f=G(kt[o[h]]);o[h]=f.name}for(h=0,c=u.length-1;c>h;++h){var p=r(u[h]);u[h]=Y(p.middle)}var m=u.pop();for(h=0,c=a.length;c>h;++h)a[h]=U(kt[a[h]]);return new Z(t,l,o,u,a,{tail:m})},q.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var i,r,s,o;for(i=0,s=this.fields.length;s>i;++i){var a=this.fields[i].getNames();for(r=0,o=a.length;o>r;++r)e[a[r]]=this.fields[i]}for(i=0,s=this.methods.length;s>i;++i){var l=this.methods[i];t[l.name]=l}for(i=0,s=this.innerClasses.length;s>i;++i){var h=this.innerClasses[i];n[h.name]=h}},q.prototype.toString=function(){function e(e){for(var t=0;e;)++t,e=e.scope;return t}var t=e(this.owner),n="$this_"+t,i=this.name,r="var "+n+" = this;\n",o="",a="",l={},h={},c={};this.getMembers(l,h,c);var u=Ft;Ft=function(e){var t=e.name;return"this"===t?e.callSign||!e.member?n+".$self":n:l.hasOwnProperty(t)?l[t].isStatic?i+"."+t:n+"."+t:c.hasOwnProperty(t)?n+"."+t:h.hasOwnProperty(t)?h[t].isStatic?i+"."+t:n+".$self."+t:u(e)};var d;this.baseClassName?(d=u({name:this.baseClassName}),r+="var $super = { $upcast: "+n+" };\n",r+="function $superCstr(){"+d+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",a+=i+".$base = "+d+";\n"):r+="function $superCstr(){$p.extendClassChain("+n+")}\n",this.owner.base&&(o+="$p.extendStaticMembers("+i+", "+d+");\n");
var f,g,p,m;if(this.owner.interfaces){var v,A=[];for(f=0,g=this.interfacesNames.length;g>f;++f)this.owner.interfaces[f]&&(v=u({name:this.interfacesNames[f]}),A.push(v),o+="$p.extendInterfaceMembers("+i+", "+v+");\n");a+=i+".$interfaces = ["+A.join(", ")+"];\n"}for(this.functions.length>0&&(r+=this.functions.join("\n")+"\n"),H(this.innerClasses),f=0,g=this.innerClasses.length;g>f;++f){var C=this.innerClasses[f];C.isStatic?(o+=i+"."+C.name+" = "+C+";\n",r+=n+"."+C.name+" = "+i+"."+C.name+";\n"):r+=n+"."+C.name+" = "+C+";\n"}for(f=0,g=this.fields.length;g>f;++f){var E=this.fields[f];if(E.isStatic)for(o+=i+"."+E.definitions.join(";\n"+i+".")+";\n",p=0,m=E.definitions.length;m>p;++p){var F=E.definitions[p].name,w=i+"."+F;r+="$p.defineProperty("+n+", '"+F+"', {get: function(){return "+w+"}, set: function(val){"+w+" = val}});\n"}else r+=n+"."+E.definitions.join(";\n"+n+".")+";\n"}var y={};for(f=0,g=this.methods.length;g>f;++f){var b=this.methods[f],D=y[b.name],x=b.name+"$"+b.params.params.length,B=!!b.params.methodArgsParam;D?(++D,x+="_"+D):D=1,b.methodId=x,y[b.name]=D,b.isStatic?(o+=b,o+="$p.addMethod("+i+", '"+b.name+"', "+x+", "+B+");\n",r+="$p.addMethod("+n+", '"+b.name+"', "+x+", "+B+");\n"):(r+=b,r+="$p.addMethod("+n+", '"+b.name+"', "+x+", "+B+");\n")}r+=s(this.misc.tail),this.cstrs.length>0&&(r+=this.cstrs.join("\n")+"\n"),r+="function $constr() {\n";var S=[];for(f=0,g=this.cstrs.length;g>f;++f){var k=this.cstrs[f].params.params.length,$=!!this.cstrs[f].params.methodArgsParam;S.push("if(arguments.length "+($?">=":"===")+" "+k+") { $constr_"+k+".apply("+n+", arguments); }")}return S.length>0&&(r+=S.join(" else ")+" else "),r+="$superCstr();\n}\n",r+="$constr.apply(null, arguments);\n",Ft=u,"(function() {\nfunction "+i+"() {\n"+r+"}\n"+o+a+"return "+i+";\n})()"},yt=function(e,t,n,s){var o=e.substring(1,e.length-1);o=d(o),o=g(o,t);var a=[],l=[],h=[],c=[];o=o.replace(/"([DEGH])(\d+)"/g,function(e,t,n){return"D"===t?a.push(n):"E"===t?l.push(n):"H"===t?c.push(n):h.push(n),""});var u,f,p,m=o.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);for(n!==i&&(u=n.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),s!==i&&(f=s.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),p=0;c.length>p;++p)c[p]=w(kt[c[p]]);for(p=0;a.length>p;++p)a[p]=G(kt[a[p]]);for(p=0;m.length-1>p;++p){var v=r(m[p]);m[p]=Y(v.middle)}var A=m.pop();for(p=0;h.length>p;++p)h[p]=X(kt[h[p]]);for(p=0;l.length>p;++p)l[p]=U(kt[l[p]]);return new q(t,u,f,c,a,m,h,l,{tail:A})},J.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},Q.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},tt.prototype.toString=function(){var e=o({},this.params.getNames()),t=Ft;Ft=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(""+this.body),i="function "+this.name+this.params+" "+n+"\n$p."+this.name+" = "+this.name+";";return Ft=t,i},rt.prototype.toString=function(){return this.misc.prefix+(""+this.argument)},st.prototype.toString=function(){return this.misc.prefix+(""+this.argument)},ot.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==i&&(e+=""+this.argument),e},at.prototype.toString=function(){return"case "+this.expr+":"},lt.prototype.toString=function(){return this.label},xt=function(e,t,n){var o=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),a=[];e=it(e);for(var l,h,c=0;null!==(l=o.exec(e));){if(l[1]!==i){var u=e.lastIndexOf('"B',o.lastIndex),d=e.substring(c,u);"for"===l[1]?a.push(new rt(N(kt[l[2]]),{prefix:d})):"catch"===l[1]?a.push(new st(v(kt[l[2]]),{prefix:d})):a.push(new ot(l[1],St(kt[l[2]]),{prefix:d}))}else if(l[3]!==i)a.push(new ot(l[3],i,{prefix:e.substring(c,o.lastIndex)}));else if(l[4]!==i){if(h=e.substring(c,o.lastIndex-l[4].length),0!==s(h).length)continue;a.push(h);var f=l[4].charAt(1),g=l[5];"D"===f?a.push(t(kt[g])):"E"===f?a.push(n(kt[g])):"H"===f?a.push(w(kt[g])):a.push(Dt(kt[g]))}else if(l[6]!==i)a.push(new at(St(s(l[7]))));else if(l[8]!==i){if(h=e.substring(c,o.lastIndex-l[8].length),0!==s(h).length)continue;a.push(new lt(e.substring(c,o.lastIndex)))}else{var p=r(e.substring(c,o.lastIndex-1));a.push(p.left),a.push(M(p.middle)),a.push(p.right+";")}c=o.lastIndex}var m=r(e.substring(c));return a.push(m.left),""!==m.middle&&(a.push(M(m.middle)),a.push(";"+m.right)),a},ct.prototype.toString=function(){var e=ht(this.statements),t=Ft;a(e)||(Ft=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)});var n="{\n"+this.statements.join("")+"\n}";return Ft=t,n},Dt=function(e){var t=r(e.substring(1,e.length-1));return new ct(xt(t.middle))},ut.prototype.toString=function(){for(var e,t=[],n=[],i=0,r=this.statements.length;r>i;++i)e=this.statements[i],e instanceof Q||e instanceof J?t.push(e):n.push(e);H(t);var s=ht(this.statements);Ft=function(e){var t=e.name;return s.hasOwnProperty(t)?t:gt.hasOwnProperty(t)||b.hasOwnProperty(t)||k.hasOwnProperty(t)?"$p."+t:t};var o="// this code was autogenerated from PJS\n(function($p) {\n"+t.join("")+"\n"+n.join("")+"\n})";return Ft=null,o},Bt=function(){var e=d(kt[0]);return e=e.replace(/\bimport\s+[^;]+;/g,""),new ut(xt(e,nt,et))};var Ot=Bt();dt(Ot),ft(Ot);var Nt=""+Ot;return Nt=Nt.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n"),Nt=Nt.replace(/__x([0-9A-F]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),n(Nt,mt)}function p(e,t){var n=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(e);if(n&&2===n.length)for(var i=[],r=n.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(e,t){return i.push(t),"{"+(i.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),s=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},o=0,a=r.length;a>o;o++){var l=r[o].split("=");if(l&&2===l.length){var h=s(l[0]),c=s(l[1]),u=[];if("preload"===h){u=c.split(",");for(var f=0,g=u.length;g>f;f++){var p=s(u[f]);t.imageCache.add(p)}}else if("font"===h){u=c.split(",");for(var m=0,v=u.length;v>m;m++){var A=s(u[m]),C=/^\{(\d*?)\}$/.exec(A);d.preloading.add(C?JSON.parse("{"+i[C[1]]+"}"):A)}}else"pauseOnBlur"===h?t.options.pauseOnBlur="true"===c:"globalKeyEvents"===h?t.options.globalKeyEvents="true"===c:"param-"===h.substring(0,6)?t.params[h.substring(6)]=c:t.options[h]=c}}return e}var m=function(){},v=function(){return"console"in e?function(t){e.console.log("Processing.js: "+t)}:m}(),A=function(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),t.send(null),200!==t.status&&0!==t.status)throw"XMLHttpRequest failed, status code "+t.status;return t.responseText},C="document"in this&&!("fake"in this.document);if(t.head=t.head||t.getElementsByTagName("head")[0],t.documentMode>=9&&!t.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var E=r("Float32Array","WebGLFloatArray"),F=r("Int32Array","WebGLIntArray"),w=r("Uint16Array","WebGLUnsignedShortArray"),y=r("Uint8Array","WebGLUnsignedByteArray"),b={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:n.PI,TWO_PI:2*n.PI,HALF_PI:n.PI/2,THIRD_PI:n.PI/3,QUARTER_PI:n.PI/4,DEG_TO_RAD:n.PI/180,RAD_TO_DEG:180/n.PI,WHITESPACE:" 	\n\r\f ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8},D=function(e){if(e.iterator instanceof Function)return e.iterator();if(!(e instanceof Array))throw"Unable to iterate: "+e;var t=-1;this.hasNext=function(){return++t<e.length},this.next=function(){return e[t]}},x=function(){function e(e){var t=0;this.hasNext=function(){return e.length>t},this.next=function(){return e[t++]},this.remove=function(){e.splice(t,1)}}function t(n){var i;n instanceof t?i=n.toArray():(i=[],"number"==typeof n&&(i.length=n>0?n:0)),this.get=function(e){return i[e]},this.contains=function(e){return this.indexOf(e)>-1},this.indexOf=function(e){for(var t=0,n=i.length;n>t;++t)if(o(e,i[t]))return t;return-1},this.lastIndexOf=function(e){for(var t=i.length-1;t>=0;--t)if(o(e,i[t]))return t;return-1},this.add=function(){if(1===arguments.length)i.push(arguments[0]);else{if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(e>=0&&i.length>=e))throw e+" is not a valid index";i.splice(e,0,arguments[1])}},this.addAll=function(e,t){var n;if("number"==typeof e){if(0>e||e>i.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+i.length;for(n=new D(t);n.hasNext();)i.splice(e++,0,n.next())}else for(n=new D(e);n.hasNext();)i.push(n.next())},this.set=function(){if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(e>=0&&i.length>e))throw e+" is not a valid index.";i.splice(e,1,arguments[1])},this.size=function(){return i.length},this.clear=function(){i.length=0},this.remove=function(e){return"number"==typeof e?i.splice(e,1)[0]:(e=this.indexOf(e),e>-1?(i.splice(e,1),!0):!1)},this.removeAll=function(e){var n,i,r,s=new t;for(s.addAll(this),this.clear(),n=0,i=0;s.size()>n;n++)r=s.get(n),e.contains(r)||this.add(i++,r);return this.size()<s.size()?!0:!1},this.isEmpty=function(){return!i.length},this.clone=function(){return new t(this)},this.toArray=function(){return i.slice(0)},this.iterator=function(){return new e(i)}}return t}(),B=function(){function e(){function t(e){var t=s(e)%u.length;return 0>t?u.length+t:t}function n(){if(!(c*u.length>=d)){for(var e=[],n=0;u.length>n;++n)u[n]!==i&&(e=e.concat(u[n]));var r=2*u.length;u=[],u.length=r;for(var s=0;e.length>s;++s){var o=t(e[s].key),a=u[o];a===i&&(u[o]=a=[]),a.push(e[s])}}}function r(e,t){function n(){for(;!a;)if(++o,s>=u.length)a=!0;else{if(!(u[s]===i||o>=u[s].length))return;o=-1,++s}}var r,s=0,o=-1,a=!1;this.hasNext=function(){return!a},this.next=function(){return r=e(u[s][o]),n(),r},this.remove=function(){r!==i&&(t(r),--o,n())},n()}function a(e,t,n){this.clear=function(){f.clear()},this.contains=function(e){return t(e)},this.containsAll=function(e){for(var t=e.iterator();t.hasNext();)if(!this.contains(t.next()))return!1;return!0},this.isEmpty=function(){return f.isEmpty()},this.iterator=function(){return new r(e,n)},this.remove=function(e){return this.contains(e)?(n(e),!0):!1},this.removeAll=function(e){for(var t=e.iterator(),i=!1;t.hasNext();){var r=t.next();this.contains(r)&&(n(r),i=!0)}return!0},this.retainAll=function(e){for(var t=this.iterator(),i=[];t.hasNext();){var r=t.next();e.contains(r)||i.push(r)}for(var s=0;i.length>s;++s)n(i[s]);return i.length>0},this.size=function(){return f.size()},this.toArray=function(){for(var e=[],t=this.iterator();t.hasNext();)e.push(t.next());return e}}function l(e){this._isIn=function(t){return t===f&&e.removed===i},this.equals=function(t){return o(e.key,t.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(){return s(e.key)},this.setValue=function(t){var n=e.value;return e.value=t,n}}if(1===arguments.length&&arguments[0]instanceof e)return arguments[0].clone();var h=arguments.length>0?arguments[0]:16,c=arguments.length>1?arguments[1]:.75,u=[];u.length=h;var d=0,f=this;this.clear=function(){d=0,u=[],u.length=h},this.clone=function(){var t=new e;return t.putAll(this),t},this.containsKey=function(e){var n=t(e),r=u[n];if(r===i)return!1;for(var s=0;r.length>s;++s)if(o(r[s].key,e))return!0;return!1},this.containsValue=function(e){for(var t=0;u.length>t;++t){var n=u[t];if(n!==i)for(var r=0;n.length>r;++r)if(o(n[r].value,e))return!0}return!1},this.entrySet=function(){return new a(function(e){return new l(e)},function(e){return e instanceof l&&e._isIn(f)},function(e){return f.remove(e.getKey())})},this.get=function(e){var n=t(e),r=u[n];if(r===i)return null;for(var s=0;r.length>s;++s)if(o(r[s].key,e))return r[s].value;return null},this.isEmpty=function(){return 0===d},this.keySet=function(){return new a(function(e){return e.key},function(e){return f.containsKey(e)},function(e){return f.remove(e)})},this.values=function(){return new a(function(e){return e.value},function(e){return f.containsValue(e)},function(e){return f.removeByValue(e)})},this.put=function(e,r){var s=t(e),a=u[s];if(a===i)return++d,u[s]=[{key:e,value:r}],n(),null;for(var l=0;a.length>l;++l)if(o(a[l].key,e)){var h=a[l].value;return a[l].value=r,h}return++d,a.push({key:e,value:r}),n(),null},this.putAll=function(e){for(var t=e.entrySet().iterator();t.hasNext();){var n=t.next();this.put(n.getKey(),n.getValue())}},this.remove=function(e){var n=t(e),r=u[n];if(r===i)return null;for(var s=0;r.length>s;++s)if(o(r[s].key,e)){--d;var a=r[s].value;return r[s].removed=!0,r.length>1?r.splice(s,1):u[n]=i,a}return null},this.removeByValue=function(e){var t,n,i,r;for(t in u)if(u.hasOwnProperty(t))for(n=0,i=u[t].length;i>n;n++)if(r=u[t][n],r.value===e)return u[t].splice(n,1),!0;return!1},this.size=function(){return d}}return e}(),S=function(){function e(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function t(e){return function(t,n){var i=t.get();return i[e](n),i}}e.dist=function(e,t){return e.dist(t)},e.dot=function(e,t){return e.dot(t)},e.cross=function(e,t){return e.cross(t)},e.angleBetween=function(e,t){return n.acos(e.dot(t)/(e.mag()*t.mag()))},e.prototype={set:function(e,t,n){1===arguments.length?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=t,this.z=n)},get:function(){return new e(this.x,this.y,this.z)},mag:function(){var e=this.x,t=this.y,i=this.z;return n.sqrt(e*e+t*t+i*i)},add:function(e,t,n){1===arguments.length?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=t,this.z+=n)},sub:function(e,t,n){1===arguments.length?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=t,this.z-=n)},mult:function(e){"number"==typeof e?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){"number"==typeof e?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},dist:function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n.sqrt(t*t+i*i+r*r)},dot:function(e,t,n){return 1===arguments.length?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*t+this.z*n},cross:function(t){var n=this.x,i=this.y,r=this.z;return new e(i*t.z-t.y*r,r*t.x-t.z*n,n*t.y-t.x*i)},normalize:function(){var e=this.mag();e>0&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading2D:function(){return-n.atan2(-this.y,this.x)},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var i in e.prototype)e.prototype.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t(i));return e}();a.prototype=b;var k=new a;k.ArrayList=x,k.HashMap=B,k.PVector=S,k.ObjectIterator=D,k.PConstants=b,k.defineProperty=function(e,t,n){"defineProperty"in Object?Object.defineProperty(e,t,n):(n.hasOwnProperty("get")&&e.__defineGetter__(t,n.get),n.hasOwnProperty("set")&&e.__defineSetter__(t,n.set))},k.extendClassChain=function(e){for(var t=[e],n=e.$upcast;n;n=n.$upcast)h(n,e),t.push(n),e=n;for(;t.length>0;)t.pop().$self=e},k.extendStaticMembers=function(e,t){h(e,t)},k.extendInterfaceMembers=function(e,t){h(e,t)},k.addMethod=function(e,t,n,i){var r=e[t];if(r||i){var s=n.length;if("$overloads"in r)r.$overloads[s]=n;else{var o=function(){var e=o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload;return e.apply(this,arguments)},a=[];r&&(a[r.length]=r),a[s]=n,o.$overloads=a,o.$defaultOverload=r||n,i&&(o.$methodArgsIndex=s),o.name=t,e[t]=o}}else e[t]=n},k.createJavaArray=function(e,t){var n=null,i=null;if("string"==typeof e&&("boolean"===e?i=!1:c(e)&&(i=0)),"number"==typeof t[0]){var r=0|t[0];if(1>=t.length){n=[],n.length=r;for(var s=0;r>s;++s)n[s]=i}else{n=[];for(var o=t.slice(1),a=0;r>a;++a)n.push(k.createJavaArray(e,o))}}return n};var $={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};(function(e){function t(e){return function(){throw"Processing.js does not support "+e+"."}}for(var n,i,r="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),s=r.length;s--;)n=r[s],i=n.replace("()",""),e[i]=t(n)})(k),k.defineProperty(k,"screenWidth",{get:function(){return e.innerWidth}}),k.defineProperty(k,"screenHeight",{get:function(){return e.innerHeight}}),k.defineProperty(k,"online",{get:function(){return!0}});var L=[],T={},_=function(e){L.splice(T[e],1),delete T[e]},R=function(e){e.externals.canvas.id!==i&&e.externals.canvas.id.length||(e.externals.canvas.id="__processing"+L.length),T[e.externals.canvas.id]=L.length,L.push(e)};d.prototype.caching=!0,d.prototype.getCSSDefinition=function(e,t){e===i&&(e=this.size+"px"),t===i&&(t=this.leading+"px");var n=[this.style,"normal",this.weight,e+"/"+t,this.family];return n.join(" ")},d.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},d.prototype.measureTextWidthFallback=function(e){var n=t.createElement("canvas"),i=n.getContext("2d");return i.font=this.css,i.measureText(e).width},d.PFontCache={length:0},d.get=function(e,t){t=(0|10*t+.5)/10;var n=d.PFontCache,i=e+"/"+t;if(!n[i]){if(n[i]=new d(e,t),n.length++,50===n.length){d.prototype.measureTextWidth=d.prototype.measureTextWidthFallback,d.prototype.caching=!1;var r;for(r in n)"length"!==r&&(n[r].context2d=null);return new d(e,t)}if(400===n.length)return d.PFontCache={},d.get=d.getFallback,new d(e,t)}return n[i]},d.getFallback=function(e,t){return new d(e,t)},d.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},d.preloading={template:{},initialized:!1,initialize:function(){var e=function(){var e="#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#",t=function(e){return"AAAAAAAA".substr(~~e?7-e:6)};return e.replace(/[#237]/g,t)},n=t.createElement("style");n.setAttribute("type","text/css"),n.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+e()+"')\n       format('truetype');\n}",t.head.appendChild(n);var i=t.createElement("span");i.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',i.innerHTML="AAAAAAAA",t.body.appendChild(i),this.template=i,this.initialized=!0},getElementWidth:function(e){return t.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();for(var n,i,r=this.getElementWidth(this.template),s=0;this.fontList.length>s;s++){if(n=this.fontList[s],i=this.getElementWidth(n),4e3>this.timeAttempted&&i===r)return this.timeAttempted+=e,!0;t.body.removeChild(n),this.fontList.splice(s--,1),this.timeAttempted=0}return 0===this.fontList.length?!1:!0},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var n="object"==typeof e?e.fontFace:e,i="object"==typeof e?e.url:e;if(!this.addedList[n]){var r=t.createElement("style");r.setAttribute("type","text/css"),r.innerHTML="@font-face{\n  font-family: '"+n+"';\n  src:  url('"+i+"');\n}\n",t.head.appendChild(r),this.addedList[n]=!0;var s=t.createElement("span");s.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",s.style.fontFamily='"'+n+'", "PjsEmptyFont", fantasy',s.innerHTML="AAAAAAAA",t.body.appendChild(s),this.fontList.push(s)}}},k.PFont=d;var M=this.Processing=function(r,o){function a(e){M.debug("Unimplemented - "+e)}function l(e,t,n,r){var s=Zn.locations[e];s===i&&(s=Dt.getUniformLocation(t,n),Zn.locations[e]=s),null!==s&&(4===r.length?Dt.uniform4fv(s,r):3===r.length?Dt.uniform3fv(s,r):2===r.length?Dt.uniform2fv(s,r):Dt.uniform1f(s,r))}function h(e,t,n,r){var s=Zn.locations[e];s===i&&(s=Dt.getUniformLocation(t,n),Zn.locations[e]=s),null!==s&&(4===r.length?Dt.uniform4iv(s,r):3===r.length?Dt.uniform3iv(s,r):2===r.length?Dt.uniform2iv(s,r):Dt.uniform1i(s,r))}function c(e,t,n,r,s){var o=Zn.locations[e];o===i&&(o=Dt.getUniformLocation(t,n),Zn.locations[e]=o),-1!==o&&(16===s.length?Dt.uniformMatrix4fv(o,r,s):9===s.length?Dt.uniformMatrix3fv(o,r,s):Dt.uniformMatrix2fv(o,r,s))}function u(e,t,n,r,s){var o=Zn.attributes[e];o===i&&(o=Dt.getAttribLocation(t,n),Zn.attributes[e]=o),-1!==o&&(Dt.bindBuffer(Dt.ARRAY_BUFFER,s),Dt.vertexAttribPointer(o,r,Dt.FLOAT,!1,0,0),Dt.enableVertexAttribArray(o))}function f(e,t,n){var r=Zn.attributes[e];r===i&&(r=Dt.getAttribLocation(t,n),Zn.attributes[e]=r),-1!==r&&Dt.disableVertexAttribArray(r)}function g(e,t,i,r){var s,o,a,l;if(3===Vn){var h=bt.color.toRGB(e,t,i);s=h[0],o=h[1],a=h[2]}else s=n.round(255*(e/Nn)),o=n.round(255*(t/Hn)),a=n.round(255*(i/zn));return l=n.round(255*(r/On)),s=0>s?0:s,o=0>o?0:o,a=0>a?0:a,l=0>l?0:l,s=s>255?255:s,o=o>255?255:o,a=a>255?255:a,l=l>255?255:l,4278190080&l<<24|16711680&s<<16|65280&o<<8|255&a}function p(e,t){var i;return 4278190080&e?(i=n.round(255*(t/On)),i=i>255?255:i,i=0>i?0:i,e-(4278190080&e)+(4278190080&i<<24)):1===Vn?g(e,e,e,t):3===Vn?g(0,0,e/Nn*zn,t):void 0}function v(e){if(Nn>=e&&e>=0){if(1===Vn)return g(e,e,e,On);if(3===Vn)return g(0,0,e/Nn*zn,On)}return e?(e>2147483647&&(e-=4294967296),e):void 0}function C(e){var t,n,i;t=(255&e>>16)/255,n=(255&e>>8)/255,i=(255&e)/255;var r,s,o=bt.max(bt.max(t,n),i),a=bt.min(bt.min(t,n),i);return a===o?[0,0,o*zn]:(s=(o-a)/o,r=t===o?(n-i)/(o-a):n===o?2+(i-t)/(o-a):4+(t-n)/(o-a),r/=6,0>r?r+=1:r>1&&(r-=1),[r*Nn,s*Hn,o*zn])}function D(){Dt.save()}function x(){Dt.restore(),pn=!0,un=!0}function B(){var e=(Date.now()-Kn)/1e3;Xn++;var t=Xn/e;e>.5&&(Kn=Date.now(),Xn=0,bt.__frameRate=t),bt.frameCount++}function L(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n),Br.push({elem:e,type:t,fn:n})}function T(e){var t=e.elem,n=e.type,i=e.fn;t.removeEventListener?t.removeEventListener(n,i,!1):t.detachEvent&&t.detachEvent("on"+n,i)}function P(e,t,r,s,o,a){var l=0>e?r:t,h=0===o,c=o===i||0>o?0:o,u=n.abs(e);if(h)for(c=1,u*=10;n.abs(n.round(u)-u)>1e-6&&7>c;)++c,u*=10;else 0!==c&&(u*=n.pow(10,c));var d,f=2*u;if(n.floor(u)===u)d=u;else if(n.floor(f)===f){var g=n.floor(u);d=g+g%2}else d=n.round(u);for(var p="",m=s+c;m>0||d>0;)m--,p=""+d%10+p,d=n.floor(d/10);if(a!==i)for(var v=p.length-3-c;v>0;)p=p.substring(0,v)+a+p.substring(v),v-=3;return c>0?l+p.substring(0,p.length-c)+"."+p.substring(p.length-c,p.length):l+p}function I(e,t,n,i,r,s){if(e instanceof Array){for(var o=[],a=0,l=e.length;l>a;a++)o.push(P(e[a],t,n,i,r,s));return o}return P(e,t,n,i,r,s)}function O(e){var t=parseInt("0x"+e,16);return t>2147483647&&(t-=4294967296),t}function N(e){return Array.prototype.slice.call(e,1)}function H(e){return"number"==typeof e?0!==e:"boolean"==typeof e?e:"string"==typeof e?"true"===e.toLowerCase():e instanceof vr?49===e.code||84===e.code||116===e.code:void 0}function z(e){return"number"==typeof e?e:"boolean"==typeof e?e?1:0:"string"==typeof e?parseFloat(e):e instanceof vr?e.code:void 0}function W(e,t){if("number"==typeof e)return 4294967295&e;if("boolean"==typeof e)return e?1:0;if("string"==typeof e){var n=parseInt(e,t||10);return 4294967295&n}return e instanceof vr?e.code:void 0}function U(e,t){var n=e||362436069,i=t||521288629,r=function(){return n=4294967295&36969*(65535&n)+(n>>>16),i=4294967295&18e3*(65535&i)+(i>>>16),4294967295&((65535&n)<<16|65535&i)};this.nextDouble=function(){var e=r()/4294967296;return 0>e?1+e:e},this.nextInt=r}function V(e){function t(e,t,n,i){var r=15&e,s=8>r?t:n,o=4>r?n:12===r||14===r?t:i;return(0===(1&r)?s:-s)+(0===(2&r)?o:-o)}function r(e,t,n){var i=0===(1&e)?t:n;return 0===(2&e)?-i:i}function s(e,t){return 0===(1&e)?-t:t}function o(e,t,n){return t+e*(n-t)}var a,l,h=e!==i?new U(e):U.createRandomized(),c=new y(512);for(a=0;256>a;++a)c[a]=a;for(a=0;256>a;++a){var u=c[l=255&h.nextInt()];c[l]=c[a],c[a]=u}for(a=0;256>a;++a)c[a+256]=c[a];this.noise3d=function(e,i,r){var s=255&n.floor(e),a=255&n.floor(i),l=255&n.floor(r);e-=n.floor(e),i-=n.floor(i),r-=n.floor(r);var h=(3-2*e)*e*e,u=(3-2*i)*i*i,d=(3-2*r)*r*r,f=c[s]+a,g=c[f]+l,p=c[f+1]+l,m=c[s+1]+a,v=c[m]+l,A=c[m+1]+l;return o(d,o(u,o(h,t(c[g],e,i,r),t(c[v],e-1,i,r)),o(h,t(c[p],e,i-1,r),t(c[A],e-1,i-1,r))),o(u,o(h,t(c[g+1],e,i,r-1),t(c[v+1],e-1,i,r-1)),o(h,t(c[p+1],e,i-1,r-1),t(c[A+1],e-1,i-1,r-1))))},this.noise2d=function(e,t){var i=255&n.floor(e),s=255&n.floor(t);e-=n.floor(e),t-=n.floor(t);var a=(3-2*e)*e*e,l=(3-2*t)*t*t,h=c[i]+s,u=c[i+1]+s;return o(l,o(a,r(c[h],e,t),r(c[u],e-1,t)),o(a,r(c[h+1],e,t-1),r(c[u+1],e-1,t-1)))},this.noise1d=function(e){var t=255&n.floor(e);e-=n.floor(e);var i=(3-2*e)*e*e;return o(i,s(c[t],e),s(c[t+1],e-1))}}function G(){ln&&(un&&(Dt.fillStyle=bt.color.toString(cn),un=!1),Dt.fill())}function j(){dn&&(pn&&(Dt.strokeStyle=bt.color.toString(gn),pn=!1),Dt.stroke())}function Y(){G(),j(),Dt.closePath()}function K(e,n,r){var s=Wr.shift();s===i&&(s={},s.canvas=t.createElement("canvas"),s.context=s.canvas.getContext("2d")),Wr.push(s);var o=s.canvas,a=s.context,l=n||e.width,h=r||e.height;return o.width=l,o.height=h,e?"data"in e?a.putImageData(e,0,0):(a.clearRect(0,0,l,h),a.drawImage(e,0,0,l,h)):a.clearRect(0,0,l,h),s}function X(e){return{getLength:function(e){return function(){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";return e.imageData.data.length?e.imageData.data.length/4:0}}(e),getPixel:function(e){return function(t){var n=4*t,i=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return(255&i[n+3])<<24|(255&i[n])<<16|(255&i[n+1])<<8|255&i[n+2]}}(e),setPixel:function(e){return function(t,n){var i=4*t,r=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";r[i+0]=255&n>>16,r[i+1]=255&n>>8,r[i+2]=255&n,r[i+3]=255&n>>24,e.__isDirty=!0}}(e),toArray:function(e){return function(){var t=[],n=e.imageData.data,i=e.width*e.height;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var r=0,s=0;i>r;r++,s+=4)t.push((255&n[s+3])<<24|(255&n[s])<<16|(255&n[s+1])<<8|255&n[s+2]);return t}}(e),set:function(e){return function(t){var n,i,r;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";i=e.imageData.data;for(var s=0,o=t.length;o>s;s++)r=t[s],n=4*s,i[n+0]=255&r>>16,i[n+1]=255&r>>8,i[n+2]=255&r,i[n+3]=255&r>>24;e.__isDirty=!0}}(e)}}function Z(e,t){var n;if(e>=bt.width||0>e||0>t||t>=bt.height)return 0;if(ci){var i=4*((0|e)+bt.width*(0|t));return n=bt.imageData.data,(255&n[i+3])<<24|(255&n[i])<<16|(255&n[i+1])<<8|255&n[i+2]}return n=bt.toImageData(0|e,0|t,1,1).data,(255&n[3])<<24|(255&n[0])<<16|(255&n[1])<<8|255&n[2]
}function q(e,t,n){if(n.isRemote)throw"Image is loaded remotely. Cannot get x,y.";var i=4*t*n.width+4*e,r=n.imageData.data;return(255&r[i+3])<<24|(255&r[i])<<16|(255&r[i+1])<<8|255&r[i+2]}function J(e,t,n,i){var r=new Ur(n,i,2);return r.fromImageData(bt.toImageData(e,t,n,i)),r}function Q(e,t,i,r,s){if(s.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";for(var o=new Ur(i,r,2),a=o.imageData.data,l=s.width,h=s.height,c=s.imageData.data,u=n.max(0,-t),d=n.max(0,-e),f=n.min(r,h-t),g=n.min(i,l-e),p=u;f>p;++p)for(var m=4*((t+p)*l+(e+d)),v=4*(p*i+d),A=d;g>A;++A)a[v++]=c[m++],a[v++]=c[m++],a[v++]=c[m++],a[v++]=c[m++];return o.__isDirty=!0,o}function et(){ci&&(Dt=tn,ci=!1,bt.updatePixels())}function tt(){function e(e,t){function n(){et(),Dt[t].apply(Dt,arguments)}e[t]=n}function t(e,t){function n(){return et(),Dt[t]}function i(e){et(),Dt[t]=e}bt.defineProperty(e,t,{get:n,set:i})}for(var n in Dt)"function"==typeof Dt[n]?e(this,n):t(this,n)}function nt(){ci||(bt.loadPixels(),null===hi&&(tn=Dt,hi=new tt),ci=!0,Dt=hi,nn=0)}function it(e,t,n){bt.width>e&&e>=0&&t>=0&&bt.height>t&&(nt(),bt.pixels.setPixel((0|e)+bt.width*(0|t),n),++nn>ui&&et())}function rt(e,t,n,i){if(i.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var r=bt.color.toArray(n),s=4*t*i.width+4*e,o=i.imageData.data;o[s]=r[0],o[s+1]=r[1],o[s+2]=r[2],o[s+3]=r[3]}function st(e){return e instanceof String?e:"number"==typeof e?e===(0|e)?""+e:bt.nf(e,0,3):null===e||e===i?"":""+e}function ot(e,t,n,i){var r,s;0>e.indexOf("\n")?(r=[e],s=1):(r=e.split(/\r?\n/g),s=r.length);var o=0;101===ti?o=si+oi:3===ti?o=si/2-(s-1)*ai/2:102===ti&&(o=-(oi+(s-1)*ai));for(var a=0;s>a;++a){var l=r[a];Bt.text$line(l,t,n+o,i,ei),o+=ai}}function at(e,t,i,r,s,o){if(0!==e.length&&0!==r&&0!==s&&!(ri>s)){for(var a=-1,l=0,h=0,c=[],u=0,d=e.length;d>u;u++){var f=e[u],g=" "===f,p=li.measureTextWidth(f);if("\n"!==f&&r>=h+p)g&&(a=u),h+=p;else{if(a+1===l){if(!(u>0))return;a=u}"\n"===f?(c.push({text:e.substring(l,u),width:h}),l=u+1):(c.push({text:e.substring(l,a+1),width:h}),l=a+1),h=0,u=l-1}}d>l&&c.push({text:e.substring(l),width:h});var m=1,v=si;3===ei?m=r/2:39===ei&&(m=r);var A=c.length,C=n.min(A,n.floor(s/ai));101===ti?v=si+oi:3===ti?v=s/2-ai*(C/2-1):102===ti&&(v=oi+ai);var E,F,w;for(E=0;A>E&&(w=E*ai,!(v+w>s-oi));E++)F=c[E],Bt.text$line(F.text,t+m,i+v+w,o,ei)}}function lt(e){Bt="3D"===e?new gr:"2D"===e?new fr:new pr;for(var t in pr.prototype)pr.prototype.hasOwnProperty(t)&&0>t.indexOf("$")&&(bt[t]=Bt[t]);Bt.$init()}function ht(e){return function(){return lt("2D"),Bt[e].apply(this,arguments)}}function ct(t){var n=t,i=0,r=0;if(bt.pmouseX=bt.mouseX,bt.pmouseY=bt.mouseY,n.offsetParent)do i+=n.offsetLeft,r+=n.offsetTop;while(n=n.offsetParent);n=t;do i-=n.scrollLeft||0,r-=n.scrollTop||0;while(n=n.parentNode);return i+=rn,r+=sn,i+=on,r+=an,i+=e.pageXOffset,r+=e.pageYOffset,{X:i,Y:r}}function ut(e,t){var n=ct(e,t);bt.mouseX=t.pageX-n.X,bt.mouseY=t.pageY-n.Y}function dt(e){var t,n=ct(e.changedTouches[0].target,e.changedTouches[0]);for(t=0;e.touches.length>t;t++){var i=e.touches[t];i.offsetX=i.pageX-n.X,i.offsetY=i.pageY-n.Y}for(t=0;e.targetTouches.length>t;t++){var r=e.targetTouches[t];r.offsetX=r.pageX-n.X,r.offsetY=r.pageY-n.Y}for(t=0;e.changedTouches.length>t;t++){var s=e.changedTouches[t];s.offsetX=s.pageX-n.X,s.offsetY=s.pageY-n.Y}return e}function ft(e){var t=e.which||e.keyCode;switch(t){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return t}function gt(e){var t=e.which||e.keyCode,n=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(t){case 13:t=n?13:10;break;case 8:t=n?127:8}return new vr(t)}function pt(e){return"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof e.stopPropagation&&e.stopPropagation(),!1}function mt(){var e;for(e in di)if(di.hasOwnProperty(e))return bt.__keyPressed=!0,void 0;bt.__keyPressed=!1}function vt(){bt.__keyPressed=!1,di=[],fi=null}function At(e,t){di[e]=t,fi=null,bt.key=t,bt.keyCode=e,bt.keyPressed(),bt.keyCode=0,bt.keyTyped(),mt()}function Ct(e){var t=ft(e);if(127===t)return At(t,new vr(127)),void 0;if(0>gi.indexOf(t))return fi=t,void 0;var n=new vr(65535);return bt.key=n,bt.keyCode=t,di[t]=n,bt.keyPressed(),fi=null,mt(),pt(e)}function Et(e){if(null!==fi){var t=fi,n=gt(e);return At(t,n),pt(e)}}function Ft(e){var t=ft(e),n=di[t];n!==i&&(bt.key=n,bt.keyCode=t,bt.keyReleased(),delete di[t],mt())}if(!(this instanceof M))throw"called Processing constructor as if it were a function: missing 'new'.";var wt,yt=r===i&&o===i;if(wt=yt?t.createElement("canvas"):"string"==typeof r?t.getElementById(r):r,!(wt instanceof HTMLCanvasElement))throw"called Processing constructor without passing canvas element reference or id.";var bt=this;bt.externals={canvas:wt,context:i,sketch:i},bt.name="Processing.js Instance",bt.use3DContext=!1,bt.focused=!1,bt.breakShape=!1,bt.glyphTable={},bt.pmouseX=0,bt.pmouseY=0,bt.mouseX=0,bt.mouseY=0,bt.mouseButton=0,bt.mouseScroll=0,bt.mouseClicked=i,bt.mouseDragged=i,bt.mouseMoved=i,bt.mousePressed=i,bt.mouseReleased=i,bt.mouseScrolled=i,bt.mouseOver=i,bt.mouseOut=i,bt.touchStart=i,bt.touchEnd=i,bt.touchMove=i,bt.touchCancel=i,bt.key=i,bt.keyCode=i,bt.keyPressed=m,bt.keyReleased=m,bt.keyTyped=m,bt.draw=i,bt.setup=i,bt.__mousePressed=!1,bt.__keyPressed=!1,bt.__frameRate=60,bt.frameCount=0,bt.width=100,bt.height=100;var Dt,xt,Bt,St,kt,$t,Lt,Tt,_t,Rt,Mt,Pt,It,Ot,Nt,Ht,zt,Wt,Ut,Vt,Gt,jt,Yt,Kt,Xt,Zt,qt,Jt,Qt,en,tn,nn,rn,sn,on,an,ln=!0,hn=[1,1,1,1],cn=4294967295,un=!0,dn=!0,fn=[0,0,0,1],gn=4278190080,pn=!0,mn=1,vn=!1,An=!1,Cn=!0,En=0,Fn=0,wn=3,yn=0,bn=0,Dn=0,xn=0,Bn=60,Sn=1e3/Bn,kn="default",$n=wt.style.cursor,Ln=20,Tn=[],_n=0,Rn=20,Mn=!1,Pn=-3355444,In=20,On=255,Nn=255,Hn=255,zn=255,Wn=0,Un=0,Vn=1,Gn=null,jn=null,Yn=Date.now(),Kn=Yn,Xn=0,Zn={attributes:{},locations:{}},qn={width:0,height:0},Jn=2,Qn=!1,ei=37,ti=0,ni=4,ii="Arial",ri=12,si=9,oi=2,ai=14,li=d.get(ii,ri),hi=null,ci=!1,ui=1e3,di=[],fi=null,gi=[16,17,18,20,33,34,35,36,37,38,39,40,144,155,112,113,114,115,116,117,118,119,120,121,122,123,157];t.defaultView&&t.defaultView.getComputedStyle&&(rn=parseInt(t.defaultView.getComputedStyle(wt,null).paddingLeft,10)||0,sn=parseInt(t.defaultView.getComputedStyle(wt,null).paddingTop,10)||0,on=parseInt(t.defaultView.getComputedStyle(wt,null).borderLeftWidth,10)||0,an=parseInt(t.defaultView.getComputedStyle(wt,null).borderTopWidth,10)||0);var pi,mi,vi,Ai,Ci,Ei,Fi,wi,yi,bi=0,Di=0,xi=0,Bi=[],Si=[],ki=[],$i=new E(720),Li=new E(720),Ti=!1,_i=!1,Ri=60*(n.PI/180),Mi=bt.width/2,Pi=bt.height/2,Ii=Pi/n.tan(Ri/2),Oi=Ii/10,Ni=10*Ii,Hi=bt.width/bt.height,zi=[],Wi=[],Ui=0,Vi=!1,Gi=!1,ji=!0,Yi=0,Ki=[],Xi=new E([.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),Zi=new E([.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5]),qi=new E([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),Ji=new E([0,0,0,0,1,0,1,1,0,1,0,0]),Qi=new E([0,0,1,0,0,1,0,0,1,0,0,1]),er="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}",tr="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}",nr="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}",ir="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}",rr=/Windows/.test(navigator.userAgent),sr="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(rr?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}",or="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}",ar=function(e,t,n){var i=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw e.getShaderInfoLog(i);var r=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw e.getShaderInfoLog(r);var s=e.createProgram();if(e.attachShader(s,i),e.attachShader(s,r),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw"Error linking shaders.";return s},lr=function(e,t,n,i){return{x:e,y:t,w:n,h:i}},hr=lr,cr=function(e,t,n,i,r){return{x:e,y:t,w:r?n:n-e,h:r?i:i-t}},ur=function(e,t,n,i){return{x:e-n/2,y:t-i/2,w:n,h:i}},dr=function(){},fr=function(){},gr=function(){},pr=function(){};fr.prototype=new dr,fr.prototype.constructor=fr,gr.prototype=new dr,gr.prototype.constructor=gr,pr.prototype=new dr,pr.prototype.constructor=pr,dr.prototype.a3DOnlyFunction=m;var mr={},vr=bt.Character=function(e){return this.code="string"==typeof e&&1===e.length?e.charCodeAt(0):"number"==typeof e?e:e instanceof vr?e:0/0,mr[this.code]===i?mr[this.code]=this:mr[this.code]};vr.prototype.toString=function(){return String.fromCharCode(this.code)},vr.prototype.valueOf=function(){return this.code};var Ar=bt.PShape=function(e){this.family=e||0,this.visible=!0,this.style=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.image=null,this.matrix=null,this.kind=null,this.close=null,this.width=null,this.height=null,this.parent=null};Ar.prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,t=this.children.length;t>e;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,t=this.children.length;t>e;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){e=e||bt,this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){0===this.family?this.drawGroup(e):1===this.family?this.drawPrimitive(e):3===this.family?this.drawGeometry(e):21===this.family&&this.drawPath(e)},drawPath:function(e){var t,n;if(0!==this.vertices.length){if(e.beginShape(),0===this.vertexCodes.length)if(2===this.vertices[0].length)for(t=0,n=this.vertices.length;n>t;t++)e.vertex(this.vertices[t][0],this.vertices[t][1]);else for(t=0,n=this.vertices.length;n>t;t++)e.vertex(this.vertices[t][0],this.vertices[t][1],this.vertices[t][2]);else{var i=0;if(2===this.vertices[0].length)for(t=0,n=this.vertexCodes.length;n>t;t++)0===this.vertexCodes[t]?(e.vertex(this.vertices[i][0],this.vertices[i][1],this.vertices[i].moveTo),e.breakShape=!1,i++):1===this.vertexCodes[t]?(e.bezierVertex(this.vertices[i+0][0],this.vertices[i+0][1],this.vertices[i+1][0],this.vertices[i+1][1],this.vertices[i+2][0],this.vertices[i+2][1]),i+=3):2===this.vertexCodes[t]?(e.curveVertex(this.vertices[i][0],this.vertices[i][1]),i++):3===this.vertexCodes[t]&&(e.breakShape=!0);else for(t=0,n=this.vertexCodes.length;n>t;t++)0===this.vertexCodes[t]?(e.vertex(this.vertices[i][0],this.vertices[i][1],this.vertices[i][2]),this.vertices[i].moveTo===!0?zi[zi.length-1].moveTo=!0:this.vertices[i].moveTo===!1&&(zi[zi.length-1].moveTo=!1),e.breakShape=!1):1===this.vertexCodes[t]?(e.bezierVertex(this.vertices[i+0][0],this.vertices[i+0][1],this.vertices[i+0][2],this.vertices[i+1][0],this.vertices[i+1][1],this.vertices[i+1][2],this.vertices[i+2][0],this.vertices[i+2][1],this.vertices[i+2][2]),i+=3):2===this.vertexCodes[t]?(e.curveVertex(this.vertices[i][0],this.vertices[i][1],this.vertices[i][2]),i++):3===this.vertexCodes[t]&&(e.breakShape=!0)}e.endShape(this.close?2:1)}},drawGeometry:function(e){var t,n;if(e.beginShape(this.kind),this.style)for(t=0,n=this.vertices.length;n>t;t++)e.vertex(this.vertices[t]);else for(t=0,n=this.vertices.length;n>t;t++){var i=this.vertices[t];0===i[2]?e.vertex(i[0],i[1]):e.vertex(i[0],i[1],i[2])}e.endShape()},drawGroup:function(e){for(var t=0,n=this.children.length;n>t;t++)this.children[t].draw(e)},drawPrimitive:function(e){if(2===this.kind)e.point(this.params[0],this.params[1]);else if(4===this.kind)4===this.params.length?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(8===this.kind)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(16===this.kind)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(30===this.kind)if(null!==this.image){var t=hr;e.imageMode(0),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),hr=t}else{var n=Fn;e.rectMode(0),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),Fn=n}else if(31===this.kind){var i=wn;e.ellipseMode(0),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),wn=i}else if(32===this.kind){var r=wn;e.ellipseMode(0),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),wn=r}else 41===this.kind?1===this.params.length?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):40===this.kind&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var t,n;if("number"==typeof e)return this.children[e];var i;if(""===e||this.name===e)return this;if(this.nameTable.length>0){for(t=0,n=this.nameTable.length;n>t||i;t++)if(this.nameTable[t].getName===e){i=this.nameTable[t];break}if(i)return i}for(t=0,n=this.children.length;n>t;t++)if(i=this.children[t].getChild(e))return i;return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,null!==e.getName()&&this.addName(e.getName(),e)},addName:function(e,t){null!==this.parent?this.parent.addName(e,t):this.nameTable.push([e,t])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){null===this.matrix?this.matrix=2===e?new bt.PMatrix2D:new bt.PMatrix3D:3===e&&this.matrix instanceof bt.PMatrix2D&&(this.matrix=new bt.PMatrix3D)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){1===arguments.length?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}};var Cr=bt.PShapeSVG=function(){if(bt.PShape.call(this),1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=4278190080,this.strokeWeight=1,this.strokeCap="butt",this.strokeJoin="miter",this.strokeGradient=null,this.strokeGradientPaint=null,this.strokeName=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=4278190080,this.fillGradient=null,this.fillGradientPaint=null,this.fillName=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not <svg>, it's <"+this.element.getName()+">"}else 2===arguments.length&&("string"==typeof arguments[1]?arguments[1].indexOf(".svg")>-1&&(this.element=new bt.XMLElement(bt,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=4278190080,this.strokeWeight=1,this.strokeCap="butt",this.strokeJoin="miter",this.strokeGradient="",this.strokeGradientPaint="",this.strokeName="",this.strokeOpacity=1,this.fill=!0,this.fillColor=4278190080,this.fillGradient=null,this.fillGradientPaint=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id");var e=this.element.getStringAttribute("display","inline");this.visible="none"!==e;var t=this.element.getAttribute("transform");t&&(this.matrix=this.parseMatrix(t));var n=this.element.getStringAttribute("viewBox");if(null!==n){var i=n.split(" ");this.width=i[2],this.height=i[3]}var r=this.element.getStringAttribute("width"),s=this.element.getStringAttribute("height");if(null!==r)this.width=this.parseUnitSize(r),this.height=this.parseUnitSize(s);else if(0===this.width||0===this.height)throw this.width=1,this.height=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};Cr.prototype=new Ar,Cr.prototype.parseMatrix=function(){function e(e){var t=[];return e.replace(/\((.*?)\)/,function(){return function(e,n){t=n.replace(/,+/g," ").split(/\s+/)}}()),t}return function(t){this.checkMatrix(2);var n=[];if(t.replace(/\s*(\w+)\((.*?)\)/g,function(e){n.push(bt.trim(e))}),0===n.length)return null;for(var i=0,r=n.length;r>i;i++){var s=e(n[i]);if(-1!==n[i].indexOf("matrix"))this.matrix.set(s[0],s[2],s[4],s[1],s[3],s[5]);else if(-1!==n[i].indexOf("translate")){var o=s[0],a=2===s.length?s[1]:0;this.matrix.translate(o,a)}else if(-1!==n[i].indexOf("scale")){var l=s[0],h=2===s.length?s[1]:s[0];this.matrix.scale(l,h)}else if(-1!==n[i].indexOf("rotate")){var c=s[0];1===s.length?this.matrix.rotate(bt.radians(c)):3===s.length&&(this.matrix.translate(s[1],s[2]),this.matrix.rotate(bt.radians(s[0])),this.matrix.translate(-s[1],-s[2]))}else-1!==n[i].indexOf("skewX")?this.matrix.skewX(parseFloat(s[0])):-1!==n[i].indexOf("skewY")?this.matrix.skewY(s[0]):-1!==n[i].indexOf("shearX")?this.matrix.shearX(s[0]):-1!==n[i].indexOf("shearY")&&this.matrix.shearY(s[0])}return this.matrix}}(),Cr.prototype.parseChildren=function(e){for(var t=e.getChildren(),n=new bt.PShape,i=0,r=t.length;r>i;i++){var s=this.parseChild(t[i]);s&&n.addChild(s)}this.children.push(n)},Cr.prototype.getName=function(){return this.name},Cr.prototype.parseChild=function(e){var t,n=e.getName();return"g"===n?t=new Cr(this,e):"defs"===n?t=new Cr(this,e):"line"===n?(t=new Cr(this,e),t.parseLine()):"circle"===n?(t=new Cr(this,e),t.parseEllipse(!0)):"ellipse"===n?(t=new Cr(this,e),t.parseEllipse(!1)):"rect"===n?(t=new Cr(this,e),t.parseRect()):"polygon"===n?(t=new Cr(this,e),t.parsePoly(!0)):"polyline"===n?(t=new Cr(this,e),t.parsePoly(!1)):"path"===n?(t=new Cr(this,e),t.parsePath()):"radialGradient"===n?a("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===n?a("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===n?a("PShapeSVG.prototype.parseChild, name = text"):"filter"===n?a("PShapeSVG.prototype.parseChild, name = filter"):"mask"===n?a("PShapeSVG.prototype.parseChild, name = mask"):m(),t},Cr.prototype.parsePath=function(){this.family=21,this.kind=0;var e=bt.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(null!==e){e=bt.__toCharArray(e);for(var t,n,i,r,s=0,o=0,a=0,l=0,h=0,c=0,u=0,d=0,f=0,g=0,p=0,m=0,v=0,A=0,C=0,E=0,F="",w=[],y=!1;e.length>C;)if(E=e[C].valueOf(),E>=65&&90>=E||E>=97&&122>=E){if(i=C,C++,e.length>C)for(w=[],E=e[C].valueOf();!(E>=65&&90>=E||E>=97&&100>=E||E>=102&&122>=E)&&y===!1;)32===E?(""!==F&&(w.push(parseFloat(F)),F=""),C++):45===E?101===e[C-1].valueOf()?(F+=""+e[C],C++):(""!==F&&w.push(parseFloat(F)),F=""+e[C],C++):(F+=""+e[C],C++),C===e.length?y=!0:E=e[C].valueOf();if(""!==F&&(w.push(parseFloat(F)),F=""),n=e[i],E=n.valueOf(),77===E){if(w.length>=2&&0===w.length%2&&(s=w[0],o=w[1],this.parsePathMoveto(s,o),w.length>2))for(i=2,r=w.length;r>i;i+=2)s=w[i],o=w[i+1],this.parsePathLineto(s,o)}else if(109===E){if(w.length>=2&&0===w.length%2&&(s+=w[0],o+=w[1],this.parsePathMoveto(s,o),w.length>2))for(i=2,r=w.length;r>i;i+=2)s+=w[i],o+=w[i+1],this.parsePathLineto(s,o)}else if(76===E){if(w.length>=2&&0===w.length%2)for(i=0,r=w.length;r>i;i+=2)s=w[i],o=w[i+1],this.parsePathLineto(s,o)}else if(108===E){if(w.length>=2&&0===w.length%2)for(i=0,r=w.length;r>i;i+=2)s+=w[i],o+=w[i+1],this.parsePathLineto(s,o)}else if(72===E)for(i=0,r=w.length;r>i;i++)s=w[i],this.parsePathLineto(s,o);else if(104===E)for(i=0,r=w.length;r>i;i++)s+=w[i],this.parsePathLineto(s,o);else if(86===E)for(i=0,r=w.length;r>i;i++)o=w[i],this.parsePathLineto(s,o);else if(118===E)for(i=0,r=w.length;r>i;i++)o+=w[i],this.parsePathLineto(s,o);else if(67===E){if(w.length>=6&&0===w.length%6)for(i=0,r=w.length;r>i;i+=6)h=w[i],u=w[i+1],c=w[i+2],d=w[i+3],f=w[i+4],g=w[i+5],this.parsePathCurveto(h,u,c,d,f,g),s=f,o=g}else if(99===E){if(w.length>=6&&0===w.length%6)for(i=0,r=w.length;r>i;i+=6)h=s+w[i],u=o+w[i+1],c=s+w[i+2],d=o+w[i+3],f=s+w[i+4],g=o+w[i+5],this.parsePathCurveto(h,u,c,d,f,g),s=f,o=g}else if(83===E){if(w.length>=4&&0===w.length%4)for(i=0,r=w.length;r>i;i+=4)"c"===t.toLowerCase()||"s"===t.toLowerCase()?(p=this.vertices[this.vertices.length-2][0],m=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],A=this.vertices[this.vertices.length-1][1],h=v+(v-p),u=A+(A-m)):(h=this.vertices[this.vertices.length-1][0],u=this.vertices[this.vertices.length-1][1]),c=w[i],d=w[i+1],f=w[i+2],g=w[i+3],this.parsePathCurveto(h,u,c,d,f,g),s=f,o=g}else if(115===E){if(w.length>=4&&0===w.length%4)for(i=0,r=w.length;r>i;i+=4)"c"===t.toLowerCase()||"s"===t.toLowerCase()?(p=this.vertices[this.vertices.length-2][0],m=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],A=this.vertices[this.vertices.length-1][1],h=v+(v-p),u=A+(A-m)):(h=this.vertices[this.vertices.length-1][0],u=this.vertices[this.vertices.length-1][1]),c=s+w[i],d=o+w[i+1],f=s+w[i+2],g=o+w[i+3],this.parsePathCurveto(h,u,c,d,f,g),s=f,o=g}else if(81===E){if(w.length>=4&&0===w.length%4)for(i=0,r=w.length;r>i;i+=4)a=w[i],l=w[i+1],f=w[i+2],g=w[i+3],this.parsePathQuadto(s,o,a,l,f,g),s=f,o=g}else if(113===E){if(w.length>=4&&0===w.length%4)for(i=0,r=w.length;r>i;i+=4)a=s+w[i],l=o+w[i+1],f=s+w[i+2],g=o+w[i+3],this.parsePathQuadto(s,o,a,l,f,g),s=f,o=g}else if(84===E){if(w.length>=2&&0===w.length%2)for(i=0,r=w.length;r>i;i+=2)"q"===t.toLowerCase()||"t"===t.toLowerCase()?(p=this.vertices[this.vertices.length-2][0],m=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],A=this.vertices[this.vertices.length-1][1],a=v+(v-p),l=A+(A-m)):(a=s,l=o),f=w[i],g=w[i+1],this.parsePathQuadto(s,o,a,l,f,g),s=f,o=g}else if(116===E){if(w.length>=2&&0===w.length%2)for(i=0,r=w.length;r>i;i+=2)"q"===t.toLowerCase()||"t"===t.toLowerCase()?(p=this.vertices[this.vertices.length-2][0],m=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],A=this.vertices[this.vertices.length-1][1],a=v+(v-p),l=A+(A-m)):(a=s,l=o),f=s+w[i],g=o+w[i+1],this.parsePathQuadto(s,o,a,l,f,g),s=f,o=g}else(90===E||122===E)&&(this.close=!0);t=""+n}else C++}},Cr.prototype.parsePathQuadto=function(e,t,n,i,r,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(1),this.parsePathVertex(e+2*(n-e)/3,t+2*(i-t)/3),this.parsePathVertex(r+2*(n-r)/3,s+2*(i-s)/3),this.parsePathVertex(r,s)},Cr.prototype.parsePathCurveto=function(e,t,n,i,r,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(1),this.parsePathVertex(e,t),this.parsePathVertex(n,i),this.parsePathVertex(r,s)},Cr.prototype.parsePathLineto=function(e,t){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(0),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!1},Cr.prototype.parsePathMoveto=function(e,t){this.vertices.length>0&&this.parsePathCode(3),this.parsePathCode(0),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!0},Cr.prototype.parsePathVertex=function(e,t){var n=[];n[0]=e,n[1]=t,this.vertices.push(n)},Cr.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},Cr.prototype.parsePoly=function(e){this.family=21,this.close=e;var t=bt.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));
if(null!==t){var n=t.split(" ");if(0!==n.length%2)throw"Error parsing polygon points: odd number of coordinates provided";for(var i=0,r=n.length;r>i;i++){var s=[];s[0]=n[i],s[1]=n[++i],this.vertices.push(s)}}},Cr.prototype.parseRect=function(){if(this.kind=30,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height"),0>this.params[2]||0>this.params[3])throw"svg error: negative width or height found while parsing <rect>"},Cr.prototype.parseEllipse=function(e){this.kind=31,this.family=1,this.params=[],this.params[0]=0|this.element.getFloatAttribute("cx"),this.params[1]=0|this.element.getFloatAttribute("cy");var t,n;if(e){if(t=n=this.element.getFloatAttribute("r"),0>t)throw"svg error: negative radius found while parsing <circle>"}else if(t=this.element.getFloatAttribute("rx"),n=this.element.getFloatAttribute("ry"),0>t||0>n)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=t,this.params[1]-=n,this.params[2]=2*t,this.params[3]=2*n},Cr.prototype.parseLine=function(){this.kind=4,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},Cr.prototype.parseColors=function(e){if(e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill")),e.hasAttribute("style"))for(var t=e.getStringAttribute("style"),n=(""+t).split(";"),i=0,r=n.length;r>i;i++){var s=bt.trim(n[i].split(":"));"fill"===s[0]?this.setFill(s[1]):"fill-opacity"===s[0]?this.setFillOpacity(s[1]):"stroke"===s[0]?this.setStroke(s[1]):"stroke-width"===s[0]?this.setStrokeWeight(s[1]):"stroke-linecap"===s[0]?this.setStrokeCap(s[1]):"stroke-linejoin"===s[0]?this.setStrokeJoin(s[1]):"stroke-opacity"===s[0]?this.setStrokeOpacity(s[1]):"opacity"===s[0]&&this.setOpacity(s[1])}},Cr.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=255*this.fillOpacity<<24|16777215&this.fillColor},Cr.prototype.setFill=function(e){var t=4278190080&this.fillColor;"none"===e?this.fill=!1:0===e.indexOf("#")?(this.fill=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.fill=!0,this.fillColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.fillName=e.substring(5,e.length-1):$[e]&&(this.fill=!0,this.fillColor=t|16777215&parseInt($[e].substring(1),16))},Cr.prototype.setOpacity=function(e){this.strokeColor=255*parseFloat(e)<<24|16777215&this.strokeColor,this.fillColor=255*parseFloat(e)<<24|16777215&this.fillColor},Cr.prototype.setStroke=function(e){var t=4278190080&this.strokeColor;"none"===e?this.stroke=!1:"#"===e.charAt(0)?(this.stroke=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.stroke=!0,this.strokeColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.strokeName=e.substring(5,e.length-1):$[e]&&(this.stroke=!0,this.strokeColor=t|16777215&parseInt($[e].substring(1),16))},Cr.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},Cr.prototype.setStrokeJoin=function(e){"miter"===e?this.strokeJoin="miter":"round"===e?this.strokeJoin="round":"bevel"===e&&(this.strokeJoin="bevel")},Cr.prototype.setStrokeCap=function(e){"butt"===e?this.strokeCap="butt":"round"===e?this.strokeCap="round":"square"===e&&(this.strokeCap="square")},Cr.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=255*this.strokeOpacity<<24|16777215&this.strokeColor},Cr.prototype.parseRGB=function(e){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")),n=t.split(", ");return n[0]<<16|n[1]<<8|n[2]},Cr.prototype.parseUnitSize=function(e){var t=e.length-2;return 0>t?e:e.indexOf("pt")===t?1.25*parseFloat(e.substring(0,t)):e.indexOf("pc")===t?15*parseFloat(e.substring(0,t)):e.indexOf("mm")===t?3.543307*parseFloat(e.substring(0,t)):e.indexOf("cm")===t?35.43307*parseFloat(e.substring(0,t)):e.indexOf("in")===t?90*parseFloat(e.substring(0,t)):e.indexOf("px")===t?parseFloat(e.substring(0,t)):parseFloat(e)},bt.shape=function(e,t,n,i,r){arguments.length>=1&&null!==arguments[0]&&e.isVisible()&&(bt.pushMatrix(),3===Yi?5===arguments.length?(bt.translate(t-i/2,n-r/2),bt.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length?bt.translate(t-e.getWidth()/2,-e.getHeight()/2):bt.translate(-e.getWidth()/2,-e.getHeight()/2):0===Yi?5===arguments.length?(bt.translate(t,n),bt.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length&&bt.translate(t,n):1===Yi&&(5===arguments.length?(i-=t,r-=n,bt.translate(t,n),bt.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length&&bt.translate(t,n)),e.draw(bt),(1===arguments.length&&3===Yi||arguments.length>1)&&bt.popMatrix())},bt.shapeMode=function(e){Yi=e},bt.loadShape=function(e){return 1===arguments.length&&e.indexOf(".svg")>-1?new Cr(null,e):null};var Er=function(e,t,n,i,r){this.fullName=e||"",this.name=t||"",this.namespace=n||"",this.value=i,this.type=r};Er.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}};var Fr=bt.XMLElement=function(e,t,n,r){this.attributes=[],this.children=[],this.fullName=null,this.name=null,this.namespace="",this.content=null,this.parent=null,this.lineNr="",this.systemID="",this.type="ELEMENT",e&&("string"==typeof e?t===i&&e.indexOf("<")>-1?this.parse(e):(this.fullName=e,this.namespace=t,this.systemId=n,this.lineNr=r):this.parse(t))};Fr.prototype={parse:function(e){var t;try{var n=e.substring(e.length-4);(".xml"===n||".svg"===n)&&(e=A(e)),t=(new DOMParser).parseFromString(e,"text/xml");var i=t.documentElement;if(!i)throw"Error loading document";return this.parseChildrenRecursive(null,i),this}catch(r){throw r}},parseChildrenRecursive:function(e,t){var n,i,r,s,o,a;if(e?(n=new Fr(t.nodeName),n.parent=e):(this.fullName=t.localName,this.name=t.nodeName,n=this),3===t.nodeType&&""!==t.textContent)return this.createPCDataElement(t.textContent);if(4===t.nodeType)return this.createCDataElement(t.textContent);if(t.attributes)for(s=0,o=t.attributes.length;o>s;s++)r=t.attributes[s],i=new Er(r.getname,r.nodeName,r.namespaceURI,r.nodeValue,r.nodeType),n.attributes.push(i);if(t.childNodes)for(s=0,o=t.childNodes.length;o>s;s++){var l=t.childNodes[s];a=n.parseChildrenRecursive(n,l),null!==a&&n.children.push(a)}return n},createElement:function(e,t,n,r){return n===i?new Fr(e,t):new Fr(e,t,n,r)},createPCDataElement:function(e){if(""===e.replace(/^\s+$/g,""))return null;var t=new Fr;return t.type="TEXT",t.content=e,t},createCDataElement:function(e){var t=this.createPCDataElement(e);if(null===t)return null;t.type="CDATA";var n,i={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};for(n in i)Object.hasOwnProperty(i,n)||(e=e.replace(RegExp(n,"g"),i[n]));return t.cdata=e,t},hasAttribute:function(){return 1===arguments.length?null!==this.getAttribute(arguments[0]):2===arguments.length?null!==this.getAttribute(arguments[0],arguments[1]):void 0},equals:function(e){if(!(e instanceof Fr))return!1;var t,n;if(this.fullName!==e.fullName)return!1;if(this.attributes.length!==e.getAttributeCount())return!1;if(this.attributes.length!==e.attributes.length)return!1;var i,r,s;for(t=0,n=this.attributes.length;n>t;t++){if(i=this.attributes[t].getName(),r=this.attributes[t].getNamespace(),s=e.findAttribute(i,r),null===s)return!1;if(this.attributes[t].getValue()!==s.getValue())return!1;if(this.attributes[t].getType()!==s.getType())return!1}if(this.children.length!==e.getChildCount())return!1;if(this.children.length>0){var o,a;for(t=0,n=this.children.length;n>t;t++)if(o=this.getChild(t),a=e.getChild(t),!o.equals(a))return!1;return!0}return this.content===e.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var e=this.children;return 1!==e.length||"TEXT"!==e[0].type&&"CDATA"!==e[0].type?null:e[0].content},getAttribute:function(){var e;return 2===arguments.length?(e=this.findAttribute(arguments[0]),e?e.getValue():arguments[1]):1===arguments.length?(e=this.findAttribute(arguments[0]),e?e.getValue():null):3===arguments.length?(e=this.findAttribute(arguments[0],arguments[1]),e?e.getValue():arguments[2]):void 0},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return this.children.length>0},addChild:function(e){null!==e&&(e.parent=this,this.children.push(e))},insertChild:function(e,t){if(e){if(null===e.getLocalName()&&!this.hasChildren()){var n=this.children[this.children.length-1];if(null===n.getLocalName())return n.setContent(n.getContent()+e.getContent()),void 0}e.parent=this,this.children.splice(t,0,e)}},getChild:function(e){if("number"==typeof e)return this.children[e];if(-1!==e.indexOf("/"))return this.getChildRecursive(e.split("/"),0);for(var t,n,i=0,r=this.getChildCount();r>i;i++)if(t=this.getChild(i),n=t.getName(),null!==n&&n===e)return t;return null},getChildren:function(){if(1===arguments.length){if("number"==typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),0);for(var e,t,n=[],i=0,r=this.getChildCount();r>i;i++)e=this.getChild(i),t=e.getName(),null!==t&&t===arguments[0]&&n.push(e);return n}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,t){if(t===e.length)return this;for(var n,i,r=e[t],s=0,o=this.getChildCount();o>s;s++)if(n=this.getChild(s),i=n.getName(),null!==i&&i===r)return n.getChildRecursive(e,t+1);return null},getChildrenRecursive:function(e,t){if(t===e.length-1)return this.getChildren(e[t]);for(var n=this.getChildren(e[t]),i=[],r=0;n.length>r;r++)i=i.concat(n[r].getChildrenRecursive(e,t+1));return i},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var e=[],t=0,n=this.children.length;n>t;t++)e.push(this.getChild(t).getName());return e},removeAttribute:function(e,t){this.namespace=t||"";for(var n=0,i=this.attributes.length;i>n;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace){this.attributes.splice(n,1);break}},removeChild:function(e){if(e)for(var t=0,n=this.children.length;n>t;t++)if(this.children[t].equals(e)){this.children.splice(t,1);break}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,t){this.namespace=t||"";for(var n=0,i=this.attributes.length;i>n;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace)return this.attributes[n];return null},setAttribute:function(){var e;if(3===arguments.length){var t=arguments[0].indexOf(":"),n=arguments[0].substring(t+1);e=this.findAttribute(n,arguments[1]),e?e.setValue(arguments[2]):(e=new Er(arguments[0],n,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else e=this.findAttribute(arguments[0]),e?e.setValue(arguments[1]):(e=new Er(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,t){this.setAttribute(e,t)},setInt:function(e,t){this.setAttribute(e,t)},setFloat:function(e,t){this.setAttribute(e,t)},setContent:function(e){this.children.length>0&&M.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");this.name=null===arguments[1]||0>e?arguments[0]:arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content;if("CDATA"===this.type)return this.cdata;var e,t,n=this.fullName,i="<"+n;for(e=0;this.attributes.length>e;e++){var r=this.attributes[e];i+=" "+r.getName()+'="'+r.getValue()+'"'}if(0===this.children.length)i+=""===this.content?"/>":">"+this.content+"</"+n+">";else{for(i+=">",t=0;this.children.length>t;t++)i+=""+this.children[t];i+="</"+n+">"}return i}},Fr.parse=function(e){var t=new Fr;return t.parse(e),t};var wr=bt.XML=bt.XMLElement;bt.loadXML=function(e){return new wr(bt,e)};var yr=function(e){for(var t=0,i=0;e.length>i;i++)t=0!==i?n.max(t,n.abs(e[i])):n.abs(e[i]);var r=(t+"").indexOf(".");return 0===r?r=1:-1===r&&(r=(t+"").length),r},br=bt.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof br?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};br.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof br?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new br;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var n,i;return e instanceof S?(n=e.x,i=e.y,t||(t=new S)):e instanceof Array&&(n=e[0],i=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2],t[1]=this.elements[3]*n+this.elements[4]*i+this.elements[5]):t instanceof S&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2],t.y=this.elements[3]*n+this.elements[4]*i+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,n.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,n.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(n.abs(e)>-2147483648){var t=this.elements[0],i=this.elements[1],r=this.elements[2],s=this.elements[3],o=this.elements[4],a=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-s/e,this.elements[1]=-i/e,this.elements[4]=t/e,this.elements[2]=(i*a-o*r)/e,this.elements[5]=(s*r-t*a)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof br?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,this.elements[2],0,0,this.elements[5]],n=0,i=0;2>i;i++)for(var r=0;3>r;r++,n++)t[n]+=this.elements[3*i+0]*e[r+0]+this.elements[3*i+1]*e[r+3];this.elements=t.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof br?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=n.cos(e),i=n.sin(e),r=this.elements[0],s=this.elements[1];this.elements[0]=t*r+i*s,this.elements[1]=-i*r+t*s,r=this.elements[3],s=this.elements[4],this.elements[3]=t*r+i*s,this.elements[4]=-i*r+t*s},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-n.PI)},print:function(){var e=yr(this.elements),t=""+bt.nfs(this.elements[0],e,4)+" "+bt.nfs(this.elements[1],e,4)+" "+bt.nfs(this.elements[2],e,4)+"\n"+bt.nfs(this.elements[3],e,4)+" "+bt.nfs(this.elements[4],e,4)+" "+bt.nfs(this.elements[5],e,4)+"\n\n";bt.println(t)}};var Dr=bt.PMatrix3D=function(){this.reset()};Dr.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Dr?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Dr;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,t,n){n===i&&(n=0),this.elements[3]+=e*this.elements[0]+t*this.elements[1]+n*this.elements[2],this.elements[7]+=e*this.elements[4]+t*this.elements[5]+n*this.elements[6],this.elements[11]+=e*this.elements[8]+t*this.elements[9]+n*this.elements[10],this.elements[15]+=e*this.elements[12]+t*this.elements[13]+n*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var n,i,r,s;return e instanceof S?(n=e.x,i=e.y,r=e.z,s=1,t||(t=new S)):e instanceof Array&&(n=e[0],i=e[1],r=e[2],s=e[3]||1,(!t||3!==t.length&&4!==t.length)&&(t=[0,0,0])),t instanceof Array&&(3===t.length?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]):4===t.length&&(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3]*s,t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7]*s,t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]*s,t[3]=this.elements[12]*n+this.elements[13]*i+this.elements[14]*r+this.elements[15]*s)),t instanceof S&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t.y=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t.z=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]),t},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof Dr?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,i=0;4>i;i++)for(var r=0;4>r;r++,n++)t[n]+=this.elements[r+0]*e[4*i+0]+this.elements[r+4]*e[4*i+1]+this.elements[r+8]*e[4*i+2]+this.elements[r+12]*e[4*i+3];this.elements=t.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof Dr?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,i=0;4>i;i++)for(var r=0;4>r;r++,n++)t[n]+=this.elements[4*i+0]*e[r+0]+this.elements[4*i+1]*e[r+4]+this.elements[4*i+2]*e[r+8]+this.elements[4*i+3]*e[r+12];this.elements=t.slice()},rotate:function(e,t,n,i){if(n){var r=bt.cos(e),s=bt.sin(e),o=1-r;this.apply(o*t*t+r,o*t*n-s*i,o*t*i+s*n,0,o*t*n+s*i,o*n*n+r,o*n*i-s*t,0,o*t*i-s*n,o*n*i+s*t,o*i*i+r,0,0,0,0,1)}else this.rotateZ(e)},invApply:function(){wi===i&&(wi=new Dr);var e=arguments;return wi.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),wi.invert()?(this.preApply(wi),!0):!1},rotateX:function(e){var t=bt.cos(e),n=bt.sin(e);this.apply([1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1])},rotateY:function(e){var t=bt.cos(e),n=bt.sin(e);this.apply([t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1])},rotateZ:function(e){var t=n.cos(e),i=n.sin(e);this.apply([t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,n){!e||t||n?e&&t&&!n&&(n=1):t=n=e,e&&t&&n&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=n,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=n,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=n,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=n)},skewX:function(e){var t=n.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){var t=n.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){var t=n.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){var t=n.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,n,i){return n?i?this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]*i:this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,n,i){return n?i?this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]*i:this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,n,i){return i?this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]*i:this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]},multW:function(e,t,n,i){return i?this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]*i:this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],i=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],r=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],s=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],a=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],l=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],h=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],c=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],u=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],d=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],f=e*d-t*u+i*c+r*h-s*l+o*a;if(1e-9>=n.abs(f))return!1;var g=[];g[0]=+this.elements[5]*d-this.elements[6]*u+this.elements[7]*c,g[4]=-this.elements[4]*d+this.elements[6]*h-this.elements[7]*l,g[8]=+this.elements[4]*u-this.elements[5]*h+this.elements[7]*a,g[12]=-this.elements[4]*c+this.elements[5]*l-this.elements[6]*a,g[1]=-this.elements[1]*d+this.elements[2]*u-this.elements[3]*c,g[5]=+this.elements[0]*d-this.elements[2]*h+this.elements[3]*l,g[9]=-this.elements[0]*u+this.elements[1]*h-this.elements[3]*a,g[13]=+this.elements[0]*c-this.elements[1]*l+this.elements[2]*a,g[2]=+this.elements[13]*o-this.elements[14]*s+this.elements[15]*r,g[6]=-this.elements[12]*o+this.elements[14]*i-this.elements[15]*t,g[10]=+this.elements[12]*s-this.elements[13]*i+this.elements[15]*e,g[14]=-this.elements[12]*r+this.elements[13]*t-this.elements[14]*e,g[3]=-this.elements[9]*o+this.elements[10]*s-this.elements[11]*r,g[7]=+this.elements[8]*o-this.elements[10]*i+this.elements[11]*t,g[11]=-this.elements[8]*s+this.elements[9]*i-this.elements[11]*e,g[15]=+this.elements[8]*r-this.elements[9]*t+this.elements[10]*e;var p=1/f;return g[0]*=p,g[1]*=p,g[2]*=p,g[3]*=p,g[4]*=p,g[5]*=p,g[6]*=p,g[7]*=p,g[8]*=p,g[9]*=p,g[10]*=p,g[11]*=p,g[12]*=p,g[13]*=p,g[14]*=p,g[15]*=p,this.elements=g.slice(),!0},toString:function(){for(var e="",t=0;15>t;t++)e+=this.elements[t]+", ";return e+=this.elements[15]},print:function(){var e=yr(this.elements),t=""+bt.nfs(this.elements[0],e,4)+" "+bt.nfs(this.elements[1],e,4)+" "+bt.nfs(this.elements[2],e,4)+" "+bt.nfs(this.elements[3],e,4)+"\n"+bt.nfs(this.elements[4],e,4)+" "+bt.nfs(this.elements[5],e,4)+" "+bt.nfs(this.elements[6],e,4)+" "+bt.nfs(this.elements[7],e,4)+"\n"+bt.nfs(this.elements[8],e,4)+" "+bt.nfs(this.elements[9],e,4)+" "+bt.nfs(this.elements[10],e,4)+" "+bt.nfs(this.elements[11],e,4)+"\n"+bt.nfs(this.elements[12],e,4)+" "+bt.nfs(this.elements[13],e,4)+" "+bt.nfs(this.elements[14],e,4)+" "+bt.nfs(this.elements[15],e,4)+"\n\n";bt.println(t)},invTranslate:function(e,t,n){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1)},invRotateX:function(e){var t=n.cos(-e),i=n.sin(-e);this.preApply([1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1])},invRotateY:function(e){var t=n.cos(-e),i=n.sin(-e);this.preApply([t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=n.cos(-e),i=n.sin(-e);this.preApply([t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,n){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/n,0,0,0,0,1])}};var xr=bt.PMatrixStack=function(){this.matrixStack=[]};xr.prototype.load=function(){var e=Bt.$newPMatrix();1===arguments.length?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},fr.prototype.$newPMatrix=function(){return new br},gr.prototype.$newPMatrix=function(){return new Dr},xr.prototype.push=function(){this.matrixStack.push(this.peek())},xr.prototype.pop=function(){return this.matrixStack.pop()},xr.prototype.peek=function(){var e=Bt.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},xr.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},bt.split=function(e,t){return e.split(t)},bt.splitTokens=function(e,t){if(t===i)return e.split(/\s+/g);var n,r,s=t.split(/()/g),o="",a=e.length,l=[];for(n=0;a>n;n++)r=e[n],s.indexOf(r)>-1?(""!==o&&l.push(o),o=""):o+=r;return""!==o&&l.push(o),l},bt.append=function(e,t){return e[e.length]=t,e},bt.concat=function(e,t){return e.concat(t)},bt.sort=function(e,t){var n=[];if(e.length>0){for(var i=t>0?t:e.length,r=0;i>r;r++)n.push(e[r]);if("string"==typeof e[0]?n.sort():n.sort(function(e,t){return e-t}),t>0)for(var s=n.length;e.length>s;s++)n.push(e[s])}return n},bt.splice=function(e,t,n){if(0===t.length)return e;if(t instanceof Array)for(var i=0,r=n;t.length>i;r++,i++)e.splice(r,0,t[i]);else e.splice(n,0,t);return e},bt.subset=function(e,t,n){var r=n!==i?t+n:e.length;return e.slice(t,r)},bt.join=function(e,t){return e.join(t)},bt.shorten=function(e){for(var t=[],n=e.length,i=0;n>i;i++)t[i]=e[i];return t.pop(),t},bt.expand=function(e,t){var n=e.slice(0),i=t||2*e.length;return n.length=i,n},bt.arrayCopy=function(){var e,t,n,r=0,s=0;2===arguments.length?(e=arguments[0],t=arguments[1],n=e.length):3===arguments.length?(e=arguments[0],t=arguments[1],n=arguments[2]):5===arguments.length&&(e=arguments[0],r=arguments[1],t=arguments[2],s=arguments[3],n=arguments[4]);for(var o=r,a=s;n+r>o;o++,a++){if(t[a]===i)throw"array index out of bounds exception";t[a]=e[o]}},bt.reverse=function(e){return e.reverse()},bt.mix=function(e,t,n){return e+((t-e)*n>>8)},bt.peg=function(e){return 0>e?0:e>255?255:e},bt.modes=function(){function e(e,t,n,i,r,s,a,l,h,c,u){var d=o(((4278190080&e)>>>24)+t,255)<<24,f=n+((h-n)*t>>8);f=(0>f?0:f>255?255:f)<<16;var g=i+((c-i)*t>>8);g=(0>g?0:g>255?255:g)<<8;var p=r+((u-r)*t>>8);return p=0>p?0:p>255?255:p,d|f|g|p}var t=4278190080,i=16711680,r=65280,s=255,o=n.min,a=n.max;return{replace:function(e,t){return t},blend:function(e,n){var a=(n&t)>>>24,l=e&i,h=e&r,c=e&s,u=n&i,d=n&r,f=n&s;return o(((e&t)>>>24)+a,255)<<24|l+((u-l)*a>>8)&i|h+((d-h)*a>>8)&r|c+((f-c)*a>>8)&s},add:function(e,n){var a=(n&t)>>>24;return o(((e&t)>>>24)+a,255)<<24|o((e&i)+((n&i)>>8)*a,i)&i|o((e&r)+((n&r)>>8)*a,r)&r|o((e&s)+((n&s)*a>>8),s)},subtract:function(e,n){var l=(n&t)>>>24;return o(((e&t)>>>24)+l,255)<<24|a((e&i)-((n&i)>>8)*l,r)&i|a((e&r)-((n&r)>>8)*l,s)&r|a((e&s)-((n&s)*l>>8),0)},lightest:function(e,n){var l=(n&t)>>>24;return o(((e&t)>>>24)+l,255)<<24|a(e&i,((n&i)>>8)*l)&i|a(e&r,((n&r)>>8)*l)&r|a(e&s,(n&s)*l>>8)},darkest:function(e,n){var a=(n&t)>>>24,l=e&i,h=e&r,c=e&s,u=o(e&i,((n&i)>>8)*a),d=o(e&r,((n&r)>>8)*a),f=o(e&s,(n&s)*a>>8);return o(((e&t)>>>24)+a,255)<<24|l+((u-l)*a>>8)&i|h+((d-h)*a>>8)&r|c+((f-c)*a>>8)&s},difference:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=l>u?l-u:u-l,p=h>d?h-d:d-h,m=c>f?c-f:f-c;return e(n,a,l,h,c,u,d,f,g,p,m)},exclusion:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=l+u-(l*u>>7),p=h+d-(h*d>>7),m=c+f-(c*f>>7);return e(n,a,l,h,c,u,d,f,g,p,m)},multiply:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=l*u>>8,p=h*d>>8,m=c*f>>8;return e(n,a,l,h,c,u,d,f,g,p,m)},screen:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=255-((255-l)*(255-u)>>8),p=255-((255-h)*(255-d)>>8),m=255-((255-c)*(255-f)>>8);return e(n,a,l,h,c,u,d,f,g,p,m)},hard_light:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=128>u?l*u>>7:255-((255-l)*(255-u)>>7),p=128>d?h*d>>7:255-((255-h)*(255-d)>>7),m=128>f?c*f>>7:255-((255-c)*(255-f)>>7);return e(n,a,l,h,c,u,d,f,g,p,m)},soft_light:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=(l*u>>7)+(l*l>>8)-(l*l*u>>15),p=(h*d>>7)+(h*h>>8)-(h*h*d>>15),m=(c*f>>7)+(c*c>>8)-(c*c*f>>15);return e(n,a,l,h,c,u,d,f,g,p,m)},overlay:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=128>l?l*u>>7:255-((255-l)*(255-u)>>7),p=128>h?h*d>>7:255-((255-h)*(255-d)>>7),m=128>c?c*f>>7:255-((255-c)*(255-f)>>7);return e(n,a,l,h,c,u,d,f,g,p,m)},dodge:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=255;255!==u&&(g=(l<<8)/(255-u),g=0>g?0:g>255?255:g);var p=255;255!==d&&(p=(h<<8)/(255-d),p=0>p?0:p>255?255:p);var m=255;return 255!==f&&(m=(c<<8)/(255-f),m=0>m?0:m>255?255:m),e(n,a,l,h,c,u,d,f,g,p,m)},burn:function(n,o){var a=(o&t)>>>24,l=(n&i)>>16,h=(n&r)>>8,c=n&s,u=(o&i)>>16,d=(o&r)>>8,f=o&s,g=0;0!==u&&(g=(255-l<<8)/u,g=255-(0>g?0:g>255?255:g));var p=0;0!==d&&(p=(255-h<<8)/d,p=255-(0>p?0:p>255?255:p));var m=0;return 0!==f&&(m=(255-c<<8)/f,m=255-(0>m?0:m>255?255:m)),e(n,a,l,h,c,u,d,f,g,p,m)}}}(),bt.color=function(e,t,n,r){return e!==i&&t!==i&&n!==i&&r!==i?g(e,t,n,r):e!==i&&t!==i&&n!==i?g(e,t,n,On):e!==i&&t!==i?p(e,t):"number"==typeof e?v(e):g(Nn,Hn,zn,On)
},bt.color.toString=function(e){return"rgba("+(255&e>>16)+","+(255&e>>8)+","+(255&e)+","+(255&e>>24)/255+")"},bt.color.toInt=function(e,t,n,i){return 4278190080&i<<24|16711680&e<<16|65280&t<<8|255&n},bt.color.toArray=function(e){return[255&e>>16,255&e>>8,255&e,255&e>>24]},bt.color.toGLArray=function(e){return[((16711680&e)>>>16)/255,(255&e>>8)/255,(255&e)/255,(255&e>>24)/255]},bt.color.toRGB=function(e,t,i){e=e>Nn?Nn:e,t=t>Hn?Hn:t,i=i>zn?zn:i,e=360*(e/Nn),t=100*(t/Hn),i=100*(i/zn);var r=n.round(255*(i/100));if(0===t)return[r,r,r];var s=e%360,o=s%60,a=n.round(255*(i*(100-t)/1e4)),l=n.round(255*(i*(6e3-t*o)/6e5)),h=n.round(255*(i*(6e3-t*(60-o))/6e5));switch(n.floor(s/60)){case 0:return[r,h,a];case 1:return[l,r,a];case 2:return[a,r,h];case 3:return[a,l,r];case 4:return[h,a,r];case 5:return[r,a,l]}},bt.brightness=function(e){return C(e)[2]},bt.saturation=function(e){return C(e)[1]},bt.hue=function(e){return C(e)[0]},bt.red=function(e){return(255&e>>16)/255*Nn},bt.green=function(e){return((65280&e)>>>8)/255*Hn},bt.blue=function(e){return(255&e)/255*zn},bt.alpha=function(e){return(255&e>>24)/255*On},bt.lerpColor=function(e,t,n){var i,r,s,o,a,l,h,c,u,d,f,g,p,m,v,A,E,F=bt.color(e),w=bt.color(t);return 3===Vn?(p=C(F),c=(255&F>>24)/On,m=C(w),g=((4278190080&w)>>>24)/On,A=bt.lerp(p[0],m[0],n),E=bt.lerp(p[1],m[1],n),s=bt.lerp(p[2],m[2],n),v=bt.color.toRGB(A,E,s),o=bt.lerp(c,g,n)*On,4278190080&o<<24|(255&v[0])<<16|(255&v[1])<<8|255&v[2]):(a=255&F>>16,l=255&F>>8,h=255&F,c=(255&F>>24)/On,u=(16711680&w)>>>16,d=255&w>>8,f=255&w,g=(255&w>>24)/On,i=0|bt.lerp(a,u,n),r=0|bt.lerp(l,d,n),s=0|bt.lerp(h,f,n),o=bt.lerp(c,g,n)*On,4278190080&o<<24|16711680&i<<16|65280&r<<8|255&s)},bt.colorMode=function(){Vn=arguments[0],arguments.length>1&&(Nn=arguments[1],Hn=arguments[2]||arguments[1],zn=arguments[3]||arguments[1],On=arguments[4]||arguments[1])},bt.blendColor=function(e,t,n){return 0===n?bt.modes.replace(e,t):1===n?bt.modes.blend(e,t):2===n?bt.modes.add(e,t):4===n?bt.modes.subtract(e,t):8===n?bt.modes.lightest(e,t):16===n?bt.modes.darkest(e,t):32===n?bt.modes.difference(e,t):64===n?bt.modes.exclusion(e,t):128===n?bt.modes.multiply(e,t):256===n?bt.modes.screen(e,t):1024===n?bt.modes.hard_light(e,t):2048===n?bt.modes.soft_light(e,t):512===n?bt.modes.overlay(e,t):4096===n?bt.modes.dodge(e,t):8192===n?bt.modes.burn(e,t):void 0},bt.printMatrix=function(){Ai.print()},fr.prototype.translate=function(e,t){Ai.translate(e,t),Ci.invTranslate(e,t),Dt.translate(e,t)},gr.prototype.translate=function(e,t,n){Ai.translate(e,t,n),Ci.invTranslate(e,t,n)},fr.prototype.scale=function(e,t){Ai.scale(e,t),Ci.invScale(e,t),Dt.scale(e,t||e)},gr.prototype.scale=function(e,t,n){Ai.scale(e,t,n),Ci.invScale(e,t,n)},fr.prototype.transform=function(e){var t=e.array();Dt.transform(t[0],t[3],t[1],t[4],t[2],t[5])},gr.prototype.transformm=function(){throw"p.transform is currently not supported in 3D mode"},fr.prototype.pushMatrix=function(){Ei.load(Ai),Fi.load(Ci),D()},gr.prototype.pushMatrix=function(){Ei.load(Ai),Fi.load(Ci)},fr.prototype.popMatrix=function(){Ai.set(Ei.pop()),Ci.set(Fi.pop()),x()},gr.prototype.popMatrix=function(){Ai.set(Ei.pop()),Ci.set(Fi.pop())},fr.prototype.resetMatrix=function(){Ai.reset(),Ci.reset(),Dt.setTransform(1,0,0,1,0,0)},gr.prototype.resetMatrix=function(){Ai.reset(),Ci.reset()},dr.prototype.applyMatrix=function(){var e=arguments;Ai.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),Ci.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},fr.prototype.applyMatrix=function(){for(var e=arguments,t=e.length;16>t;t++)e[t]=0;e[10]=e[15]=1,dr.prototype.applyMatrix.apply(this,e)},bt.rotateX=function(e){Ai.rotateX(e),Ci.invRotateX(e)},fr.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},gr.prototype.rotateZ=function(e){Ai.rotateZ(e),Ci.invRotateZ(e)},bt.rotateY=function(e){Ai.rotateY(e),Ci.invRotateY(e)},fr.prototype.rotate=function(e){Ai.rotateZ(e),Ci.invRotateZ(e),Dt.rotate(e)},gr.prototype.rotate=function(e){bt.rotateZ(e)},fr.prototype.shearX=function(e){Ai.shearX(e),Dt.transform(1,0,e,1,0,0)},gr.prototype.shearX=function(e){Ai.shearX(e)},fr.prototype.shearY=function(e){Ai.shearY(e),Dt.transform(1,e,0,1,0,0)},gr.prototype.shearY=function(e){Ai.shearY(e)},bt.pushStyle=function(){D(),bt.pushMatrix();var e={doFill:ln,currentFillColor:cn,doStroke:dn,currentStrokeColor:gn,curTint:Gn,curRectMode:Fn,curColorMode:Vn,colorModeX:Nn,colorModeZ:zn,colorModeY:Hn,colorModeA:On,curTextFont:li,horizontalTextAlignment:ei,verticalTextAlignment:ti,textMode:ni,curFontName:ii,curTextSize:ri,curTextAscent:si,curTextDescent:oi,curTextLeading:ai};Ki.push(e)},bt.popStyle=function(){var e=Ki.pop();if(!e)throw"Too many popStyle() without enough pushStyle()";x(),bt.popMatrix(),ln=e.doFill,cn=e.currentFillColor,dn=e.doStroke,gn=e.currentStrokeColor,Gn=e.curTint,Fn=e.curRectMode,Vn=e.curColorMode,Nn=e.colorModeX,zn=e.colorModeZ,Hn=e.colorModeY,On=e.colorModeA,li=e.curTextFont,ii=e.curFontName,ri=e.curTextSize,ei=e.horizontalTextAlignment,ti=e.verticalTextAlignment,ni=e.textMode,si=e.curTextAscent,oi=e.curTextDescent,ai=e.curTextLeading},bt.year=function(){return(new Date).getFullYear()},bt.month=function(){return(new Date).getMonth()+1},bt.day=function(){return(new Date).getDate()},bt.hour=function(){return(new Date).getHours()},bt.minute=function(){return(new Date).getMinutes()},bt.second=function(){return(new Date).getSeconds()},bt.millis=function(){return Date.now()-Yn},fr.prototype.redraw=function(){B(),Dt.lineWidth=mn;var e=bt.pmouseX,t=bt.pmouseY;bt.pmouseX=Wn,bt.pmouseY=Un,D(),bt.draw(),x(),Wn=bt.mouseX,Un=bt.mouseY,bt.pmouseX=e,bt.pmouseY=t},gr.prototype.redraw=function(){B();var e=bt.pmouseX,t=bt.pmouseY;bt.pmouseX=Wn,bt.pmouseY=Un,Dt.clear(Dt.DEPTH_BUFFER_BIT),Zn={attributes:{},locations:{}},bt.noLights(),bt.lightFalloff(1,0,0),bt.shininess(1),bt.ambient(255,255,255),bt.specular(0,0,0),bt.emissive(0,0,0),bt.camera(),bt.draw(),Wn=bt.mouseX,Un=bt.mouseY,bt.pmouseX=e,bt.pmouseY=t},bt.noLoop=function(){Cn=!1,vn=!1,clearInterval(En),xt.onPause()},bt.loop=function(){vn||(Kn=Date.now(),Xn=0,En=e.setInterval(function(){try{xt.onFrameStart(),bt.redraw(),xt.onFrameEnd()}catch(t){throw e.clearInterval(En),t}},Sn),Cn=!0,vn=!0,xt.onLoop())},bt.frameRate=function(e){Bn=e,Sn=1e3/Bn,Cn&&(bt.noLoop(),bt.loop())};var Br=[];bt.exit=function(){e.clearInterval(En),_(bt.externals.canvas.id),delete wt.onmousedown;for(var t in M.lib)M.lib.hasOwnProperty(t)&&M.lib[t].hasOwnProperty("detach")&&M.lib[t].detach(bt);for(var n=Br.length;n--;)T(Br[n]);xt.onExit()},bt.cursor=function(){if(arguments.length>1||1===arguments.length&&arguments[0]instanceof bt.PImage){var e,t,n=arguments[0];if(arguments.length>=3){if(e=arguments[1],t=arguments[2],0>e||0>t||t>=n.height||e>=n.width)throw"x and y must be non-negative and less than the dimensions of the image"}else e=n.width>>>1,t=n.height>>>1;var i=n.toDataURL(),r='url("'+i+'") '+e+" "+t+", default";kn=wt.style.cursor=r}else if(1===arguments.length){var s=arguments[0];kn=wt.style.cursor=s}else kn=wt.style.cursor=$n},bt.noCursor=function(){kn=wt.style.cursor=b.NOCURSOR},bt.link=function(t,n){n!==i?e.open(t,n):e.location=t},bt.beginDraw=m,bt.endDraw=m,fr.prototype.toImageData=function(e,t,n,r){return e=e!==i?e:0,t=t!==i?t:0,n=n!==i?n:bt.width,r=r!==i?r:bt.height,Dt.getImageData(e,t,n,r)},gr.prototype.toImageData=function(e,r,s,o){e=e!==i?e:0,r=r!==i?r:0,s=s!==i?s:bt.width,o=o!==i?o:bt.height;var a=t.createElement("canvas"),l=a.getContext("2d"),h=l.createImageData(s,o),c=new y(4*s*o);Dt.readPixels(e,r,s,o,Dt.RGBA,Dt.UNSIGNED_BYTE,c);for(var u=0,d=c.length,f=h.data;d>u;u++)f[u]=c[4*(o-1-n.floor(u/4/s))*s+u%(4*s)];return h},bt.status=function(t){e.status=t},bt.binary=function(e,t){var n;if(t>0)n=t;else if(e instanceof vr)n=16,e|=0;else for(n=32;n>1&&!(1&e>>>n-1);)n--;for(var i="";n>0;)i+=1&e>>>--n?"1":"0";return i},bt.unbinary=function(e){for(var t=e.length-1,n=1,i=0;t>=0;){var r=e[t--];if("0"!==r&&"1"!==r)throw"the value passed into unbinary was not an 8 bit binary number";"1"===r&&(i+=n),n<<=1}return i},bt.nf=function(e,t,n){return I(e,"","-",t,n)},bt.nfs=function(e,t,n){return I(e," ","-",t,n)},bt.nfp=function(e,t,n){return I(e,"+","-",t,n)},bt.nfc=function(e,t,n){return I(e,"","-",t,n,",")};var Sr=function(e,t){t=t===i||null===t?t=8:t,0>e&&(e=4294967295+e+1);for(var n=Number(e).toString(16).toUpperCase();t>n.length;)n="0"+n;return n.length>=t&&(n=n.substring(n.length-t,n.length)),n};bt.hex=function(e,t){return 1===arguments.length&&(t=e instanceof vr?4:8),Sr(e,t)},bt.unhex=function(e){if(e instanceof Array){for(var t=[],n=0;e.length>n;n++)t.push(O(e[n]));return t}return O(e)},bt.loadStrings=function(e){if(localStorage[e])return localStorage[e].split("\n");var t=A(e);return"string"!=typeof t||""===t?[]:(t=t.replace(/(\r\n?)/g,"\n").replace(/\n$/,""),t.split("\n"))},bt.saveStrings=function(e,t){localStorage[e]=t.join("\n")},bt.loadBytes=function(e){for(var t=A(e),n=[],i=0;t.length>i;i++)n.push(t.charCodeAt(i));return n},bt.matchAll=function(e,t){for(var n,i=[],r=RegExp(t,"g");null!==(n=r.exec(e));)i.push(n),0===n[0].length&&++r.lastIndex;return i.length>0?i:null},bt.__contains=function(e,t){return"string"!=typeof e?e.contains.apply(e,N(arguments)):null!==e&&null!==t&&"string"==typeof t&&e.indexOf(t)>-1},bt.__replaceAll=function(e,t,n){return"string"!=typeof e?e.replaceAll.apply(e,N(arguments)):e.replace(RegExp(t,"g"),n)},bt.__replaceFirst=function(e,t,n){return"string"!=typeof e?e.replaceFirst.apply(e,N(arguments)):e.replace(RegExp(t,""),n)},bt.__replace=function(e,t,n){if("string"!=typeof e)return e.replace.apply(e,N(arguments));if(t instanceof RegExp)return e.replace(t,n);if("string"!=typeof t&&(t=""+t),""===t)return e;var i=e.indexOf(t);if(0>i)return e;var r=0,s="";do s+=e.substring(r,i)+n,r=i+t.length;while((i=e.indexOf(t,r))>=0);return s+e.substring(r)},bt.__equals=function(e,t){return e.equals instanceof Function?e.equals.apply(e,N(arguments)):e.valueOf()===t.valueOf()},bt.__equalsIgnoreCase=function(e,t){return"string"!=typeof e?e.equalsIgnoreCase.apply(e,N(arguments)):e.toLowerCase()===t.toLowerCase()},bt.__toCharArray=function(e){if("string"!=typeof e)return e.toCharArray.apply(e,N(arguments));for(var t=[],n=0,i=e.length;i>n;++n)t[n]=new vr(e.charAt(n));return t},bt.__split=function(e,t,n){if("string"!=typeof e)return e.split.apply(e,N(arguments));var r=RegExp(t);if(n===i||1>n)return e.split(r);for(var s,o=[],a=e;-1!==(s=a.search(r))&&n-1>o.length;){var l=""+r.exec(a);o.push(a.substring(0,s)),a=a.substring(s+l.length)}return(-1!==s||""!==a)&&o.push(a),o},bt.__codePointAt=function(e,t){var n,i,r=e.charCodeAt(t);return r>=55296&&56319>=r?(n=r,i=e.charCodeAt(t+1),1024*(n-55296)+(i-56320)+65536):r},bt.match=function(e,t){return e.match(t)},bt.__matches=function(e,t){return RegExp(t).test(e)},bt.__startsWith=function(e,t,n){return"string"!=typeof e?e.startsWith.apply(e,N(arguments)):(n=n||0,0>n||n>e.length?!1:""===t||t===e?!0:e.indexOf(t)===n)},bt.__endsWith=function(e,t){if("string"!=typeof e)return e.endsWith.apply(e,N(arguments));var n=t?t.length:0;return""===t||t===e?!0:e.indexOf(t)===e.length-n},bt.__hashCode=function(e){return e.hashCode instanceof Function?e.hashCode.apply(e,N(arguments)):s(e)},bt.__printStackTrace=function(e){bt.println("Exception: "+(""+e))};var kr=[];bt.println=function(e){var t=kr.length;t&&(M.logger.log(kr.join("")),kr.length=0),0===arguments.length&&0===t?M.logger.log(""):0!==arguments.length&&M.logger.log(e)},bt.print=function(e){kr.push(e)},bt.str=function(e){if(e instanceof Array){for(var t=[],n=0;e.length>n;n++)t.push(""+e[n]);return t}return""+e},bt.trim=function(e){if(e instanceof Array){for(var t=[],n=0;e.length>n;n++)t.push(e[n].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return t}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},bt.parseBoolean=function(e){if(e instanceof Array){for(var t=[],n=0;e.length>n;n++)t.push(H(e[n]));return t}return H(e)},bt.parseByte=function(e){if(e instanceof Array){for(var t=[],n=0;e.length>n;n++)t.push(0-(128&e[n])|127&e[n]);return t}return 0-(128&e)|127&e},bt.parseChar=function(e){if("number"==typeof e)return new vr(String.fromCharCode(65535&e));if(e instanceof Array){for(var t=[],n=0;e.length>n;n++)t.push(new vr(String.fromCharCode(65535&e[n])));return t}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},bt.parseFloat=function(e){if(e instanceof Array){for(var t=[],n=0;e.length>n;n++)t.push(z(e[n]));return t}return z(e)},bt.parseInt=function(e,t){if(e instanceof Array){for(var n=[],i=0;e.length>i;i++)"string"!=typeof e[i]||/^\s*[+\-]?\d+\s*$/.test(e[i])?n.push(W(e[i],t)):n.push(0);return n}return W(e,t)},bt.__int_cast=function(e){return 0|e},bt.__instanceof=function(e,t){if("function"!=typeof t)throw"Function is expected as type argument for instanceof operator";if("string"==typeof e)return t===Object||t===String;if(e instanceof t)return!0;if("object"!=typeof e||null===e)return!1;var n=e.constructor;if(t.$isInterface){for(var i=[];n;)n.$interfaces&&(i=i.concat(n.$interfaces)),n=n.$base;for(;i.length>0;){var r=i.shift();if(r===t)return!0;r.$interfaces&&(i=i.concat(r.$interfaces))}return!1}for(;n.hasOwnProperty("$base");)if(n=n.$base,n===t)return!0;return!1},bt.abs=n.abs,bt.ceil=n.ceil,bt.constrain=function(e,t,n){return e>n?n:t>e?t:e},bt.dist=function(){var e,t,i;return 4===arguments.length?(e=arguments[0]-arguments[2],t=arguments[1]-arguments[3],n.sqrt(e*e+t*t)):6===arguments.length?(e=arguments[0]-arguments[3],t=arguments[1]-arguments[4],i=arguments[2]-arguments[5],n.sqrt(e*e+t*t+i*i)):void 0},bt.exp=n.exp,bt.floor=n.floor,bt.lerp=function(e,t,n){return(t-e)*n+e},bt.log=n.log,bt.mag=function(e,t,i){return i?n.sqrt(e*e+t*t+i*i):n.sqrt(e*e+t*t)},bt.map=function(e,t,n,i,r){return i+(r-i)*((e-t)/(n-t))},bt.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&e.length>0))throw"Non-empty array is expected";for(var t=e[0],n=e.length,i=1;n>i;++i)e[i]>t&&(t=e[i]);return t},bt.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&e.length>0))throw"Non-empty array is expected";for(var t=e[0],n=e.length,i=1;n>i;++i)t>e[i]&&(t=e[i]);return t},bt.norm=function(e,t,n){return(e-t)/(n-t)},bt.pow=n.pow,bt.round=n.round,bt.sq=function(e){return e*e},bt.sqrt=n.sqrt,bt.acos=n.acos,bt.asin=n.asin,bt.atan=n.atan,bt.atan2=n.atan2,bt.cos=n.cos,bt.degrees=function(e){return 180*e/n.PI},bt.radians=function(e){return e/180*n.PI},bt.sin=n.sin,bt.tan=n.tan;var $r=n.random;bt.random=function(){if(0===arguments.length)return $r();if(1===arguments.length)return $r()*arguments[0];var e=arguments[0],t=arguments[1];return $r()*(t-e)+e},U.createRandomized=function(){var e=new Date;return new U(4294967295&e/6e4,4294967295&e)},bt.randomSeed=function(e){$r=new U(e).nextDouble},bt.Random=function(e){var t,r,s=!1;this.nextGaussian=function(){if(s)return s=!1,t;var e,i,o;do e=2*r()-1,i=2*r()-1,o=e*e+i*i;while(o>=1||0===o);var a=n.sqrt(-2*n.log(o)/o);return t=i*a,s=!0,e*a},r=e===i?n.random:new U(e).nextDouble};var Lr={generator:i,octaves:4,fallout:.5,seed:i};bt.noise=function(e,t,n){Lr.generator===i&&(Lr.generator=new V(Lr.seed));for(var r=Lr.generator,s=1,o=1,a=0,l=0;Lr.octaves>l;++l){switch(s*=Lr.fallout,arguments.length){case 1:a+=s*(1+r.noise1d(o*e))/2;break;case 2:a+=s*(1+r.noise2d(o*e,o*t))/2;break;case 3:a+=s*(1+r.noise3d(o*e,o*t,o*n))/2}o*=2}return a},bt.noiseDetail=function(e,t){Lr.octaves=e,t!==i&&(Lr.fallout=t)},bt.noiseSeed=function(e){Lr.seed=e,Lr.generator=i},dr.prototype.size=function(e,t){dn&&bt.stroke(0),ln&&bt.fill(255);var i={fillStyle:Dt.fillStyle,strokeStyle:Dt.strokeStyle,lineCap:Dt.lineCap,lineJoin:Dt.lineJoin};wt.style.length>0&&(wt.style.removeProperty("width"),wt.style.removeProperty("height")),wt.width=bt.width=e||100,wt.height=bt.height=t||100;for(var r in i)i.hasOwnProperty(r)&&(Dt[r]=i[r]);bt.textFont(li),bt.background(),ui=n.max(1e3,.05*e*t),bt.externals.context=Dt;for(var s=0;720>s;s++)$i[s]=bt.sin(.5*s*(n.PI/180)),Li[s]=bt.cos(.5*s*(n.PI/180))},fr.prototype.size=function(){Dt===i&&(Dt=wt.getContext("2d"),Ei=new xr,Fi=new xr,Ai=new br,Ci=new br),dr.prototype.size.apply(this,arguments)},gr.prototype.size=function(){var e=!1;return function(t,n){function i(e){for(var t,n=["experimental-webgl","webgl","webkit-3d"],i=0,r=n.length;r>i&&!(t=e.getContext(n[i],{antialias:!1,preserveDrawingBuffer:!0}));i++);return t}if(e)throw"Multiple calls to size() for 3D renders are not allowed.";e=!0;try{wt.width=bt.width=t||100,wt.height=bt.height=n||100,Dt=i(wt),Zt=Dt.createTexture(),qt=Dt.createTexture()}catch(r){M.debug(r)}if(!Dt)throw"WebGL context is not supported on this browser.";Dt.viewport(0,0,wt.width,wt.height),Dt.enable(Dt.DEPTH_TEST),Dt.enable(Dt.BLEND),Dt.blendFunc(Dt.SRC_ALPHA,Dt.ONE_MINUS_SRC_ALPHA),Pt=ar(Dt,nr,ir),It=ar(Dt,er,tr),bt.strokeWeight(1),Mt=ar(Dt,sr,or),Dt.useProgram(Mt),h("usingTexture3d",Mt,"usingTexture",Qn),bt.lightFalloff(1,0,0),bt.shininess(1),bt.ambient(255,255,255),bt.specular(0,0,0),bt.emissive(0,0,0),Ot=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,Ot),Dt.bufferData(Dt.ARRAY_BUFFER,Xi,Dt.STATIC_DRAW),Nt=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,Nt),Dt.bufferData(Dt.ARRAY_BUFFER,qi,Dt.STATIC_DRAW),Ht=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,Ht),Dt.bufferData(Dt.ARRAY_BUFFER,Zi,Dt.STATIC_DRAW),zt=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,zt),Dt.bufferData(Dt.ARRAY_BUFFER,Ji,Dt.STATIC_DRAW),Wt=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,Wt),Dt.bufferData(Dt.ARRAY_BUFFER,Qi,Dt.STATIC_DRAW),Ut=Dt.createBuffer(),Vt=Dt.createBuffer(),Gt=Dt.createBuffer(),jt=Dt.createBuffer(),Yt=Dt.createBuffer(),Xt=Dt.createBuffer(),Kt=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,Kt),Dt.bufferData(Dt.ARRAY_BUFFER,new E([0,0,0]),Dt.STATIC_DRAW),Jt=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,Jt),Dt.bufferData(Dt.ARRAY_BUFFER,new E([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),Dt.STATIC_DRAW),Qt=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,Qt),Dt.bufferData(Dt.ARRAY_BUFFER,new E([0,0,1,0,1,1,0,1]),Dt.STATIC_DRAW),en=Dt.createBuffer(),Dt.bindBuffer(Dt.ELEMENT_ARRAY_BUFFER,en),Dt.bufferData(Dt.ELEMENT_ARRAY_BUFFER,new w([0,1,2,2,3,0]),Dt.STATIC_DRAW),mi=new Dr,vi=new Dr,Ai=new Dr,Ci=new Dr,yi=new Dr,bt.camera(),bt.perspective(),Ei=new xr,Fi=new xr,kt=new Dr,$t=new Dr,Lt=new Dr,Tt=new Dr,_t=new Dr,Rt=new Dr,Rt.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),dr.prototype.size.apply(this,arguments)}}(),fr.prototype.ambientLight=dr.prototype.a3DOnlyFunction,gr.prototype.ambientLight=function(e,t,n,i,r,s){if(8===bi)throw"can only create 8 lights";var o=new S(i,r,s),a=new Dr;a.scale(1,-1,1),a.apply(Ai.array()),a.mult(o,o);var c=g(e,t,n,0),u=[(255&c>>16)/255,(255&c>>8)/255,(255&c)/255];Dt.useProgram(Mt),l("uLights.color.3d."+bi,Mt,"uLights"+bi+".color",u),l("uLights.position.3d."+bi,Mt,"uLights"+bi+".position",o.array()),h("uLights.type.3d."+bi,Mt,"uLights"+bi+".type",0),h("uLightCount3d",Mt,"uLightCount",++bi)},fr.prototype.directionalLight=dr.prototype.a3DOnlyFunction,gr.prototype.directionalLight=function(e,t,n,i,r,s){if(8===bi)throw"can only create 8 lights";Dt.useProgram(Mt);var o=new Dr;o.scale(1,-1,1),o.apply(Ai.array()),o=o.array();var a=[o[0]*i+o[4]*r+o[8]*s,o[1]*i+o[5]*r+o[9]*s,o[2]*i+o[6]*r+o[10]*s],c=g(e,t,n,0),u=[(255&c>>16)/255,(255&c>>8)/255,(255&c)/255];l("uLights.color.3d."+bi,Mt,"uLights"+bi+".color",u),l("uLights.position.3d."+bi,Mt,"uLights"+bi+".position",a),h("uLights.type.3d."+bi,Mt,"uLights"+bi+".type",1),h("uLightCount3d",Mt,"uLightCount",++bi)},fr.prototype.lightFalloff=dr.prototype.a3DOnlyFunction,gr.prototype.lightFalloff=function(e,t,n){Dt.useProgram(Mt),l("uFalloff3d",Mt,"uFalloff",[e,t,n])},fr.prototype.lightSpecular=dr.prototype.a3DOnlyFunction,gr.prototype.lightSpecular=function(e,t,n){var i=g(e,t,n,0),r=[(255&i>>16)/255,(255&i>>8)/255,(255&i)/255];Dt.useProgram(Mt),l("uSpecular3d",Mt,"uSpecular",r)},bt.lights=function(){bt.ambientLight(128,128,128),bt.directionalLight(128,128,128,0,0,-1),bt.lightFalloff(1,0,0),bt.lightSpecular(0,0,0)},fr.prototype.pointLight=dr.prototype.a3DOnlyFunction,gr.prototype.pointLight=function(e,t,n,i,r,s){if(8===bi)throw"can only create 8 lights";var o=new S(i,r,s),a=new Dr;a.scale(1,-1,1),a.apply(Ai.array()),a.mult(o,o);var c=g(e,t,n,0),u=[(255&c>>16)/255,(255&c>>8)/255,(255&c)/255];Dt.useProgram(Mt),l("uLights.color.3d."+bi,Mt,"uLights"+bi+".color",u),l("uLights.position.3d."+bi,Mt,"uLights"+bi+".position",o.array()),h("uLights.type.3d."+bi,Mt,"uLights"+bi+".type",2),h("uLightCount3d",Mt,"uLightCount",++bi)},fr.prototype.noLights=dr.prototype.a3DOnlyFunction,gr.prototype.noLights=function(){bi=0,Dt.useProgram(Mt),h("uLightCount3d",Mt,"uLightCount",bi)},fr.prototype.spotLight=dr.prototype.a3DOnlyFunction,gr.prototype.spotLight=function(e,t,n,i,r,s,o,a,c,u,d){if(8===bi)throw"can only create 8 lights";Dt.useProgram(Mt);var f=new S(i,r,s),p=new Dr;p.scale(1,-1,1),p.apply(Ai.array()),p.mult(f,f),p=p.array();var m=[p[0]*o+p[4]*a+p[8]*c,p[1]*o+p[5]*a+p[9]*c,p[2]*o+p[6]*a+p[10]*c],v=g(e,t,n,0),A=[(255&v>>16)/255,(255&v>>8)/255,(255&v)/255];l("uLights.color.3d."+bi,Mt,"uLights"+bi+".color",A),l("uLights.position.3d."+bi,Mt,"uLights"+bi+".position",f.array()),l("uLights.direction.3d."+bi,Mt,"uLights"+bi+".direction",m),l("uLights.concentration.3d."+bi,Mt,"uLights"+bi+".concentration",d),l("uLights.angle.3d."+bi,Mt,"uLights"+bi+".angle",u),h("uLights.type.3d."+bi,Mt,"uLights"+bi+".type",3),h("uLightCount3d",Mt,"uLightCount",++bi)},fr.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},gr.prototype.beginCamera=function(){if(Ti)throw"You cannot call beginCamera() again before calling endCamera()";Ti=!0,Ai=vi,Ci=mi},fr.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},gr.prototype.endCamera=function(){if(!Ti)throw"You cannot call endCamera() before calling beginCamera()";Ai.set(mi),Ci.set(vi),Ti=!1},bt.camera=function(e,t,r,s,o,a,l,h,c){e===i&&(Mi=bt.width/2,Pi=bt.height/2,Ii=Pi/n.tan(Ri/2),e=Mi,t=Pi,r=Ii,s=Mi,o=Pi,a=0,l=0,h=1,c=0);var u=new S(e-s,t-o,r-a),d=new S(l,h,c);u.normalize();var f=S.cross(d,u);d=S.cross(u,f),f.normalize(),d.normalize();var g=f.x,p=f.y,m=f.z,v=d.x,A=d.y,C=d.z,E=u.x,F=u.y,w=u.z;mi.set(g,p,m,0,v,A,C,0,E,F,w,0,0,0,0,1),mi.translate(-e,-t,-r),vi.reset(),vi.invApply(g,p,m,0,v,A,C,0,E,F,w,0,0,0,0,1),vi.translate(e,t,r),Ai.set(mi),Ci.set(vi)},bt.perspective=function(e,t,i,r){0===arguments.length&&(Pi=wt.height/2,Ii=Pi/n.tan(Ri/2),Oi=Ii/10,Ni=10*Ii,Hi=bt.width/bt.height,e=Ri,t=Hi,i=Oi,r=Ni);var s,o,a,l;s=i*n.tan(e/2),o=-s,a=s*t,l=o*t,bt.frustum(l,a,o,s,i,r)},fr.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},gr.prototype.frustum=function(e,t,n,i,r,s){_i=!0,yi=new Dr,yi.set(2*r/(t-e),0,(t+e)/(t-e),0,0,2*r/(i-n),(i+n)/(i-n),0,0,0,-(s+r)/(s-r),-(2*s*r)/(s-r),0,0,-1,0);var o=new Dr;o.set(yi),o.transpose(),Dt.useProgram(Pt),c("projection2d",Pt,"uProjection",!1,o.array()),Dt.useProgram(Mt),c("projection3d",Mt,"uProjection",!1,o.array()),Dt.useProgram(It),c("uProjectionUS",It,"uProjection",!1,o.array())},bt.ortho=function(e,t,n,i,r,s){0===arguments.length&&(e=0,t=bt.width,n=0,i=bt.height,r=-10,s=10);var o=2/(t-e),a=2/(i-n),l=-2/(s-r),h=-(t+e)/(t-e),u=-(i+n)/(i-n),d=-(s+r)/(s-r);yi=new Dr,yi.set(o,0,0,h,0,a,0,u,0,0,l,d,0,0,0,1);var f=new Dr;f.set(yi),f.transpose(),Dt.useProgram(Pt),c("projection2d",Pt,"uProjection",!1,f.array()),Dt.useProgram(Mt),c("projection3d",Mt,"uProjection",!1,f.array()),Dt.useProgram(It),c("uProjectionUS",It,"uProjection",!1,f.array()),_i=!1},bt.printProjection=function(){yi.print()},bt.printCamera=function(){mi.print()},fr.prototype.box=dr.prototype.a3DOnlyFunction,gr.prototype.box=function(e,t,n){t&&n||(t=n=e);var i=new Dr;i.scale(e,t,n);var r=new Dr;if(r.scale(1,-1,1),r.apply(Ai.array()),r.transpose(),ln){if(Dt.useProgram(Mt),c("model3d",Mt,"uModel",!1,i.array()),c("view3d",Mt,"uView",!1,r.array()),Dt.enable(Dt.POLYGON_OFFSET_FILL),Dt.polygonOffset(1,1),l("color3d",Mt,"uColor",hn),bi>0){var s=new Dr;s.set(r);var o=new Dr;o.set(i),s.mult(o);var a=new Dr;a.set(s),a.invert(),a.transpose(),c("uNormalTransform3d",Mt,"uNormalTransform",!1,a.array()),u("aNormal3d",Mt,"aNormal",3,Nt)}else f("aNormal3d",Mt,"aNormal");u("aVertex3d",Mt,"aVertex",3,Ot),f("aColor3d",Mt,"aColor"),f("aTexture3d",Mt,"aTexture"),Dt.drawArrays(Dt.TRIANGLES,0,Xi.length/3),Dt.disable(Dt.POLYGON_OFFSET_FILL)}mn>0&&dn&&(Dt.useProgram(Pt),c("uModel2d",Pt,"uModel",!1,i.array()),c("uView2d",Pt,"uView",!1,r.array()),l("uColor2d",Pt,"uColor",fn),h("uIsDrawingText2d",Pt,"uIsDrawingText",!1),u("vertex2d",Pt,"aVertex",3,Ht),f("aTextureCoord2d",Pt,"aTextureCoord"),Dt.drawArrays(Dt.LINES,0,Zi.length/3))};var Tr=function(){var e;for(pi=[],e=0;xi>e;e++)pi.push(0),pi.push(-1),pi.push(0),pi.push(Bi[e]),pi.push(Si[e]),pi.push(ki[e]);pi.push(0),pi.push(-1),pi.push(0),pi.push(Bi[0]),pi.push(Si[0]),pi.push(ki[0]);var t,n,i,r=0;for(e=2;Di>e;e++){t=n=r,r+=xi,i=r;for(var s=0;xi>s;s++)pi.push(Bi[t]),pi.push(Si[t]),pi.push(ki[t++]),pi.push(Bi[i]),pi.push(Si[i]),pi.push(ki[i++]);t=n,i=r,pi.push(Bi[t]),pi.push(Si[t]),pi.push(ki[t]),pi.push(Bi[i]),pi.push(Si[i]),pi.push(ki[i])}for(e=0;xi>e;e++)i=r+e,pi.push(Bi[i]),pi.push(Si[i]),pi.push(ki[i]),pi.push(0),pi.push(1),pi.push(0);pi.push(Bi[r]),pi.push(Si[r]),pi.push(ki[r]),pi.push(0),pi.push(1),pi.push(0),Dt.bindBuffer(Dt.ARRAY_BUFFER,Ut),Dt.bufferData(Dt.ARRAY_BUFFER,new E(pi),Dt.STATIC_DRAW)};bt.sphereDetail=function(e,t){var n;if(1===arguments.length&&(e=t=arguments[0]),3>e&&(e=3),2>t&&(t=2),e!==xi||t!==Di){var i=720/e,r=new E(e),s=new E(e);for(n=0;e>n;n++)r[n]=Li[0|n*i%720],s[n]=$i[0|n*i%720];var o=e*(t-1)+2,a=0;Bi=new E(o),Si=new E(o),ki=new E(o);var l=360/t,h=l;for(n=1;t>n;n++){for(var c=$i[0|h%720],u=-Li[0|h%720],d=0;e>d;d++)Bi[a]=r[d]*c,Si[a]=u,ki[a++]=s[d]*c;h+=l}xi=e,Di=t,Tr()}},fr.prototype.sphere=dr.prototype.a3DOnlyFunction,gr.prototype.sphere=function(){var e=arguments[0];(3>xi||2>Di)&&bt.sphereDetail(30);var t=new Dr;t.scale(e,e,e);var n=new Dr;if(n.scale(1,-1,1),n.apply(Ai.array()),n.transpose(),ln){if(bi>0){var i=new Dr;i.set(n);var r=new Dr;r.set(t),i.mult(r);var s=new Dr;s.set(i),s.invert(),s.transpose(),c("uNormalTransform3d",Mt,"uNormalTransform",!1,s.array()),u("aNormal3d",Mt,"aNormal",3,Ut)}else f("aNormal3d",Mt,"aNormal");Dt.useProgram(Mt),f("aTexture3d",Mt,"aTexture"),c("uModel3d",Mt,"uModel",!1,t.array()),c("uView3d",Mt,"uView",!1,n.array()),u("aVertex3d",Mt,"aVertex",3,Ut),f("aColor3d",Mt,"aColor"),Dt.enable(Dt.POLYGON_OFFSET_FILL),Dt.polygonOffset(1,1),l("uColor3d",Mt,"uColor",hn),Dt.drawArrays(Dt.TRIANGLE_STRIP,0,pi.length/3),Dt.disable(Dt.POLYGON_OFFSET_FILL)}mn>0&&dn&&(Dt.useProgram(Pt),c("uModel2d",Pt,"uModel",!1,t.array()),c("uView2d",Pt,"uView",!1,n.array()),u("aVertex2d",Pt,"aVertex",3,Ut),f("aTextureCoord2d",Pt,"aTextureCoord"),l("uColor2d",Pt,"uColor",fn),h("uIsDrawingText",Pt,"uIsDrawingText",!1),Dt.drawArrays(Dt.LINE_STRIP,0,pi.length/3))},bt.modelX=function(e,t,n){var i=Ai.array(),r=vi.array(),s=i[0]*e+i[1]*t+i[2]*n+i[3],o=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11],l=i[12]*e+i[13]*t+i[14]*n+i[15],h=r[0]*s+r[1]*o+r[2]*a+r[3]*l,c=r[12]*s+r[13]*o+r[14]*a+r[15]*l;return 0!==c?h/c:h},bt.modelY=function(e,t,n){var i=Ai.array(),r=vi.array(),s=i[0]*e+i[1]*t+i[2]*n+i[3],o=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11],l=i[12]*e+i[13]*t+i[14]*n+i[15],h=r[4]*s+r[5]*o+r[6]*a+r[7]*l,c=r[12]*s+r[13]*o+r[14]*a+r[15]*l;return 0!==c?h/c:h},bt.modelZ=function(e,t,n){var i=Ai.array(),r=vi.array(),s=i[0]*e+i[1]*t+i[2]*n+i[3],o=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11],l=i[12]*e+i[13]*t+i[14]*n+i[15],h=r[8]*s+r[9]*o+r[10]*a+r[11]*l,c=r[12]*s+r[13]*o+r[14]*a+r[15]*l;return 0!==c?h/c:h},fr.prototype.ambient=dr.prototype.a3DOnlyFunction,gr.prototype.ambient=function(e,t,n){Dt.useProgram(Mt),h("uUsingMat3d",Mt,"uUsingMat",!0);var i=bt.color(e,t,n);l("uMaterialAmbient3d",Mt,"uMaterialAmbient",bt.color.toGLArray(i).slice(0,3))},fr.prototype.emissive=dr.prototype.a3DOnlyFunction,gr.prototype.emissive=function(e,t,n){Dt.useProgram(Mt),h("uUsingMat3d",Mt,"uUsingMat",!0);var i=bt.color(e,t,n);l("uMaterialEmissive3d",Mt,"uMaterialEmissive",bt.color.toGLArray(i).slice(0,3))},fr.prototype.shininess=dr.prototype.a3DOnlyFunction,gr.prototype.shininess=function(e){Dt.useProgram(Mt),h("uUsingMat3d",Mt,"uUsingMat",!0),l("uShininess3d",Mt,"uShininess",e)},fr.prototype.specular=dr.prototype.a3DOnlyFunction,gr.prototype.specular=function(e,t,n){Dt.useProgram(Mt),h("uUsingMat3d",Mt,"uUsingMat",!0);var i=bt.color(e,t,n);l("uMaterialSpecular3d",Mt,"uMaterialSpecular",bt.color.toGLArray(i).slice(0,3))},bt.screenX=function(e,t,n){var i=Ai.array();if(16===i.length){var r=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],o=i[8]*e+i[9]*t+i[10]*n+i[11],a=i[12]*e+i[13]*t+i[14]*n+i[15],l=yi.array(),h=l[0]*r+l[1]*s+l[2]*o+l[3]*a,c=l[12]*r+l[13]*s+l[14]*o+l[15]*a;return 0!==c&&(h/=c),bt.width*(1+h)/2}return Ai.multX(e,t)},bt.screenY=function(e,t,n){var i=Ai.array();if(16===i.length){var r=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],o=i[8]*e+i[9]*t+i[10]*n+i[11],a=i[12]*e+i[13]*t+i[14]*n+i[15],l=yi.array(),h=l[4]*r+l[5]*s+l[6]*o+l[7]*a,c=l[12]*r+l[13]*s+l[14]*o+l[15]*a;return 0!==c&&(h/=c),bt.height*(1+h)/2}return Ai.multY(e,t)},bt.screenZ=function(e,t,n){var i=Ai.array();if(16!==i.length)return 0;var r=yi.array(),s=i[0]*e+i[1]*t+i[2]*n+i[3],o=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11],l=i[12]*e+i[13]*t+i[14]*n+i[15],h=r[8]*s+r[9]*o+r[10]*a+r[11]*l,c=r[12]*s+r[13]*o+r[14]*a+r[15]*l;return 0!==c&&(h/=c),(h+1)/2},dr.prototype.fill=function(){var e=bt.color(arguments[0],arguments[1],arguments[2],arguments[3]);e===cn&&ln||(ln=!0,cn=e)},fr.prototype.fill=function(){dr.prototype.fill.apply(this,arguments),un=!0},gr.prototype.fill=function(){dr.prototype.fill.apply(this,arguments),hn=bt.color.toGLArray(cn)},bt.noFill=function(){ln=!1},dr.prototype.stroke=function(){var e=bt.color(arguments[0],arguments[1],arguments[2],arguments[3]);e===gn&&dn||(dn=!0,gn=e)},fr.prototype.stroke=function(){dr.prototype.stroke.apply(this,arguments),pn=!0},gr.prototype.stroke=function(){dr.prototype.stroke.apply(this,arguments),fn=bt.color.toGLArray(gn)},bt.noStroke=function(){dn=!1},dr.prototype.strokeWeight=function(e){mn=e},fr.prototype.strokeWeight=function(e){dr.prototype.strokeWeight.apply(this,arguments),Dt.lineWidth=e},gr.prototype.strokeWeight=function(e){dr.prototype.strokeWeight.apply(this,arguments),Dt.useProgram(Pt),l("pointSize2d",Pt,"uPointSize",e),Dt.useProgram(It),l("pointSizeUnlitShape",It,"uPointSize",e),Dt.lineWidth(e)},bt.strokeCap=function(e){Bt.$ensureContext().lineCap=e},bt.strokeJoin=function(e){Bt.$ensureContext().lineJoin=e},fr.prototype.smooth=function(){An=!0;var e=wt.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),Dt.hasOwnProperty("mozImageSmoothingEnabled")&&(Dt.mozImageSmoothingEnabled=!0)},gr.prototype.smooth=function(){An=!0},fr.prototype.noSmooth=function(){An=!1;var e=wt.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),Dt.hasOwnProperty("mozImageSmoothingEnabled")&&(Dt.mozImageSmoothingEnabled=!1)},gr.prototype.noSmooth=function(){An=!1},fr.prototype.point=function(e,t){dn&&(e=n.round(e),t=n.round(t),Dt.fillStyle=bt.color.toString(gn),un=!0,mn>1?(Dt.beginPath(),Dt.arc(e,t,mn/2,0,6.283185307179586,!1),Dt.fill()):Dt.fillRect(e,t,1,1))},gr.prototype.point=function(e,t,n){var i=new Dr;
i.translate(e,t,n||0),i.transpose();var r=new Dr;r.scale(1,-1,1),r.apply(Ai.array()),r.transpose(),Dt.useProgram(Pt),c("uModel2d",Pt,"uModel",!1,i.array()),c("uView2d",Pt,"uView",!1,r.array()),mn>0&&dn&&(l("uColor2d",Pt,"uColor",fn),h("uIsDrawingText2d",Pt,"uIsDrawingText",!1),h("uSmooth2d",Pt,"uSmooth",An),u("aVertex2d",Pt,"aVertex",3,Kt),f("aTextureCoord2d",Pt,"aTextureCoord"),Dt.drawArrays(Dt.POINTS,0,1))},bt.beginShape=function(e){Ln=e,Tn=[],zi=[]},fr.prototype.vertex=function(e,t,n){var i=[];ji&&(ji=!1),i.isVert=!0,i[0]=e,i[1]=t,i[2]=0,i[3]=0,i[4]=0,i[5]=cn,i[6]=gn,zi.push(i),n&&(zi[zi.length-1].moveTo=n)},gr.prototype.vertex=function(e,t,n,r,s){var o=[];ji&&(ji=!1),o.isVert=!0,s===i&&Qn&&(s=r,r=n,n=0),r!==i&&s!==i&&(2===Jn&&(r/=qn.width,s/=qn.height),r=r>1?1:r,r=0>r?0:r,s=s>1?1:s,s=0>s?0:s),o[0]=e,o[1]=t,o[2]=n||0,o[3]=r||0,o[4]=s||0,o[5]=hn[0],o[6]=hn[1],o[7]=hn[2],o[8]=hn[3],o[9]=fn[0],o[10]=fn[1],o[11]=fn[2],o[12]=fn[3],o[13]=yn,o[14]=bn,o[15]=Dn,zi.push(o)};var _r=function(e,t){var n=new Dr;n.scale(1,-1,1),n.apply(Ai.array()),n.transpose(),Dt.useProgram(It),c("uViewUS",It,"uView",!1,n.array()),h("uSmoothUS",It,"uSmooth",An),u("aVertexUS",It,"aVertex",3,Kt),Dt.bufferData(Dt.ARRAY_BUFFER,new E(e),Dt.STREAM_DRAW),u("aColorUS",It,"aColor",4,jt),Dt.bufferData(Dt.ARRAY_BUFFER,new E(t),Dt.STREAM_DRAW),Dt.drawArrays(Dt.POINTS,0,e.length/3)},Rr=function(e,t,n){var i;i="LINES"===t?Dt.LINES:"LINE_LOOP"===t?Dt.LINE_LOOP:Dt.LINE_STRIP;var r=new Dr;r.scale(1,-1,1),r.apply(Ai.array()),r.transpose(),Dt.useProgram(It),c("uViewUS",It,"uView",!1,r.array()),u("aVertexUS",It,"aVertex",3,Vt),Dt.bufferData(Dt.ARRAY_BUFFER,new E(e),Dt.STREAM_DRAW),u("aColorUS",It,"aColor",4,Yt),Dt.bufferData(Dt.ARRAY_BUFFER,new E(n),Dt.STREAM_DRAW),Dt.drawArrays(i,0,e.length/3)},Mr=function(e,t,n,i){var r;r="TRIANGLES"===t?Dt.TRIANGLES:"TRIANGLE_FAN"===t?Dt.TRIANGLE_FAN:Dt.TRIANGLE_STRIP;var s=new Dr;s.scale(1,-1,1),s.apply(Ai.array()),s.transpose(),Dt.useProgram(Mt),c("model3d",Mt,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c("view3d",Mt,"uView",!1,s.array()),Dt.enable(Dt.POLYGON_OFFSET_FILL),Dt.polygonOffset(1,1),l("color3d",Mt,"uColor",[-1,0,0,0]),u("vertex3d",Mt,"aVertex",3,Gt),Dt.bufferData(Dt.ARRAY_BUFFER,new E(e),Dt.STREAM_DRAW),Qn&&null!==Gn&&jn(n),u("aColor3d",Mt,"aColor",4,jt),Dt.bufferData(Dt.ARRAY_BUFFER,new E(n),Dt.STREAM_DRAW),f("aNormal3d",Mt,"aNormal"),Qn&&(h("uUsingTexture3d",Mt,"uUsingTexture",Qn),u("aTexture3d",Mt,"aTexture",2,Xt),Dt.bufferData(Dt.ARRAY_BUFFER,new E(i),Dt.STREAM_DRAW)),Dt.drawArrays(r,0,e.length/3),Dt.disable(Dt.POLYGON_OFFSET_FILL)};fr.prototype.endShape=function(e){if(0!==zi.length){var t=2===e;t&&zi.push(zi[0]);var n,r=[],s=[],o=[],a=[];ji=!0;var l,h,c=zi.length;for(l=0;c>l;l++)for(n=zi[l],h=0;3>h;h++)r.push(n[h]);for(l=0;c>l;l++)for(n=zi[l],h=5;9>h;h++)s.push(n[h]);for(l=0;c>l;l++)for(n=zi[l],h=9;13>h;h++)o.push(n[h]);for(l=0;c>l;l++)n=zi[l],a.push(n[3]),a.push(n[4]);if(!Vi||20!==Ln&&Ln!==i)if(!Gi||20!==Ln&&Ln!==i)if(2===Ln)for(l=0;c>l;l++)n=zi[l],dn&&bt.stroke(n[6]),bt.point(n[0],n[1]);else if(4===Ln)for(l=0;c>l+1;l+=2)n=zi[l],dn&&bt.stroke(zi[l+1][6]),bt.line(n[0],n[1],zi[l+1][0],zi[l+1][1]);else if(9===Ln)for(l=0;c>l+2;l+=3)n=zi[l],Dt.beginPath(),Dt.moveTo(n[0],n[1]),Dt.lineTo(zi[l+1][0],zi[l+1][1]),Dt.lineTo(zi[l+2][0],zi[l+2][1]),Dt.lineTo(n[0],n[1]),ln&&(bt.fill(zi[l+2][5]),G()),dn&&(bt.stroke(zi[l+2][6]),j()),Dt.closePath();else if(10===Ln)for(l=0;c>l+1;l++)n=zi[l],Dt.beginPath(),Dt.moveTo(zi[l+1][0],zi[l+1][1]),Dt.lineTo(n[0],n[1]),dn&&bt.stroke(zi[l+1][6]),ln&&bt.fill(zi[l+1][5]),c>l+2&&(Dt.lineTo(zi[l+2][0],zi[l+2][1]),dn&&bt.stroke(zi[l+2][6]),ln&&bt.fill(zi[l+2][5])),Y();else if(11===Ln){if(c>2)for(Dt.beginPath(),Dt.moveTo(zi[0][0],zi[0][1]),Dt.lineTo(zi[1][0],zi[1][1]),Dt.lineTo(zi[2][0],zi[2][1]),ln&&(bt.fill(zi[2][5]),G()),dn&&(bt.stroke(zi[2][6]),j()),Dt.closePath(),l=3;c>l;l++)n=zi[l],Dt.beginPath(),Dt.moveTo(zi[0][0],zi[0][1]),Dt.lineTo(zi[l-1][0],zi[l-1][1]),Dt.lineTo(n[0],n[1]),ln&&(bt.fill(n[5]),G()),dn&&(bt.stroke(n[6]),j()),Dt.closePath()}else if(16===Ln)for(l=0;c>l+3;l+=4){for(n=zi[l],Dt.beginPath(),Dt.moveTo(n[0],n[1]),h=1;4>h;h++)Dt.lineTo(zi[l+h][0],zi[l+h][1]);Dt.lineTo(n[0],n[1]),ln&&(bt.fill(zi[l+3][5]),G()),dn&&(bt.stroke(zi[l+3][6]),j()),Dt.closePath()}else if(17===Ln){if(c>3)for(l=0;c>l+1;l+=2)n=zi[l],Dt.beginPath(),c>l+3?(Dt.moveTo(zi[l+2][0],zi[l+2][1]),Dt.lineTo(n[0],n[1]),Dt.lineTo(zi[l+1][0],zi[l+1][1]),Dt.lineTo(zi[l+3][0],zi[l+3][1]),ln&&bt.fill(zi[l+3][5]),dn&&bt.stroke(zi[l+3][6])):(Dt.moveTo(n[0],n[1]),Dt.lineTo(zi[l+1][0],zi[l+1][1])),Y()}else{for(Dt.beginPath(),Dt.moveTo(zi[0][0],zi[0][1]),l=1;c>l;l++)n=zi[l],n.isVert&&(n.moveTo?Dt.moveTo(n[0],n[1]):Dt.lineTo(n[0],n[1]));Y()}else{for(Dt.beginPath(),l=0;c>l;l++)n=zi[l],zi[l].isVert?zi[l].moveTo?Dt.moveTo(n[0],n[1]):Dt.lineTo(n[0],n[1]):Dt.bezierCurveTo(zi[l][0],zi[l][1],zi[l][2],zi[l][3],zi[l][4],zi[l][5]);Y()}else if(c>3){var u=[],d=1-_n;for(Dt.beginPath(),Dt.moveTo(zi[1][0],zi[1][1]),l=1;c>l+2;l++)n=zi[l],u[0]=[n[0],n[1]],u[1]=[n[0]+(d*zi[l+1][0]-d*zi[l-1][0])/6,n[1]+(d*zi[l+1][1]-d*zi[l-1][1])/6],u[2]=[zi[l+1][0]+(d*zi[l][0]-d*zi[l+2][0])/6,zi[l+1][1]+(d*zi[l][1]-d*zi[l+2][1])/6],u[3]=[zi[l+1][0],zi[l+1][1]],Dt.bezierCurveTo(u[1][0],u[1][1],u[2][0],u[2][1],u[3][0],u[3][1]);Y()}Vi=!1,Gi=!1,Wi=[],Ui=0,t&&zi.pop()}},gr.prototype.endShape=function(e){if(0!==zi.length){var t,n=2===e,r=[],s=[],o=[],a=[],l=[];ji=!0;var c,u,d,f=zi.length;for(c=0;f>c;c++)for(t=zi[c],u=0;3>u;u++)s.push(t[u]);for(c=0;f>c;c++)for(t=zi[c],u=5;9>u;u++)o.push(t[u]);for(c=0;f>c;c++)for(t=zi[c],u=9;13>u;u++)a.push(t[u]);for(c=0;f>c;c++)t=zi[c],l.push(t[3]),l.push(t[4]);if(n){for(s.push(zi[0][0]),s.push(zi[0][1]),s.push(zi[0][2]),c=5;9>c;c++)o.push(zi[0][c]);for(c=9;13>c;c++)a.push(zi[0][c]);l.push(zi[0][3]),l.push(zi[0][4])}if(!Vi||20!==Ln&&Ln!==i)if(!Gi||20!==Ln&&Ln!==i){if(2===Ln){for(c=0;f>c;c++)for(t=zi[c],u=0;3>u;u++)r.push(t[u]);_r(r,a)}else if(4===Ln){for(c=0;f>c;c++)for(t=zi[c],u=0;3>u;u++)r.push(t[u]);for(c=0;f>c;c++)for(t=zi[c],u=5;9>u;u++)o.push(t[u]);Rr(r,"LINES",a)}else if(9===Ln){if(f>2)for(c=0;f>c+2;c+=3){for(s=[],l=[],r=[],o=[],a=[],u=0;3>u;u++)for(d=0;3>d;d++)r.push(zi[c+u][d]),s.push(zi[c+u][d]);for(u=0;3>u;u++)for(d=3;5>d;d++)l.push(zi[c+u][d]);for(u=0;3>u;u++)for(d=5;9>d;d++)o.push(zi[c+u][d]),a.push(zi[c+u][d+4]);dn&&Rr(r,"LINE_LOOP",a),(ln||Qn)&&Mr(s,"TRIANGLES",o,l)}}else if(10===Ln){if(f>2)for(c=0;f>c+2;c++){for(r=[],s=[],a=[],o=[],l=[],u=0;3>u;u++)for(d=0;3>d;d++)r.push(zi[c+u][d]),s.push(zi[c+u][d]);for(u=0;3>u;u++)for(d=3;5>d;d++)l.push(zi[c+u][d]);for(u=0;3>u;u++)for(d=5;9>d;d++)a.push(zi[c+u][d+4]),o.push(zi[c+u][d]);(ln||Qn)&&Mr(s,"TRIANGLE_STRIP",o,l),dn&&Rr(r,"LINE_LOOP",a)}}else if(11===Ln){if(f>2){for(c=0;3>c;c++)for(t=zi[c],u=0;3>u;u++)r.push(t[u]);for(c=0;3>c;c++)for(t=zi[c],u=9;13>u;u++)a.push(t[u]);for(dn&&Rr(r,"LINE_LOOP",a),c=2;f>c+1;c++){for(r=[],a=[],r.push(zi[0][0]),r.push(zi[0][1]),r.push(zi[0][2]),a.push(zi[0][9]),a.push(zi[0][10]),a.push(zi[0][11]),a.push(zi[0][12]),u=0;2>u;u++)for(d=0;3>d;d++)r.push(zi[c+u][d]);for(u=0;2>u;u++)for(d=9;13>d;d++)a.push(zi[c+u][d]);dn&&Rr(r,"LINE_STRIP",a)}(ln||Qn)&&Mr(s,"TRIANGLE_FAN",o,l)}}else if(16===Ln)for(c=0;f>c+3;c+=4){for(r=[],u=0;4>u;u++)for(t=zi[c+u],d=0;3>d;d++)r.push(t[d]);if(dn&&Rr(r,"LINE_LOOP",a),ln){for(s=[],o=[],l=[],u=0;3>u;u++)s.push(zi[c][u]);for(u=5;9>u;u++)o.push(zi[c][u]);for(u=0;3>u;u++)s.push(zi[c+1][u]);for(u=5;9>u;u++)o.push(zi[c+1][u]);for(u=0;3>u;u++)s.push(zi[c+3][u]);for(u=5;9>u;u++)o.push(zi[c+3][u]);for(u=0;3>u;u++)s.push(zi[c+2][u]);for(u=5;9>u;u++)o.push(zi[c+2][u]);Qn&&(l.push(zi[c+0][3]),l.push(zi[c+0][4]),l.push(zi[c+1][3]),l.push(zi[c+1][4]),l.push(zi[c+3][3]),l.push(zi[c+3][4]),l.push(zi[c+2][3]),l.push(zi[c+2][4])),Mr(s,"TRIANGLE_STRIP",o,l)}}else if(17===Ln){var g=[];if(f>3){for(c=0;2>c;c++)for(t=zi[c],u=0;3>u;u++)r.push(t[u]);for(c=0;2>c;c++)for(t=zi[c],u=9;13>u;u++)a.push(t[u]);for(Rr(r,"LINE_STRIP",a),f>4&&f%2>0&&(g=s.splice(s.length-3),zi.pop()),c=0;f>c+3;c+=2){for(r=[],a=[],u=0;3>u;u++)r.push(zi[c+1][u]);for(u=0;3>u;u++)r.push(zi[c+3][u]);for(u=0;3>u;u++)r.push(zi[c+2][u]);for(u=0;3>u;u++)r.push(zi[c+0][u]);for(u=9;13>u;u++)a.push(zi[c+1][u]);for(u=9;13>u;u++)a.push(zi[c+3][u]);for(u=9;13>u;u++)a.push(zi[c+2][u]);for(u=9;13>u;u++)a.push(zi[c+0][u]);dn&&Rr(r,"LINE_STRIP",a)}(ln||Qn)&&Mr(s,"TRIANGLE_LIST",o,l)}}else if(1===f){for(u=0;3>u;u++)r.push(zi[0][u]);for(u=9;13>u;u++)a.push(zi[0][u]);_r(r,a)}else{for(c=0;f>c;c++){for(t=zi[c],u=0;3>u;u++)r.push(t[u]);for(u=5;9>u;u++)a.push(t[u])}dn&&n?Rr(r,"LINE_LOOP",a):dn&&!n&&Rr(r,"LINE_STRIP",a),(ln||Qn)&&Mr(s,"TRIANGLE_FAN",o,l)}Qn=!1,Dt.useProgram(Mt),h("usingTexture3d",Mt,"uUsingTexture",Qn)}else r=s,r.splice(r.length-3),a.splice(a.length-4),dn&&Rr(r,null,a),ln&&Mr(s,"TRIANGLES",o);else r=s,dn&&Rr(r,null,a),ln&&Mr(s,null,o);Vi=!1,Gi=!1,Wi=[],Ui=0}};var Pr=function(e,t){var n=1/e,i=n*n,r=i*n;t.set(0,0,0,1,r,i,n,0,6*r,2*i,0,0,6*r,0,0,0)},Ir=function(){Lt||(kt=new Dr,Lt=new Dr,Mn=!0);var e=_n;kt.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),Pr(Rn,Lt),_t||($t=new Dr),$t.set(kt),$t.preApply(_t),Lt.apply(kt)};fr.prototype.bezierVertex=function(){Gi=!0;var e=[];if(ji)throw"vertex() must be used at least once before calling bezierVertex()";for(var t=0;arguments.length>t;t++)e[t]=arguments[t];zi.push(e),zi[zi.length-1].isVert=!1},gr.prototype.bezierVertex=function(){if(Gi=!0,ji)throw"vertex() must be used at least once before calling bezierVertex()";if(9===arguments.length){Tt===i&&(Tt=new Dr);var e=zi.length-1;Pr(In,Tt),Tt.apply(Rt);for(var t=Tt.array(),n=zi[e][0],r=zi[e][1],s=zi[e][2],o=t[4]*n+t[5]*arguments[0]+t[6]*arguments[3]+t[7]*arguments[6],a=t[8]*n+t[9]*arguments[0]+t[10]*arguments[3]+t[11]*arguments[6],l=t[12]*n+t[13]*arguments[0]+t[14]*arguments[3]+t[15]*arguments[6],h=t[4]*r+t[5]*arguments[1]+t[6]*arguments[4]+t[7]*arguments[7],c=t[8]*r+t[9]*arguments[1]+t[10]*arguments[4]+t[11]*arguments[7],u=t[12]*r+t[13]*arguments[1]+t[14]*arguments[4]+t[15]*arguments[7],d=t[4]*s+t[5]*arguments[2]+t[6]*arguments[5]+t[7]*arguments[8],f=t[8]*s+t[9]*arguments[2]+t[10]*arguments[5]+t[11]*arguments[8],g=t[12]*s+t[13]*arguments[2]+t[14]*arguments[5]+t[15]*arguments[8],p=0;In>p;p++)n+=o,o+=a,a+=l,r+=h,h+=c,c+=u,s+=d,d+=f,f+=g,bt.vertex(n,r,s);bt.vertex(arguments[6],arguments[7],arguments[8])}},bt.texture=function(e){var n=Bt.$ensureContext();if(e.__texture)n.bindTexture(n.TEXTURE_2D,e.__texture);else if("canvas"===e.localName)n.bindTexture(n.TEXTURE_2D,Zt),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D),qn.width=e.width,qn.height=e.height;else{var i,r=n.createTexture(),s=t.createElement("canvas"),o=s.getContext("2d");if(e.width&0===e.width-1)s.width=e.width;else{for(i=1;e.width>i;)i*=2;s.width=i}if(e.height&0===e.height-1)s.height=e.height;else{for(i=1;e.height>i;)i*=2;s.height=i}o.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,s.width,s.height),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),n.generateMipmap(n.TEXTURE_2D),e.__texture=r,qn.width=e.width,qn.height=e.height}Qn=!0,n.useProgram(Mt),h("usingTexture3d",Mt,"uUsingTexture",Qn)},bt.textureMode=function(e){Jn=e};var Or=function(e,t,n,i,r,s,o,a,l,h,c,u){var d=i,f=r,g=s,p=Lt.array(),m=p[4]*e+p[5]*i+p[6]*o+p[7]*h,v=p[8]*e+p[9]*i+p[10]*o+p[11]*h,A=p[12]*e+p[13]*i+p[14]*o+p[15]*h,C=p[4]*t+p[5]*r+p[6]*a+p[7]*c,E=p[8]*t+p[9]*r+p[10]*a+p[11]*c,F=p[12]*t+p[13]*r+p[14]*a+p[15]*c,w=p[4]*n+p[5]*s+p[6]*l+p[7]*u,y=p[8]*n+p[9]*s+p[10]*l+p[11]*u,b=p[12]*n+p[13]*s+p[14]*l+p[15]*u;bt.vertex(d,f,g);for(var D=0;Rn>D;D++)d+=m,m+=v,v+=A,f+=C,C+=E,E+=F,g+=w,w+=y,y+=b,bt.vertex(d,f,g)};fr.prototype.curveVertex=function(e,t){Vi=!0,bt.vertex(e,t)},gr.prototype.curveVertex=function(e,t,n){Vi=!0,Mn||Ir();var i=[];i[0]=e,i[1]=t,i[2]=n,Wi.push(i),Ui++,Ui>3&&Or(Wi[Ui-4][0],Wi[Ui-4][1],Wi[Ui-4][2],Wi[Ui-3][0],Wi[Ui-3][1],Wi[Ui-3][2],Wi[Ui-2][0],Wi[Ui-2][1],Wi[Ui-2][2],Wi[Ui-1][0],Wi[Ui-1][1],Wi[Ui-1][2])},fr.prototype.curve=function(e,t,n,i,r,s,o,a){bt.beginShape(),bt.curveVertex(e,t),bt.curveVertex(n,i),bt.curveVertex(r,s),bt.curveVertex(o,a),bt.endShape()},gr.prototype.curve=function(e,t,n,r,s,o,a,l,h,c,u,d){return d!==i?(bt.beginShape(),bt.curveVertex(e,t,n),bt.curveVertex(r,s,o),bt.curveVertex(a,l,h),bt.curveVertex(c,u,d),bt.endShape(),void 0):(bt.beginShape(),bt.curveVertex(e,t),bt.curveVertex(n,r),bt.curveVertex(s,o),bt.curveVertex(a,l),bt.endShape(),void 0)},bt.curveTightness=function(e){_n=e},bt.curveDetail=function(e){Rn=e,Ir()},bt.rectMode=function(e){Fn=e},bt.imageMode=function(e){switch(e){case 0:hr=lr;break;case 1:hr=cr;break;case 3:hr=ur;break;default:throw"Invalid imageMode"}},bt.ellipseMode=function(e){wn=e},bt.arc=function(e,t,n,i,r,s){if(!(0>=n||r>s)){for(1===wn?(n-=e,i-=t):2===wn?(e-=n,t-=i,n=2*n,i=2*i):3===wn&&(e-=n/2,t-=i/2);0>r;)r+=6.283185307179586,s+=6.283185307179586;s-r>6.283185307179586&&(r=0,s=6.283185307179586);var o,a,l=n/2,h=i/2,c=e+l,u=t+h,d=0|.5+2*r*bt.RAD_TO_DEG,f=0|.5+2*s*bt.RAD_TO_DEG;if(ln){var g=dn;for(dn=!1,bt.beginShape(),bt.vertex(c,u),o=d;f>=o;o++)a=o%720,bt.vertex(c+Li[a]*l,u+$i[a]*h);bt.endShape(2),dn=g}if(dn){var p=ln;for(ln=!1,bt.beginShape(),o=d;f>=o;o++)a=o%720,bt.vertex(c+Li[a]*l,u+$i[a]*h);bt.endShape(),ln=p}}},fr.prototype.line=function(e,t,r,s){if(dn){if(e=n.round(e),r=n.round(r),t=n.round(t),s=n.round(s),e===r&&t===s)return bt.point(e,t),void 0;for(var o=i,a=i,l=!0,h=Ai.array(),c=[1,0,0,0,1,0],u=0;6>u&&l;u++)l=h[u]===c[u];l&&(e===r?(t>s&&(o=t,t=s,s=o),s++,1===mn%2&&Dt.translate(.5,0)):t===s&&(e>r&&(o=e,e=r,r=o),r++,1===mn%2&&Dt.translate(0,.5)),1===mn&&(a=Dt.lineCap,Dt.lineCap="butt")),Dt.beginPath(),Dt.moveTo(e||0,t||0),Dt.lineTo(r||0,s||0),j(),l&&(e===r&&1===mn%2?Dt.translate(-.5,0):t===s&&1===mn%2&&Dt.translate(0,-.5),1===mn&&(Dt.lineCap=a))}},gr.prototype.line=function(e,t,n,r,s,o){if((s===i||o===i)&&(o=0,s=r,r=n,n=0),e===r&&t===s&&n===o)return bt.point(e,t,n),void 0;var a=[e,t,n,r,s,o],d=new Dr;d.scale(1,-1,1),d.apply(Ai.array()),d.transpose(),mn>0&&dn&&(Dt.useProgram(Pt),c("uModel2d",Pt,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c("uView2d",Pt,"uView",!1,d.array()),l("uColor2d",Pt,"uColor",fn),h("uIsDrawingText",Pt,"uIsDrawingText",!1),u("aVertex2d",Pt,"aVertex",3,Vt),f("aTextureCoord2d",Pt,"aTextureCoord"),Dt.bufferData(Dt.ARRAY_BUFFER,new E(a),Dt.STREAM_DRAW),Dt.drawArrays(Dt.LINES,0,2))},fr.prototype.bezier=function(){if(8!==arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";bt.beginShape(),bt.vertex(arguments[0],arguments[1]),bt.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),bt.endShape()},gr.prototype.bezier=function(){if(12!==arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";bt.beginShape(),bt.vertex(arguments[0],arguments[1],arguments[2]),bt.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),bt.endShape()},bt.bezierDetail=function(e){In=e},bt.bezierPoint=function(e,t,n,i,r){return(1-r)*(1-r)*(1-r)*e+3*(1-r)*(1-r)*r*t+3*(1-r)*r*r*n+r*r*r*i},bt.bezierTangent=function(e,t,n,i,r){return 3*r*r*(-e+3*t-3*n+i)+6*r*(e-2*t+n)+3*(-e+t)},bt.curvePoint=function(e,t,n,i,r){return.5*(2*t+(-e+n)*r+(2*e-5*t+4*n-i)*r*r+(-e+3*t-3*n+i)*r*r*r)},bt.curveTangent=function(e,t,n,i,r){return.5*(-e+n+2*(2*e-5*t+4*n-i)*r+3*(-e+3*t-3*n+i)*r*r)},bt.triangle=function(e,t,n,i,r,s){bt.beginShape(9),bt.vertex(e,t,0),bt.vertex(n,i,0),bt.vertex(r,s,0),bt.endShape()},bt.quad=function(e,t,n,i,r,s,o,a){bt.beginShape(16),bt.vertex(e,t,0),bt.vertex(n,i,0),bt.vertex(r,s,0),bt.vertex(o,a,0),bt.endShape()};var Nr=function(e,t,r,s,o,a,l,h){h===i&&(a=o,l=o,h=o);var c=r/2,u=s/2;(o>c||o>u)&&(o=n.min(c,u)),(a>c||a>u)&&(a=n.min(c,u)),(l>c||l>u)&&(l=n.min(c,u)),(h>c||h>u)&&(h=n.min(c,u)),(!ln||dn)&&Dt.translate(.5,.5),Dt.beginPath(),Dt.moveTo(e+o,t),Dt.lineTo(e+r-a,t),Dt.quadraticCurveTo(e+r,t,e+r,t+a),Dt.lineTo(e+r,t+s-l),Dt.quadraticCurveTo(e+r,t+s,e+r-l,t+s),Dt.lineTo(e+h,t+s),Dt.quadraticCurveTo(e,t+s,e,t+s-h),Dt.lineTo(e,t+o),Dt.quadraticCurveTo(e,t,e+o,t),(!ln||dn)&&Dt.translate(-.5,-.5),G(),j()};fr.prototype.rect=function(e,t,r,s,o,a,l,h){if(r||s){if(1===Fn?(r-=e,s-=t):2===Fn?(r*=2,s*=2,e-=r/2,t-=s/2):3===Fn&&(e-=r/2,t-=s/2),e=n.round(e),t=n.round(t),r=n.round(r),s=n.round(s),o!==i)return Nr(e,t,r,s,o,a,l,h),void 0;dn&&1===mn%2&&Dt.translate(.5,.5),Dt.beginPath(),Dt.rect(e,t,r,s),G(),j(),dn&&1===mn%2&&Dt.translate(-.5,-.5)}},gr.prototype.rect=function(e,t,n,r,s){if(s!==i)throw"rect() with rounded corners is not supported in 3D mode";1===Fn?(n-=e,r-=t):2===Fn?(n*=2,r*=2,e-=n/2,t-=r/2):3===Fn&&(e-=n/2,t-=r/2);var o=new Dr;o.translate(e,t,0),o.scale(n,r,1),o.transpose();var a=new Dr;if(a.scale(1,-1,1),a.apply(Ai.array()),a.transpose(),mn>0&&dn&&(Dt.useProgram(Pt),c("uModel2d",Pt,"uModel",!1,o.array()),c("uView2d",Pt,"uView",!1,a.array()),l("uColor2d",Pt,"uColor",fn),h("uIsDrawingText2d",Pt,"uIsDrawingText",!1),u("aVertex2d",Pt,"aVertex",3,zt),f("aTextureCoord2d",Pt,"aTextureCoord"),Dt.drawArrays(Dt.LINE_LOOP,0,Ji.length/3)),ln){if(Dt.useProgram(Mt),c("uModel3d",Mt,"uModel",!1,o.array()),c("uView3d",Mt,"uView",!1,a.array()),Dt.enable(Dt.POLYGON_OFFSET_FILL),Dt.polygonOffset(1,1),l("color3d",Mt,"uColor",hn),bi>0){var d=new Dr;d.set(a);var g=new Dr;g.set(o),d.mult(g);var p=new Dr;p.set(d),p.invert(),p.transpose(),c("uNormalTransform3d",Mt,"uNormalTransform",!1,p.array()),u("aNormal3d",Mt,"aNormal",3,Wt)}else f("normal3d",Mt,"aNormal");u("vertex3d",Mt,"aVertex",3,zt),Dt.drawArrays(Dt.TRIANGLE_FAN,0,Ji.length/3),Dt.disable(Dt.POLYGON_OFFSET_FILL)}},fr.prototype.ellipse=function(e,t,n,i){if(e=e||0,t=t||0,!(0>=n&&0>=i))if(2===wn?(n*=2,i*=2):1===wn?(n-=e,i-=t,e+=n/2,t+=i/2):0===wn&&(e+=n/2,t+=i/2),n===i)Dt.beginPath(),Dt.arc(e,t,n/2,0,6.283185307179586,!1),G(),j();else{var r=n/2,s=i/2,o=.5522847498307933,a=o*r,l=o*s;bt.beginShape(),bt.vertex(e+r,t),bt.bezierVertex(e+r,t-l,e+a,t-s,e,t-s),bt.bezierVertex(e-a,t-s,e-r,t-l,e-r,t),bt.bezierVertex(e-r,t+l,e-a,t+s,e,t+s),bt.bezierVertex(e+a,t+s,e+r,t+l,e+r,t),bt.endShape()}},gr.prototype.ellipse=function(e,t,n,i){if(e=e||0,t=t||0,!(0>=n&&0>=i)){2===wn?(n*=2,i*=2):1===wn?(n-=e,i-=t,e+=n/2,t+=i/2):0===wn&&(e+=n/2,t+=i/2);var r=n/2,s=i/2,o=.5522847498307933,a=o*r,l=o*s;if(bt.beginShape(),bt.vertex(e+r,t),bt.bezierVertex(e+r,t-l,0,e+a,t-s,0,e,t-s,0),bt.bezierVertex(e-a,t-s,0,e-r,t-l,0,e-r,t,0),bt.bezierVertex(e-r,t+l,0,e-a,t+s,0,e,t+s,0),bt.bezierVertex(e+a,t+s,0,e+r,t+l,0,e+r,t,0),bt.endShape(),ln){var h,c,u=0,d=0;for(h=0;zi.length>h;h++)u+=zi[h][0],d+=zi[h][1];u/=zi.length,d/=zi.length;var f=[],g=[],p=[];for(f[0]=u,f[1]=d,f[2]=0,f[3]=0,f[4]=0,f[5]=hn[0],f[6]=hn[1],f[7]=hn[2],f[8]=hn[3],f[9]=fn[0],f[10]=fn[1],f[11]=fn[2],f[12]=fn[3],f[13]=yn,f[14]=bn,f[15]=Dn,zi.unshift(f),h=0;zi.length>h;h++){for(c=0;3>c;c++)g.push(zi[h][c]);for(c=5;9>c;c++)p.push(zi[h][c])}Mr(g,"TRIANGLE_FAN",p)}}},bt.normal=function(e,t,n){if(3!==arguments.length||"number"!=typeof e||"number"!=typeof t||"number"!=typeof n)throw"normal() requires three numeric arguments.";yn=e,bn=t,Dn=n,0!==Ln&&(0===xn?xn=1:1===xn&&(xn=2))},bt.save=function(t,n){return n!==i?e.open(n.toDataURL(),"_blank"):e.open(bt.externals.canvas.toDataURL(),"_blank")};var Hr=0;bt.saveFrame=function(e){e===i&&(e="screen-####.png");var t=e.replace(/#+/,function(e){for(var t=""+Hr++;t.length<e.length;)t="0"+t;return t});bt.save(t)};var zr=t.createElement("canvas").getContext("2d"),Wr=[i,i,i],Ur=function(e,n,i){if(this.__isDirty=!1,e instanceof HTMLImageElement)this.fromHTMLImageData(e);else if(n||i){this.width=e||1,this.height=n||1;var r=this.sourceImg=t.createElement("canvas");if(r.width=this.width,r.height=this.height,this.imageData=r.getContext("2d").createImageData(this.width,this.height),this.format=2===i||4===i?i:1,1===this.format)for(var s=3,o=this.imageData.data,a=o.length;a>s;s+=4)o[s]=255;this.__isDirty=!0,this.updatePixels()}else this.width=0,this.height=0,this.imageData=zr.createImageData(1,1),this.format=2;this.pixels=X(this)};Ur.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof HTMLCanvasElement&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var t=K(e);try{var n=t.context.getImageData(0,0,e.width,e.height);this.fromImageData(n)}catch(i){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,t,n,i){return arguments.length?2===arguments.length?bt.get(e,t,this):4===arguments.length?bt.get(e,t,n,i,this):void 0:bt.get(this)},set:function(e,t,n){bt.set(e,t,n,this),this.__isDirty=!0},blend:function(e,t,n,i,r,s,o,a,l,h){9===arguments.length?bt.blend(this,e,t,n,i,r,s,o,a,l,this):10===arguments.length&&bt.blend(e,t,n,i,r,s,o,a,l,h,this),delete this.sourceImg},copy:function(e,t,n,i,r,s,o,a,l){8===arguments.length?bt.blend(this,e,t,n,i,r,s,o,a,0,this):9===arguments.length&&bt.blend(e,t,n,i,r,s,o,a,l,0,this),delete this.sourceImg},filter:function(e,t){2===arguments.length?bt.filter(e,t,this):1===arguments.length&&bt.filter(e,null,this),delete this.sourceImg},save:function(e){bt.save(e,this)},resize:function(e,t){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===e&&0!==t?e=n.floor(this.width/this.height*t):0===t&&0!==e&&(t=n.floor(this.height/this.width*e));var i=K(this.imageData).canvas,r=K(i,e,t).context.getImageData(0,0,e,t);this.fromImageData(r)}},mask:function(e){var t,n,i=this.toImageData();if(e instanceof Ur||e.__isPImage){if(e.width!==this.width||e.height!==this.height)throw"mask must have the same dimensions as PImage.";for(e=e.toImageData(),t=2,n=4*this.width*this.height;n>t;t+=4)i.data[t+1]=e.data[t]}else if(e instanceof Array){if(this.width*this.height!==e.length)throw"mask array must be the same length as PImage pixels array.";for(t=0,n=e.length;n>t;++t)i.data[4*t+3]=e[t]}this.fromImageData(i)},loadPixels:m,toImageData:function(){if(this.isRemote)return this.sourceImg;if(!this.__isDirty)return this.imageData;var e=K(this.sourceImg);return e.context.getImageData(0,0,this.width,this.height)},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";var e=K(this.imageData);return e.canvas.toDataURL()},fromImageData:function(e){var n=e.width,i=e.height,r=t.createElement("canvas"),s=r.getContext("2d");this.width=r.width=n,this.height=r.height=i,s.putImageData(e,0,0),this.format=2,this.imageData=e,this.sourceImg=r}},bt.PImage=Ur,bt.createImage=function(e,t,n){return new Ur(e,t,n)},bt.loadImage=function(e,n,i){n&&(e=e+"."+n);var r;if(xt.imageCache.images[e])return r=new Ur(xt.imageCache.images[e]),r.loaded=!0,r;r=new Ur;var s=t.createElement("img");return r.sourceImg=s,s.onload=function(e,t,n){var i=e,r=t,s=n;return function(){r.fromHTMLImageData(i),r.loaded=!0,s&&s()}}(s,r,i),s.src=e,r},bt.requestImage=bt.loadImage,bt.get=function(e,t,n,i,r){return void 0!==r?Q(e,t,n,i,r):void 0!==i?J(e,t,n,i):void 0!==n?q(e,t,n):void 0!==t?Z(e,t):void 0!==e?Q(0,0,e.width,e.height,e):J(0,0,bt.width,bt.height)},bt.createGraphics=function(e,t,n){var i=new M;return i.size(e,t,n),i.background(0,0),i},bt.set=function(e,t,n,i){3===arguments.length?"number"==typeof n?it(e,t,n):(n instanceof Ur||n.__isPImage)&&bt.image(n,e,t):4===arguments.length&&rt(e,t,n,i)},bt.imageData={},bt.pixels={getLength:function(){return bt.imageData.data.length?bt.imageData.data.length/4:0},getPixel:function(e){var t=4*e,n=bt.imageData.data;return 4278190080&n[t+3]<<24|16711680&n[t+0]<<16|65280&n[t+1]<<8|255&n[t+2]},setPixel:function(e,t){var n=4*e,i=bt.imageData.data;i[n+0]=(16711680&t)>>>16,i[n+1]=(65280&t)>>>8,i[n+2]=255&t,i[n+3]=(4278190080&t)>>>24},toArray:function(){for(var e=[],t=bt.imageData.width*bt.imageData.height,n=bt.imageData.data,i=0,r=0;t>i;i++,r+=4)e.push(4278190080&n[r+3]<<24|16711680&n[r+0]<<16|65280&n[r+1]<<8|255&n[r+2]);return e},set:function(e){for(var t=0,n=e.length;n>t;t++)this.setPixel(t,e[t])}},bt.loadPixels=function(){bt.imageData=Bt.$ensureContext().getImageData(0,0,bt.width,bt.height)},bt.updatePixels=function(){bt.imageData&&Bt.$ensureContext().putImageData(bt.imageData,0,0)},bt.hint=function(e){var t=Bt.$ensureContext();4===e?(t.disable(t.DEPTH_TEST),t.depthMask(!1),t.clear(t.DEPTH_BUFFER_BIT)):-4===e?(t.enable(t.DEPTH_TEST),t.depthMask(!0)):-1===e||2===e?An=!0:1===e&&(An=!1)};var Vr=function(e,t,n,i){var r;if(e instanceof Ur||e.__isPImage){if(r=e,!r.loaded)throw"Error using image in background(): PImage not loaded.";if(r.width!==bt.width||r.height!==bt.height)throw"Background image must be the same dimensions as the canvas."}else r=bt.color(e,t,n,i);Pn=r};fr.prototype.background=function(e,t,n,r){e!==i&&Vr(e,t,n,r),Pn instanceof Ur||Pn.__isPImage?(D(),Dt.setTransform(1,0,0,1,0,0),bt.image(Pn,0,0),x()):(D(),Dt.setTransform(1,0,0,1,0,0),bt.alpha(Pn)!==On&&Dt.clearRect(0,0,bt.width,bt.height),Dt.fillStyle=bt.color.toString(Pn),Dt.fillRect(0,0,bt.width,bt.height),un=!0,x())},gr.prototype.background=function(e,t,n,i){arguments.length>0&&Vr(e,t,n,i);var r=bt.color.toGLArray(Pn);Dt.clearColor(r[0],r[1],r[2],r[3]),Dt.clear(Dt.COLOR_BUFFER_BIT|Dt.DEPTH_BUFFER_BIT)},fr.prototype.image=function(e,t,i,r,s){if(t=n.round(t),i=n.round(i),e.width>0){r||e.width,s||e.height;var o=hr(t||0,i||0,r||e.width,s||e.height,4>arguments.length),a=!!e.sourceImg&&null===Gn;if(a){var l=e.sourceImg;e.__isDirty&&e.updatePixels(),Dt.drawImage(l,0,0,l.width,l.height,o.x,o.y,o.w,o.h)}else{var h=e.toImageData();null!==Gn&&(Gn(h),e.__isDirty=!0),Dt.drawImage(K(h).canvas,0,0,e.width,e.height,o.x,o.y,o.w,o.h)}}},gr.prototype.image=function(e,t,i,r,s){e.width>0&&(t=n.round(t),i=n.round(i),r=r||e.width,s=s||e.height,bt.beginShape(bt.QUADS),bt.texture(e),bt.vertex(t,i,0,0,0),bt.vertex(t,i+s,0,0,s),bt.vertex(t+r,i+s,0,r,s),bt.vertex(t+r,i,0,r,0),bt.endShape())},bt.tint=function(e,t,n,i){var r=bt.color(e,t,n,i),s=bt.red(r)/Nn,o=bt.green(r)/Hn,a=bt.blue(r)/zn,l=bt.alpha(r)/On;Gn=function(e){for(var t=e.data,n=4*e.width*e.height,i=0;n>i;)t[i++]*=s,t[i++]*=o,t[i++]*=a,t[i++]*=l},jn=function(e){for(var t=0;e.length>t;)e[t++]=s,e[t++]=o,e[t++]=a,e[t++]=l}},bt.noTint=function(){Gn=null,jn=null},bt.copy=function(e,t,n,r,s,o,a,l,h){h===i&&(h=l,l=a,a=o,o=s,s=r,r=n,n=t,t=e,e=bt),bt.blend(e,t,n,r,s,o,a,l,h,0)},bt.blend=function(e,t,n,r,s,o,a,l,h,c,u){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";c===i&&(c=h,h=l,l=a,a=o,o=s,s=r,r=n,n=t,t=e,e=bt);var d=t+r,f=n+s,g=o+l,p=a+h,m=u||bt;(u===i||c===i)&&bt.loadPixels(),e.loadPixels(),e===bt&&bt.intersect(t,n,d,f,o,a,g,p)?bt.blit_resize(bt.get(t,n,d-t,f-n),0,0,d-t-1,f-n-1,m.imageData.data,m.width,m.height,o,a,g,p,c):bt.blit_resize(e,t,n,d,f,m.imageData.data,m.width,m.height,o,a,g,p,c),u===i&&bt.updatePixels()};var Gr=function(e){var t,n,i=bt.floor(3.5*e);if(i=1>i?1:248>i?i:248,bt.shared.blurRadius!==i){bt.shared.blurRadius=i,bt.shared.blurKernelSize=1+(bt.shared.blurRadius<<1),bt.shared.blurKernel=new E(bt.shared.blurKernelSize);var r=bt.shared.blurKernel,s=bt.shared.blurKernelSize;for(bt.shared.blurRadius,t=0;s>t;t++)r[t]=0;var o=(i-1)*(i-1);for(t=1;i>t;t++)r[i+t]=r[n]=o;r[i]=i*i}},jr=function(e,t){var n,i,r,s,o,a,l,h,c,u,d,f,g,p,m,v=t.pixels.getLength(),A=new E(v),C=new E(v),F=new E(v),w=new E(v),y=0;Gr(e);var b=t.height,D=t.width,x=bt.shared.blurKernelSize,B=bt.shared.blurRadius,S=bt.shared.blurKernel,k=t.imageData.data;for(g=0;b>g;g++){for(f=0;D>f;f++){if(s=r=i=o=n=0,l=f-B,0>l)d=-l,l=0;else{if(l>=D)break;d=0}for(p=d;x>p&&!(l>=D);p++)m=4*(l+y),a=S[p],o+=a*k[m+3],i+=a*k[m],r+=a*k[m+1],s+=a*k[m+2],n+=a,l++;h=y+f,w[h]=o/n,A[h]=i/n,C[h]=r/n,F[h]=s/n}y+=D}for(y=0,c=-B,u=c*D,g=0;b>g;g++){for(f=0;D>f;f++){if(s=r=i=o=n=0,0>c)d=h=-c,l=f;else{if(c>=b)break;d=0,h=c,l=f+u}for(p=d;x>p&&!(h>=b);p++)a=S[p],o+=a*w[l],i+=a*A[l],r+=a*C[l],s+=a*F[l],n+=a,h++,l+=D;m=4*(f+y),k[m]=i/n,k[m+1]=r/n,k[m+2]=s/n,k[m+3]=o/n}y+=D,u+=D,c++}},Yr=function(e,t){var n,i,r,s,o,a,l,h,c,u,d,f,g,p,m,v,A,C=0,E=t.pixels.getLength(),w=new F(E);if(e)for(;E>C;)for(n=C,i=C+t.width;i>C;)r=s=t.pixels.getPixel(C),l=C-1,a=C+1,h=C-t.width,c=C+t.width,n>l&&(l=C),a>=i&&(a=C),0>h&&(h=0),c>=E&&(c=C),f=t.pixels.getPixel(h),d=t.pixels.getPixel(l),g=t.pixels.getPixel(c),u=t.pixels.getPixel(a),o=77*(255&r>>16)+151*(255&r>>8)+28*(255&r),m=77*(255&d>>16)+151*(255&d>>8)+28*(255&d),p=77*(255&u>>16)+151*(255&u>>8)+28*(255&u),v=77*(255&f>>16)+151*(255&f>>8)+28*(255&f),A=77*(255&g>>16)+151*(255&g>>8)+28*(255&g),o>m&&(s=d,o=m),o>p&&(s=u,o=p),o>v&&(s=f,o=v),o>A&&(s=g,o=A),w[C++]=s;else for(;E>C;)for(n=C,i=C+t.width;i>C;)r=s=t.pixels.getPixel(C),l=C-1,a=C+1,h=C-t.width,c=C+t.width,n>l&&(l=C),a>=i&&(a=C),0>h&&(h=0),c>=E&&(c=C),f=t.pixels.getPixel(h),d=t.pixels.getPixel(l),g=t.pixels.getPixel(c),u=t.pixels.getPixel(a),o=77*(255&r>>16)+151*(255&r>>8)+28*(255&r),m=77*(255&d>>16)+151*(255&d>>8)+28*(255&d),p=77*(255&u>>16)+151*(255&u>>8)+28*(255&u),v=77*(255&f>>16)+151*(255&f>>8)+28*(255&f),A=77*(255&g>>16)+151*(255&g>>8)+28*(255&g),m>o&&(s=d,o=m),p>o&&(s=u,o=p),v>o&&(s=f,o=v),A>o&&(s=g,o=A),w[C++]=s;t.pixels.set(w)};bt.filter=function(e,t,n){var r,s,o,a;if(3===arguments.length?(n.loadPixels(),r=n):(bt.loadPixels(),r=bt),t===i&&(t=null),r.isRemote)throw"Image is loaded remotely. Cannot filter image.";var l=r.pixels.getLength();switch(e){case 11:var h=t||1;jr(h,r);break;case 12:if(4===r.format){for(a=0;l>a;a++)s=255-r.pixels.getPixel(a),r.pixels.setPixel(a,4278190080|s<<16|s<<8|s);r.format=1}else for(a=0;l>a;a++)s=r.pixels.getPixel(a),o=77*(255&s>>16)+151*(255&s>>8)+28*(255&s)>>8,r.pixels.setPixel(a,4278190080&s|o<<16|o<<8|o);break;case 13:for(a=0;l>a;a++)r.pixels.setPixel(a,16777215^r.pixels.getPixel(a));break;case 15:if(null===t)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";var c=bt.floor(t);if(2>c||c>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";var u=c-1;for(a=0;l>a;a++){var d=255&r.pixels.getPixel(a)>>16,f=255&r.pixels.getPixel(a)>>8,g=255&r.pixels.getPixel(a);d=255*(d*c>>8)/u,f=255*(f*c>>8)/u,g=255*(g*c>>8)/u,r.pixels.setPixel(a,4278190080&r.pixels.getPixel(a)|d<<16|f<<8|g)}break;case 14:for(a=0;l>a;a++)r.pixels.setPixel(a,4278190080|r.pixels.getPixel(a));r.format=1;break;case 16:if(null===t&&(t=.5),0>t||t>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";var p=bt.floor(255*t);for(a=0;l>a;a++){var m=bt.max((16711680&r.pixels.getPixel(a))>>16,bt.max((65280&r.pixels.getPixel(a))>>8,255&r.pixels.getPixel(a)));r.pixels.setPixel(a,4278190080&r.pixels.getPixel(a)|(p>m?0:16777215))}break;case 17:Yr(!0,r);break;case 18:Yr(!1,r)}r.updatePixels()},bt.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},bt.intersect=function(e,t,n,i,r,s,o,a){var l=n-e+1,h=i-t+1,c=o-r+1,u=a-s+1;if(e>r)c+=r-e,c>l&&(c=l);else{var d=l+e-r;c>d&&(c=d)}if(t>s)u+=s-t,u>h&&(u=h);else{var f=h+t-s;u>f&&(u=f)}return!(0>=c||0>=u)};var Kr={};Kr[1]=bt.modes.blend,Kr[2]=bt.modes.add,Kr[4]=bt.modes.subtract,Kr[8]=bt.modes.lightest,Kr[16]=bt.modes.darkest,Kr[0]=bt.modes.replace,Kr[32]=bt.modes.difference,Kr[64]=bt.modes.exclusion,Kr[128]=bt.modes.multiply,Kr[256]=bt.modes.screen,Kr[512]=bt.modes.overlay,Kr[1024]=bt.modes.hard_light,Kr[2048]=bt.modes.soft_light,Kr[4096]=bt.modes.dodge,Kr[8192]=bt.modes.burn,bt.blit_resize=function(e,t,i,r,s,o,a,l,h,c,u,d,f){var g,p;0>t&&(t=0),0>i&&(i=0),r>=e.width&&(r=e.width-1),s>=e.height&&(s=e.height-1);var m=r-t,v=s-i,A=u-h,C=d-c;if(!(0>=A||0>=C||0>=m||0>=v||h>=a||c>=l||t>=e.width||i>=e.height)){var E=n.floor(32768*(m/A)),F=n.floor(32768*(v/C)),w=bt.shared;
w.srcXOffset=n.floor(0>h?-h*E:32768*t),w.srcYOffset=n.floor(0>c?-c*F:32768*i),0>h&&(A+=h,h=0),0>c&&(C+=c,c=0),A=n.min(A,a-h),C=n.min(C,l-c);var y,b=c*a+h;w.srcBuffer=e.imageData.data,w.iw=e.width,w.iw1=e.width-1,w.ih1=e.height-1;var D,x,B,S,k,$,L=(bt.filter_bilinear,bt.filter_new_scanline,Kr[f]),T=4278190080,_=16711680,R=65280,M=255,P=32767,I=15,O=1,N=9,H=w.srcBuffer,z=n.min;for(p=0;C>p;p++){for(w.sX=w.srcXOffset,w.fracV=w.srcYOffset&P,w.ifV=P-w.fracV,w.v1=(w.srcYOffset>>I)*w.iw,w.v2=z((w.srcYOffset>>I)+1,w.ih1)*w.iw,g=0;A>g;g++)x=4*(b+g),y=o[x+3]<<24&T|o[x]<<16&_|o[x+1]<<8&R|o[x+2]&M,w.fracU=w.sX&P,w.ifU=P-w.fracU,w.ul=w.ifU*w.ifV>>I,w.ll=w.ifU*w.fracV>>I,w.ur=w.fracU*w.ifV>>I,w.lr=w.fracU*w.fracV>>I,w.u1=w.sX>>I,w.u2=z(w.u1+1,w.iw1),B=4*(w.v1+w.u1),S=4*(w.v1+w.u2),k=4*(w.v2+w.u1),$=4*(w.v2+w.u2),w.cUL=H[B+3]<<24&T|H[B]<<16&_|H[B+1]<<8&R|H[B+2]&M,w.cUR=H[S+3]<<24&T|H[S]<<16&_|H[S+1]<<8&R|H[S+2]&M,w.cLL=H[k+3]<<24&T|H[k]<<16&_|H[k+1]<<8&R|H[k+2]&M,w.cLR=H[$+3]<<24&T|H[$]<<16&_|H[$+1]<<8&R|H[$+2]&M,w.r=w.ul*((w.cUL&_)>>16)+w.ll*((w.cLL&_)>>16)+w.ur*((w.cUR&_)>>16)+w.lr*((w.cLR&_)>>16)<<O&_,w.g=w.ul*(w.cUL&R)+w.ll*(w.cLL&R)+w.ur*(w.cUR&R)+w.lr*(w.cLR&R)>>>I&R,w.b=w.ul*(w.cUL&M)+w.ll*(w.cLL&M)+w.ur*(w.cUR&M)+w.lr*(w.cLR&M)>>>I,w.a=w.ul*((w.cUL&T)>>>24)+w.ll*((w.cLL&T)>>>24)+w.ur*((w.cUR&T)>>>24)+w.lr*((w.cLR&T)>>>24)<<N&T,D=L(y,w.a|w.r|w.g|w.b),o[x]=(D&_)>>>16,o[x+1]=(D&R)>>>8,o[x+2]=D&M,o[x+3]=(D&T)>>>24,w.sX+=E;b+=a,w.srcYOffset+=F}}},bt.loadFont=function(e,t){if(e===i)throw"font name required in loadFont.";if(-1===e.indexOf(".svg"))return t===i&&(t=li.size),d.get(e,t);var n=bt.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:n.units_per_em,horiz_adv_x:1/n.units_per_em*n.horiz_adv_x,ascent:n.ascent,descent:n.descent,width:function(t){for(var n=0,i=t.length,r=0;i>r;r++)try{n+=parseFloat(bt.glyphLook(bt.glyphTable[e],t[r]).horiz_adv_x)}catch(s){M.debug(s)}return n/bt.glyphTable[e].units_per_em}}},bt.createFont=function(e,t){return bt.loadFont(e,t)},bt.textFont=function(e,t){t!==i&&(e.glyph||(e=d.get(e.name,t)),ri=t),li=e,ii=li.name,si=li.ascent,oi=li.descent,ai=li.leading;var n=Bt.$ensureContext();n.font=li.css},bt.textSize=function(e){li=d.get(ii,e),ri=e,si=li.ascent,oi=li.descent,ai=li.leading;var t=Bt.$ensureContext();t.font=li.css},bt.textAscent=function(){return si},bt.textDescent=function(){return oi},bt.textLeading=function(e){ai=e},bt.textAlign=function(e,t){ei=e,ti=t||0},fr.prototype.textWidth=function(e){var t,i=st(e).split(/\r?\n/g),r=0,s=i.length;for(Dt.font=li.css,t=0;s>t;++t)r=n.max(r,li.measureTextWidth(i[t]));return 0|r},gr.prototype.textWidth=function(e){var r,s=st(e).split(/\r?\n/g),o=0,a=s.length;St===i&&(St=t.createElement("canvas"));var l=St.getContext("2d");for(l.font=li.css,r=0;a>r;++r)o=n.max(o,l.measureText(s[r]).width);return 0|o},bt.glyphLook=function(e,t){try{switch(t){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[t]}}catch(n){M.debug(n)}},fr.prototype.text$line=function(e,t,n,i,r){var s=0,o=0;if(li.glyph){var a=bt.glyphTable[ii];D(),Dt.translate(t,n+ri),(39===r||3===r)&&(s=a.width(e),o=39===r?-s:-s/2);var l=a.units_per_em,h=1/l*ri;Dt.scale(h,h);for(var c=0,u=e.length;u>c;c++)try{bt.glyphLook(a,e[c]).draw()}catch(d){M.debug(d)}x()}else e&&"fillText"in Dt&&(un&&(Dt.fillStyle=bt.color.toString(cn),un=!1),(39===r||3===r)&&(s=li.measureTextWidth(e),o=39===r?-s:-s/2),Dt.fillText(e,t+o,n))},gr.prototype.text$line=function(e,n,r,s,o){St===i&&(St=t.createElement("canvas"));var a=Dt;Dt=St.getContext("2d"),Dt.font=li.css;var d=li.measureTextWidth(e);St.width=d,St.height=ri,Dt=St.getContext("2d"),Dt.font=li.css,Dt.textBaseline="top",fr.prototype.text$line(e,0,0,0,37);var f=St.width/St.height;Dt=a,Dt.bindTexture(Dt.TEXTURE_2D,qt),Dt.texImage2D(Dt.TEXTURE_2D,0,Dt.RGBA,Dt.RGBA,Dt.UNSIGNED_BYTE,St),Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_MAG_FILTER,Dt.LINEAR),Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_MIN_FILTER,Dt.LINEAR),Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_WRAP_T,Dt.CLAMP_TO_EDGE),Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_WRAP_S,Dt.CLAMP_TO_EDGE);var g=0;39===o?g=-d:3===o&&(g=-d/2);var p=new Dr,m=.5*ri;p.translate(n+g-m/2,r-m,s),p.scale(-f*m,-m,m),p.translate(-1,-1,-1),p.transpose();var v=new Dr;v.scale(1,-1,1),v.apply(Ai.array()),v.transpose(),Dt.useProgram(Pt),u("aVertex2d",Pt,"aVertex",3,Jt),u("aTextureCoord2d",Pt,"aTextureCoord",2,Qt),h("uSampler2d",Pt,"uSampler",[0]),h("uIsDrawingText2d",Pt,"uIsDrawingText",!0),c("uModel2d",Pt,"uModel",!1,p.array()),c("uView2d",Pt,"uView",!1,v.array()),l("uColor2d",Pt,"uColor",hn),Dt.bindBuffer(Dt.ELEMENT_ARRAY_BUFFER,en),Dt.drawElements(Dt.TRIANGLES,6,Dt.UNSIGNED_SHORT,0)},bt.text=function(){5!==ni&&(3===arguments.length?ot(st(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?ot(st(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?at(st(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&at(st(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))},bt.textMode=function(e){ni=e},bt.loadGlyphs=function(r){var s,o,a,l,h,c,u,d,f,g,p,m,v="[0-9\\-]+",A=function(e,t){var n,i=0,r=[],s=RegExp(e,"g");for(n=r[i]=s.exec(t);n;)i++,n=r[i]=s.exec(t);return r},C=function(e){var t=A("[A-Za-z][0-9\\- ]+|Z",e),i=function(){return D(),Bt.$ensureContext()},r=function(){G(),j(),x()};m="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",s=0,o=0,a=0,l=0,h=0,c=0,e=0,d=0,f="",g=t.length-1;for(var u=0;g>u;u++){var C=t[u][0],E=A(v,C);switch(C[0]){case"M":s=parseFloat(E[0][0]),o=parseFloat(E[1][0]),m+="curContext.moveTo("+s+","+-o+");";break;case"L":s=parseFloat(E[0][0]),o=parseFloat(E[1][0]),m+="curContext.lineTo("+s+","+-o+");";break;case"H":s=parseFloat(E[0][0]),m+="curContext.lineTo("+s+","+-o+");";break;case"V":o=parseFloat(E[0][0]),m+="curContext.lineTo("+s+","+-o+");";break;case"T":h=parseFloat(E[0][0]),c=parseFloat(E[1][0]),"Q"===f||"T"===f?(e=n.sqrt(n.pow(s-a,2)+n.pow(l-o,2)),d=n.PI+n.atan2(a-s,l-o),a=s+n.sin(d)*e,l=o+n.cos(d)*e):(a=s,l=o),m+="curContext.quadraticCurveTo("+a+","+-l+","+h+","+-c+");",s=h,o=c;break;case"Q":a=parseFloat(E[0][0]),l=parseFloat(E[1][0]),h=parseFloat(E[2][0]),c=parseFloat(E[3][0]),m+="curContext.quadraticCurveTo("+a+","+-l+","+h+","+-c+");",s=h,o=c;break;case"Z":m+="curContext.closePath();"}f=C[0]}return m+="afterPathDraw();",m+="curContext.translate("+p+",0);",m+="}}",Function("beforePathDraw","afterPathDraw",m)(i,r)},E=function(e){var t=e.getElementsByTagName("font");bt.glyphTable[r].horiz_adv_x=t[0].getAttribute("horiz-adv-x");var n=e.getElementsByTagName("font-face")[0];bt.glyphTable[r].units_per_em=parseFloat(n.getAttribute("units-per-em")),bt.glyphTable[r].ascent=parseFloat(n.getAttribute("ascent")),bt.glyphTable[r].descent=parseFloat(n.getAttribute("descent"));for(var s=e.getElementsByTagName("glyph"),o=s.length,a=0;o>a;a++){var l=s[a].getAttribute("unicode"),h=s[a].getAttribute("glyph-name");p=s[a].getAttribute("horiz-adv-x"),null===p&&(p=bt.glyphTable[r].horiz_adv_x),u=s[a].getAttribute("d"),u!==i&&(m=C(u),bt.glyphTable[r][h]={name:h,unicode:l,horiz_adv_x:p,draw:m.draw})}},F=function(){var n;try{n=t.implementation.createDocument("","",null)}catch(i){return M.debug(i.message),void 0}try{n.async=!1,n.load(r),E(n.getElementsByTagName("svg")[0])}catch(s){M.debug(s);try{var o=new e.XMLHttpRequest;o.open("GET",r,!1),o.send(null),E(o.responseXML.documentElement)}catch(a){M.debug(s)}}};return bt.glyphTable[r]={},F(r),bt.glyphTable[r]},bt.param=function(e){var t="data-processing-"+e;if(wt.hasAttribute(t))return wt.getAttribute(t);for(var n=0,i=wt.childNodes.length;i>n;++n){var r=wt.childNodes.item(n);if(1===r.nodeType&&"param"===r.tagName.toLowerCase()&&r.getAttribute("name")===e)return r.getAttribute("value")}return xt.params.hasOwnProperty(e)?xt.params[e]:null},pr.prototype.translate=ht("translate"),pr.prototype.transform=ht("transform"),pr.prototype.scale=ht("scale"),pr.prototype.pushMatrix=ht("pushMatrix"),pr.prototype.popMatrix=ht("popMatrix"),pr.prototype.resetMatrix=ht("resetMatrix"),pr.prototype.applyMatrix=ht("applyMatrix"),pr.prototype.rotate=ht("rotate"),pr.prototype.rotateZ=ht("rotateZ"),pr.prototype.shearX=ht("shearX"),pr.prototype.shearY=ht("shearY"),pr.prototype.redraw=ht("redraw"),pr.prototype.toImageData=ht("toImageData"),pr.prototype.ambientLight=ht("ambientLight"),pr.prototype.directionalLight=ht("directionalLight"),pr.prototype.lightFalloff=ht("lightFalloff"),pr.prototype.lightSpecular=ht("lightSpecular"),pr.prototype.pointLight=ht("pointLight"),pr.prototype.noLights=ht("noLights"),pr.prototype.spotLight=ht("spotLight"),pr.prototype.beginCamera=ht("beginCamera"),pr.prototype.endCamera=ht("endCamera"),pr.prototype.frustum=ht("frustum"),pr.prototype.box=ht("box"),pr.prototype.sphere=ht("sphere"),pr.prototype.ambient=ht("ambient"),pr.prototype.emissive=ht("emissive"),pr.prototype.shininess=ht("shininess"),pr.prototype.specular=ht("specular"),pr.prototype.fill=ht("fill"),pr.prototype.stroke=ht("stroke"),pr.prototype.strokeWeight=ht("strokeWeight"),pr.prototype.smooth=ht("smooth"),pr.prototype.noSmooth=ht("noSmooth"),pr.prototype.point=ht("point"),pr.prototype.vertex=ht("vertex"),pr.prototype.endShape=ht("endShape"),pr.prototype.bezierVertex=ht("bezierVertex"),pr.prototype.curveVertex=ht("curveVertex"),pr.prototype.curve=ht("curve"),pr.prototype.line=ht("line"),pr.prototype.bezier=ht("bezier"),pr.prototype.rect=ht("rect"),pr.prototype.ellipse=ht("ellipse"),pr.prototype.background=ht("background"),pr.prototype.image=ht("image"),pr.prototype.textWidth=ht("textWidth"),pr.prototype.text$line=ht("text$line"),pr.prototype.$ensureContext=ht("$ensureContext"),pr.prototype.$newPMatrix=ht("$newPMatrix"),pr.prototype.size=function(e,t,n){lt(2===n?"3D":"2D"),bt.size(e,t,n)},pr.prototype.$init=m,fr.prototype.$init=function(){bt.size(bt.width,bt.height),Dt.lineCap="round",bt.noSmooth(),bt.disableContextMenu()},gr.prototype.$init=function(){bt.use3DContext=!0,bt.disableContextMenu()},dr.prototype.$ensureContext=function(){return Dt},L(wt,"touchstart",function(e){wt.setAttribute("style","-webkit-user-select: none"),wt.setAttribute("onclick","void(0)"),wt.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var t=0,n=Br.length;n>t;t++){var r=Br[t].type;("mouseout"===r||"mousemove"===r||"mousedown"===r||"mouseup"===r||"DOMMouseScroll"===r||"mousewheel"===r||"touchstart"===r)&&T(Br[t])}bt.touchStart!==i||bt.touchMove!==i||bt.touchEnd!==i||bt.touchCancel!==i?(L(wt,"touchstart",function(e){bt.touchStart!==i&&(e=dt(e),bt.touchStart(e))}),L(wt,"touchmove",function(e){bt.touchMove!==i&&(e.preventDefault(),e=dt(e),bt.touchMove(e))}),L(wt,"touchend",function(e){bt.touchEnd!==i&&(e=dt(e),bt.touchEnd(e))}),L(wt,"touchcancel",function(e){bt.touchCancel!==i&&(e=dt(e),bt.touchCancel(e))})):(L(wt,"touchstart",function(e){ut(wt,e.touches[0]),bt.__mousePressed=!0,bt.mouseDragging=!1,bt.mouseButton=37,"function"==typeof bt.mousePressed&&bt.mousePressed()}),L(wt,"touchmove",function(e){e.preventDefault(),ut(wt,e.touches[0]),"function"!=typeof bt.mouseMoved||bt.__mousePressed||bt.mouseMoved(),"function"==typeof bt.mouseDragged&&bt.__mousePressed&&(bt.mouseDragged(),bt.mouseDragging=!0)}),L(wt,"touchend",function(){bt.__mousePressed=!1,"function"!=typeof bt.mouseClicked||bt.mouseDragging||bt.mouseClicked(),"function"==typeof bt.mouseReleased&&bt.mouseReleased()})),wt.dispatchEvent(e)}),function(){var e=!0,t=function(e){e.preventDefault(),e.stopPropagation()};bt.disableContextMenu=function(){e&&(L(wt,"contextmenu",t),e=!1)},bt.enableContextMenu=function(){e||(T({elem:wt,type:"contextmenu",fn:t}),e=!0)}}(),L(wt,"mousemove",function(e){ut(wt,e),"function"!=typeof bt.mouseMoved||bt.__mousePressed||bt.mouseMoved(),"function"==typeof bt.mouseDragged&&bt.__mousePressed&&(bt.mouseDragged(),bt.mouseDragging=!0)}),L(wt,"mouseout",function(){"function"==typeof bt.mouseOut&&bt.mouseOut()}),L(wt,"mouseover",function(e){ut(wt,e),"function"==typeof bt.mouseOver&&bt.mouseOver()}),wt.onmousedown=function(){return wt.focus(),!1},L(wt,"mousedown",function(e){switch(bt.__mousePressed=!0,bt.mouseDragging=!1,e.which){case 1:bt.mouseButton=37;break;case 2:bt.mouseButton=3;break;case 3:bt.mouseButton=39}"function"==typeof bt.mousePressed&&bt.mousePressed()}),L(wt,"mouseup",function(){bt.__mousePressed=!1,"function"!=typeof bt.mouseClicked||bt.mouseDragging||bt.mouseClicked(),"function"==typeof bt.mouseReleased&&bt.mouseReleased()});var Xr=function(t){var n=0;t.wheelDelta?(n=t.wheelDelta/120,e.opera&&(n=-n)):t.detail&&(n=-t.detail/3),bt.mouseScroll=n,n&&"function"==typeof bt.mouseScrolled&&bt.mouseScrolled()};if(L(t,"DOMMouseScroll",Xr),L(t,"mousewheel",Xr),wt.getAttribute("tabindex")||wt.setAttribute("tabindex",0),yt)xt=new M.Sketch,lt(),bt.size=function(e,t,n){n&&2===n?lt("3D"):lt("2D"),bt.size(e,t,n)};else{xt=o instanceof M.Sketch?o:"function"==typeof o?new M.Sketch(o):o?M.compile(o):new M.Sketch(function(){}),bt.externals.sketch=xt,lt(),wt.onfocus=function(){bt.focused=!0},wt.onblur=function(){bt.focused=!1,xt.options.globalKeyEvents||vt()},xt.options.pauseOnBlur&&(L(e,"focus",function(){Cn&&bt.loop()}),L(e,"blur",function(){Cn&&vn&&(bt.noLoop(),Cn=!0),vt()}));var Zr=xt.options.globalKeyEvents?e:wt;L(Zr,"keydown",Ct),L(Zr,"keypress",Et),L(Zr,"keyup",Ft);for(var qr in M.lib)M.lib.hasOwnProperty(qr)&&(M.lib[qr].hasOwnProperty("attach")?M.lib[qr].attach(bt):M.lib[qr]instanceof Function&&M.lib[qr].call(this));var Jr=100,Qr=function(n){if(xt.imageCache.pending||d.preloading.pending(Jr))e.setTimeout(function(){Qr(n)},Jr);else{if(e.opera){var i,r,s=xt.imageCache.operaCache;for(i in s)s.hasOwnProperty(i)&&(r=s[i],null!==r&&t.body.removeChild(r),delete s[i])}xt.attach(n,k),xt.onLoad(n),n.setup&&(n.setup(),n.resetMatrix(),xt.onSetup()),et(),n.draw&&(Cn?n.loop():n.redraw())}};R(this),Qr(bt)}};M.debug=v,M.prototype=k,M.compile=function(e){var t=new M.Sketch,n=p(e,t),i=g(n);return t.sourceCode=i,t};var P=function(){var e={},n="undefined",i="function",r=!1,s=!0,o=512,a="log";return typeof tinylog!==n&&typeof tinylog[a]===i?e[a]=tinylog[a]:typeof t===n||t.fake?typeof print===i&&(e[a]=print):function(){var n=t,i="div",l="style",h="title",c={zIndex:1e4,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black"},u={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},d={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},f={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},g={minHeight:"16px"},p={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",overflow:"auto"},m=n.defaultView,v=n.documentElement,A=v[l],C=function(){for(var e,t,n,i=arguments.length;i--;){t=arguments[i--],e=arguments[i][l];for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}},E=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n),[e,t,n]},F=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)},w=function(e){for(var t=e.childNodes,n=t.length;n--;)e.removeChild(t.item(0))},y=function(e,t){return e.appendChild(t)},b=function(e){return n.createElement(e)},D=function(e){return n.createTextNode(e)},x=e[a]=function(t){var B,S=A.paddingBottom,k=b(i),$=k[l],L=y(k,b(i)),T=y(k,b(i)),_=y(k,b(i)),R=r,M=r,P=r,I=0,O=function(){A.paddingBottom=k.clientHeight+"px"},N=function(e){var t=m.innerHeight,n=L.clientHeight;0>e?e=0:e+n>t&&(e=t-n),$.height=100*(e/t)+"%",O()},H=[E(n,"mousemove",function(e){R&&(N(m.innerHeight-e.clientY),T.scrollTop=P)}),E(n,"mouseup",function(){R&&(R=P=r)}),E(L,"dblclick",function(e){e.preventDefault(),M?(N(M),M=r):(M=k.clientHeight,$.height="0px")}),E(L,"mousedown",function(e){e.preventDefault(),R=s,P=T.scrollTop}),E(L,"contextmenu",function(){R=r}),E(_,"click",function(){B()})];B=function(){for(var t=H.length;t--;)F.apply(e,H[t]);v.removeChild(k),A.paddingBottom=S,w(T),w(k),e[a]=x},C(k,c,T,u,L,d,_,f),_[h]="Close Log",y(_,D("✖")),L[h]="Double-click to toggle log minimization",v.insertBefore(k,v.firstChild),e[a]=function(e){I===o?T.removeChild(T.firstChild):I++;var t=y(T,b(i)),n=y(t,b(i));t[h]=(new Date).toLocaleTimeString(),C(t,g,n,p),y(n,D(e)),T.scrollTop=T.scrollHeight},e[a](t),O()}}(),e}();M.logger=P,M.version="1.4.1",M.lib={},M.registerLibrary=function(e,t){M.lib[e]=t,t.hasOwnProperty("init")&&t.init(k)},M.instances=L,M.getInstanceById=function(e){return L[T[e]]},M.Sketch=function(n){this.attachFunction=n,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onLoad=m,this.onSetup=m,this.onPause=m,this.onLoop=m,this.onFrameStart=m,this.onFrameEnd=m,this.onExit=m,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(n,i){if(!this.images[n]&&(C||(this.images[n]=null),i||(i=new Image,i.onload=function(e){return function(){e.pending--}}(this),this.pending++,i.src=n),this.images[n]=i,e.opera)){var r=t.createElement("div");r.appendChild(i),r.style.position="absolute",r.style.opacity=0,r.style.width="1px",r.style.height="1px",this.operaCache[n]||(t.body.appendChild(r),this.operaCache[n]=r)}}},this.sourceCode=void 0,this.attach=function(e){if("function"==typeof this.attachFunction)this.attachFunction(e);else{if(!this.sourceCode)throw"Unable to attach sketch to the processing instance";var t=Function("return ("+this.sourceCode+");")();t(e),this.attachFunction=t}},this.toString=function(){var e,t="((function(Sketch) {\n";t+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(e in this.options)if(this.options.hasOwnProperty(e)){var n=this.options[e];t+="sketch.options."+e+" = "+("string"==typeof n?'"'+n+'"':""+n)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(t+='sketch.imageCache.add("'+e+'");\n');return t+="return sketch;\n})(Processing.Sketch))"}};var I=function(n,i){function r(t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){var t;200!==i.status&&0!==i.status?t="Invalid XHR status "+i.status:""===i.responseText&&(t="withCredentials"in new XMLHttpRequest&&(new XMLHttpRequest).withCredentials===!1&&"file:"===e.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty."),n(i.responseText,t)}},i.open("GET",t,!0),i.overrideMimeType&&i.overrideMimeType("application/json"),i.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),i.send(null)}function s(e,i){function s(t,r){if(o[e]=t,++h,r&&a.push(i+" ==> "+r),h===l){if(0!==a.length)throw"Processing.js: Unable to load pjs sketch files: "+a.join("\n");try{return new M(n,o.join("\n"))}catch(s){throw"Processing.js: Unable to execute pjs sketch: "+s}}}if("#"===i.charAt(0)){var c=t.getElementById(i.substring(1));return c?s(c.text||c.textContent):s("","Unable to load pjs sketch: element with id '"+i.substring(1)+"' was not found"),void 0}r(i,s)}for(var o=[],a=[],l=i.length,h=0,c=0;l>c;++c)s(c,i[c])},O=function(){t.removeEventListener("DOMContentLoaded",O,!1),L=[];for(var e,n=t.getElementsByTagName("canvas"),r=0,s=n.length;s>r;r++){var o=n[r].getAttribute("data-processing-sources");if(null===o&&(o=n[r].getAttribute("data-src"),null===o&&(o=n[r].getAttribute("datasrc"))),o){e=o.split(/\s+/g);for(var a=0;e.length>a;)e[a]?a++:e.splice(a,1);I(n[r],e)}}var l,h,c,u,d=t.getElementsByTagName("script"),f=[];for(l=d.length-1;l>=0;l--)f.push(d[l]);for(l=0,h=f.length;h>l;l++){var g=f[l];if(g.getAttribute){var p=g.getAttribute("type");if(p&&("text/processing"===p.toLowerCase()||"application/processing"===p.toLowerCase())){var m=g.getAttribute("data-processing-target");if(n=i,m)n=t.getElementById(m);else{for(var v=g.nextSibling;v&&1!==v.nodeType;)v=v.nextSibling;v&&"canvas"===v.nodeName.toLowerCase()&&(n=v)}if(n){if(g.getAttribute("src")){e=g.getAttribute("src").split(/\s+/),I(n,e);continue}c=g.textContent||g.text,u=new M(n,c)}}}}};M.reload=function(){if(L.length>0)for(var e=L.length-1;e>=0;e--)L[e]&&L[e].exit();O()},M.loadSketchFromSources=I,M.disableInit=function(){C&&t.removeEventListener("DOMContentLoaded",O,!1)},C?(e.Processing=M,t.addEventListener("DOMContentLoaded",O,!1)):this.Processing=M}(window,window.document,Math),this.Handlebars={},function(e){e.VERSION="1.0.rc.1",e.helpers={},e.partials={},e.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,n="[object Function]";e.registerHelper("blockHelperMissing",function(i,r){var s=r.inverse||function(){},o=r.fn,a=t.call(i);return a===n&&(i=i.call(this)),i===!0?o(this):i===!1||null==i?s(this):"[object Array]"===a?i.length>0?e.helpers.each(i,r):s(this):o(i)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.registerHelper("each",function(t,n){var i,r=n.fn,s=n.inverse,o="";if(n.data&&(i=e.createFrame(n.data)),t&&t.length>0)for(var a=0,l=t.length;l>a;a++)i&&(i.index=a),o+=r(t[a],{data:i});else o=s(this);return o}),e.registerHelper("if",function(i,r){var s=t.call(i);return s===n&&(i=i.call(this)),!i||e.Utils.isEmpty(i)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,n){var i=n.fn,r=n.inverse;return n.fn=r,n.inverse=i,e.helpers["if"].call(this,t,n)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t){e.log(t)})}(this.Handlebars);var handlebars=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,DATA:27,param:28,STRING:29,INTEGER:30,BOOLEAN:31,hashSegments:32,hashSegment:33,ID:34,EQUALS:35,pathSegments:36,SEP:37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",27:"DATA",29:"STRING",30:"INTEGER",31:"BOOLEAN",34:"ID",35:"EQUALS",37:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[17,1],[25,2],[25,1],[28,1],[28,1],[28,1],[28,1],[28,1],[26,1],[32,2],[32,1],[33,3],[33,3],[33,3],[33,3],[33,3],[21,1],[36,3],[36,1]],performAction:function(e,t,n,i,r,s){var o=s.length-1;switch(r){case 1:return s[o-1];case 2:this.$=new i.ProgramNode(s[o-2],s[o]);break;case 3:this.$=new i.ProgramNode(s[o]);break;case 4:this.$=new i.ProgramNode([]);break;case 5:this.$=[s[o]];break;case 6:s[o-1].push(s[o]),this.$=s[o-1];break;case 7:this.$=new i.BlockNode(s[o-2],s[o-1].inverse,s[o-1],s[o]);break;case 8:this.$=new i.BlockNode(s[o-2],s[o-1],s[o-1].inverse,s[o]);break;case 9:this.$=s[o];break;case 10:this.$=s[o];break;case 11:this.$=new i.ContentNode(s[o]);break;case 12:this.$=new i.CommentNode(s[o]);break;case 13:this.$=new i.MustacheNode(s[o-1][0],s[o-1][1]);break;case 14:this.$=new i.MustacheNode(s[o-1][0],s[o-1][1]);break;case 15:this.$=s[o-1];break;case 16:this.$=new i.MustacheNode(s[o-1][0],s[o-1][1]);break;case 17:this.$=new i.MustacheNode(s[o-1][0],s[o-1][1],!0);break;case 18:this.$=new i.PartialNode(s[o-1]);break;case 19:this.$=new i.PartialNode(s[o-2],s[o-1]);break;case 20:break;case 21:this.$=[[s[o-2]].concat(s[o-1]),s[o]];break;case 22:this.$=[[s[o-1]].concat(s[o]),null];break;case 23:this.$=[[s[o-1]],s[o]];break;case 24:this.$=[[s[o]],null];break;case 25:this.$=[[new i.DataNode(s[o])],null];break;case 26:s[o-1].push(s[o]),this.$=s[o-1];break;case 27:this.$=[s[o]];break;case 28:this.$=s[o];break;case 29:this.$=new i.StringNode(s[o]);break;case 30:this.$=new i.IntegerNode(s[o]);break;case 31:this.$=new i.BooleanNode(s[o]);break;case 32:this.$=new i.DataNode(s[o]);break;case 33:this.$=new i.HashNode(s[o]);break;case 34:s[o-1].push(s[o]),this.$=s[o-1];break;case 35:this.$=[s[o]];break;case 36:this.$=[s[o-2],s[o]];break;case 37:this.$=[s[o-2],new i.StringNode(s[o])];break;case 38:this.$=[s[o-2],new i.IntegerNode(s[o])];break;case 39:this.$=[s[o-2],new i.BooleanNode(s[o])];break;case 40:this.$=[s[o-2],new i.DataNode(s[o])];break;case 41:this.$=new i.IdNode(s[o]);break;case 42:s[o-2].push(s[o]),this.$=s[o-2];break;case 43:this.$=[s[o]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,27:[1,24],34:[1,26],36:25},{17:27,21:23,27:[1,24],34:[1,26],36:25},{17:28,21:23,27:[1,24],34:[1,26],36:25},{17:29,21:23,27:[1,24],34:[1,26],36:25},{21:30,34:[1,26],36:25},{1:[2,1]},{6:31,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,32],21:23,27:[1,24],34:[1,26],36:25},{10:33,20:[1,34]},{10:35,20:[1,34]},{18:[1,36]},{18:[2,24],21:41,25:37,26:38,27:[1,45],28:39,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,25]},{18:[2,41],27:[2,41],29:[2,41],30:[2,41],31:[2,41],34:[2,41],37:[1,48]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],37:[2,43]},{18:[1,49]},{18:[1,50]},{18:[1,51]},{18:[1,52],21:53,34:[1,26],36:25},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:54,34:[1,26],36:25},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:41,26:55,27:[1,45],28:56,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,23]},{18:[2,27],27:[2,27],29:[2,27],30:[2,27],31:[2,27],34:[2,27]},{18:[2,33],33:57,34:[1,58]},{18:[2,28],27:[2,28],29:[2,28],30:[2,28],31:[2,28],34:[2,28]},{18:[2,29],27:[2,29],29:[2,29],30:[2,29],31:[2,29],34:[2,29]},{18:[2,30],27:[2,30],29:[2,30],30:[2,30],31:[2,30],34:[2,30]},{18:[2,31],27:[2,31],29:[2,31],30:[2,31],31:[2,31],34:[2,31]},{18:[2,32],27:[2,32],29:[2,32],30:[2,32],31:[2,32],34:[2,32]},{18:[2,35],34:[2,35]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],35:[1,59],37:[2,43]},{34:[1,60]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,61]},{18:[1,62]},{18:[2,21]},{18:[2,26],27:[2,26],29:[2,26],30:[2,26],31:[2,26],34:[2,26]},{18:[2,34],34:[2,34]},{35:[1,59]},{21:63,27:[1,67],29:[1,64],30:[1,65],31:[1,66],34:[1,26],36:25},{18:[2,42],27:[2,42],29:[2,42],30:[2,42],31:[2,42],34:[2,42],37:[2,42]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,36],34:[2,36]},{18:[2,37],34:[2,37]},{18:[2,38],34:[2,38]},{18:[2,39],34:[2,39]},{18:[2,40],34:[2,40]}],defaultActions:{16:[2,1],24:[2,25],38:[2,23],55:[2,21]},parseError:function(e){throw Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],s=[],o=this.table,a="",l=0,h=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,g,p,m,v,A,C,E,F,w={};;){if(p=i[i.length-1],this.defaultActions[p]?m=this.defaultActions[p]:((null===f||f===void 0)&&(f=t()),m=o[p]&&o[p][f]),m===void 0||!m.length||!m[0]){var y="";if(!c){F=[];for(A in o[p])this.terminals_[A]&&A>2&&F.push("'"+this.terminals_[A]+"'");y=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+F.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(y,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:u,expected:F})}}if(m[0]instanceof Array&&m.length>1)throw Error("Parse Error: multiple actions possible at state: "+p+", token: "+f);switch(m[0]){case 1:i.push(f),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(m[1]),f=null,g?(f=g,g=null):(h=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(C=this.productions_[m[1]][1],w.$=r[r.length-C],w._$={first_line:s[s.length-(C||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(C||1)].first_column,last_column:s[s.length-1].last_column},d&&(w._$.range=[s[s.length-(C||1)].range[0],s[s.length-1].range[1]]),v=this.performAction.call(w,a,h,l,this.yy,m[1],r,s),v!==void 0)return v;C&&(i=i.slice(0,2*-1*C),r=r.slice(0,-1*C),s=s.slice(0,-1*C)),i.push(this.productions_[m[1]][0]),r.push(w.$),s.push(w._$),E=o[i[i.length-2]][i[i.length-1]],i.push(E);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this
},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return 20>e.length&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;s.length>o&&(n=this._input.match(this.rules[s[o]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=o,this.options.flex));o++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e!==void 0?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){switch(n){case 0:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 35;case 13:return 34;case 14:return 34;case 15:return 37;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),29;case 20:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),29;case 21:return t.yytext=t.yytext.substr(1),27;case 22:return 31;case 23:return 31;case 24:return 30;case 25:return 34;case 26:return t.yytext=t.yytext.substr(1,t.yyleng-2),34;case 27:return"INVALID";case 28:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,28],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=handlebars,exports.Parser=handlebars.Parser,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(e){if(!e[1])throw Error("Usage: "+e[0]+" FILE");var t;return t="undefined"!=typeof process?require("fs").readFileSync(require("path").resolve(e[1]),"utf8"):require("file").path(require("file").cwd()).join(e[1]).read({charset:"utf-8"}),exports.parser.parse(t)},"undefined"!=typeof module&&require.main===module&&exports.main("undefined"!=typeof process?process.argv.slice(1):require("system").args)),Handlebars.Parser=handlebars,Handlebars.parse=function(e){return Handlebars.Parser.yy=Handlebars.AST,Handlebars.Parser.parse(e)},Handlebars.print=function(e){return(new Handlebars.PrintVisitor).accept(e)},Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(){}},Handlebars.log=function(e,t){Handlebars.logger.log(e,t)},function(){Handlebars.AST={},Handlebars.AST.ProgramNode=function(e,t){this.type="program",this.statements=e,t&&(this.inverse=new Handlebars.AST.ProgramNode(t))},Handlebars.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var i=this.id=e[0],r=this.params=e.slice(1),s=this.eligibleHelper=i.isSimple;this.isHelper=s&&(r.length||t)},Handlebars.AST.PartialNode=function(e,t){this.type="partial",this.id=e,this.context=t};var e=function(e,t){if(e.original!==t.original)throw new Handlebars.Exception(e.original+" doesn't match "+t.original)};Handlebars.AST.BlockNode=function(t,n,i,r){e(t.id,r),this.type="block",this.mustache=t,this.program=n,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},Handlebars.AST.ContentNode=function(e){this.type="content",this.string=e},Handlebars.AST.HashNode=function(e){this.type="hash",this.pairs=e},Handlebars.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");for(var t=[],n=0,i=0,r=e.length;r>i;i++){var s=e[i];".."===s?n++:"."===s||"this"===s?this.isScoped=!0:t.push(s)}this.parts=t,this.string=t.join("."),this.depth=n,this.isSimple=1===e.length&&!this.isScoped&&0===n},Handlebars.AST.DataNode=function(e){this.type="DATA",this.id=e},Handlebars.AST.StringNode=function(e){this.type="STRING",this.string=e},Handlebars.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},Handlebars.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},Handlebars.AST.CommentNode=function(e){this.type="comment",this.comment=e}}(),Handlebars.Exception=function(){var e=Error.prototype.constructor.apply(this,arguments);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.message=e.message},Handlebars.Exception.prototype=Error(),Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return""+this.string},function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/[&<>"'`]/g,n=/[&<>"'`]/,i=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?""+e:null==e||e===!1?"":n.test(e)?e.replace(t,i):e},isEmpty:function(e){return e===void 0?!0:null===e?!0:e===!1?!0:"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1}}}(),Handlebars.Compiler=function(){},Handlebars.JavaScriptCompiler=function(){},function(e,t){e.prototype={compiler:e,disassemble:function(){for(var e,t,n,i=this.opcodes,r=[],s=0,o=i.length;o>s;s++)if(e=i[s],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var a=0;e.args.length>a;a++)n=e.args[a],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,n=e.statements;this.opcodes=[];for(var i=0,r=n.length;r>i;i++)t=n[i],this[t.type](t);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,s=n.depths.list.length;s>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=this.classifyMustache(t);"helper"===r?this.helperMustache(t,n,i):"simple"===r?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("pushLiteral","{}"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("pushLiteral","{}"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("push","{}");for(var r=0,s=i.length;s>r;r++)t=i[r],n=t[1],this.accept(n),this.opcode("assignToHash",t[0])},partial:function(e){var t=e.id;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,n){var i=e.id,r=i.parts[0];this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+r);this.opcode("invokeHelper",i.length,r)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.string)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("pushLiteral","{}"),t},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("pushLiteral","{}"),i}};var n=function(e){this.value=e};t.prototype={nameLookup:function(e,n){return/^[0-9]+$/.test(n)?e+"["+n+"]":t.isValidJavaScriptVariableName(n)?e+"."+n:e+"['"+n+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,i){this.environment=e,this.options=t||{},Handlebars.log(Handlebars.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.compileChildren(e,t);var r,s=e.opcodes;for(this.i=0,o=s.length;o>this.i;this.i++)r=s[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args);return this.createFunctionContext(i)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1],e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),this.options.data&&(n+=" data = data || {};"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var n in this.context.aliases)this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,s=this.environment.depths.list.length;s>r;r++)i.push("depth"+this.environment.depths.list[r]);if(e)return i.push(this.source.join("\n  ")),Function.apply(this,i);var o="function "+(this.name||"")+"("+i.join(",")+") {\n  "+this.source.join("\n  ")+"}";return Handlebars.log(Handlebars.logger.DEBUG,o+"\n\n"),o},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),t+" = blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(),t="";this.context.aliases.escapeExpression="this.escapeExpression",e&&"appendContent"===e.opcode&&(t=" + "+this.quotedString(e.args[0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.pushStack(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+"() : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.pushStack(this.nameLookup("data",e,"data"))},pushStringParam:function(e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){this.pushStack(e)},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t);this.register("foundHelper",n.name),this.pushStack("foundHelper ? foundHelper.call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+")")},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.pushStack(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var t=this.setupHelper(0,e),n=this.lastHelper=this.nameLookup("helpers",e,"helper");this.register("foundHelper",n);var i=this.nameLookup("depth"+this.lastContext,e,"context"),r=this.nextStack();this.source.push("if (foundHelper) { "+r+" = foundHelper.call("+t.callParams+"); }"),this.source.push("else { "+r+" = "+i+"; "+r+" = typeof "+r+" === functionType ? "+r+"() : "+r+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.pushStack("self.invokePartial("+t.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),n=this.topStack();this.source.push(n+"['"+e+"'] = "+t+";")},compiler:t,compileChildren:function(e,t){for(var n,i,r=e.children,s=0,o=r.length;o>s;s++){n=r[s],i=new this.compiler,this.context.programs.push("");var a=this.context.programs.length;n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,t,this.context)}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,r=[n.index,n.name,"data"],s=0,o=i.length;o>s;s++)t=i[s],1===t?r.push("depth0"):r.push("depth"+(t-1));return 0===i.length?"self.program("+r.join(", ")+")":(r.shift(),"self.programWithDepth("+r.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.compileStack.push(new n(e)),e},pushStack:function(e){return this.source.push(this.incrStack()+" = "+e+";"),this.compileStack.push("stack"+this.stackSlot),"stack"+this.stackSlot},replaceStack:function(e){var t=e.call(this,this.topStack());return this.source.push(this.topStack()+" = "+t+";"),"stack"+this.stackSlot},nextStack:function(){var e=this.incrStack();return this.compileStack.push("stack"+this.stackSlot),e},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){var e=this.compileStack.pop();return e instanceof n?e.value:(this.stackSlot--,e)},topStack:function(){var e=this.compileStack[this.compileStack.length-1];return e instanceof n?e.value:e},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(e,t){var n=[];this.setupParams(e,n);var i=this.nameLookup("helpers",t,"helper");return{params:n,name:i,callParams:["depth0"].concat(n).join(", "),helperMissingParams:["depth0",this.quotedString(t)].concat(n).join(", ")}},setupParams:function(e,t){var n,i,r,s=[],o=[];s.push("hash:"+this.popStack()),i=this.popStack(),r=this.popStack(),(r||i)&&(r||(this.context.aliases.self="this",r="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),s.push("inverse:"+i),s.push("fn:"+r));for(var a=0;e>a;a++)n=this.popStack(),t.push(n),this.options.stringParams&&o.push(this.popStack());return this.options.stringParams&&s.push("contexts:["+o.join(",")+"]"),this.options.data&&s.push("data:data"),t.push("{"+s.join(",")+"}"),t.join(", ")}};for(var i="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),r=t.RESERVED_WORDS={},s=0,o=i.length;o>s;s++)r[i[s]]=!0;t.isValidJavaScriptVariableName=function(e){return!t.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(Handlebars.Compiler,Handlebars.JavaScriptCompiler),Handlebars.precompile=function(e,t){t=t||{};var n=Handlebars.parse(e),i=(new Handlebars.Compiler).compile(n,t);return(new Handlebars.JavaScriptCompiler).compile(i,t)},Handlebars.compile=function(e,t){function n(){var n=Handlebars.parse(e),i=(new Handlebars.Compiler).compile(n,t),r=(new Handlebars.JavaScriptCompiler).compile(i,t,void 0,!0);return Handlebars.template(r)}t=t||{};var i;return function(e,t){return i||(i=n()),i.call(this,e,t)}},Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var i=this.programs[e];return n?Handlebars.VM.program(t,n):i?i:i=this.programs[e]=Handlebars.VM.program(t)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,i){return i=i||{},e.call(t,Handlebars,n,i.helpers,i.partials,i.data)}},programWithDepth:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(i,r){return r=r||{},e.apply(this,[i,r.data||t].concat(n))}},program:function(e,t){return function(n,i){return i=i||{},e(n,i.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,i,r,s){var o={helpers:i,partials:r,data:s};if(void 0===e)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,o);if(Handlebars.compile)return r[t]=Handlebars.compile(e,{data:void 0!==s}),r[t](n,o);throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode")}},Handlebars.template=Handlebars.VM.template,Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in t&&t[r]===e)return r;return-1}),function(e){"use strict";var t=function(e,n,i){var r,s,o,a=/^([a-zA-Z]+)(\.[a-zA-Z]*)*$/;if(null===e.match(a)||"window"===e)throw Error("namespace: "+e+" is a malformed namespace string");if(void 0!==n&&void 0===i)if("function"==typeof n)i=n,n=void 0;else{if("object"==typeof n)throw Error("namespace: if second argument exists, final function argument must exist");if("object"!=typeof n)throw Error("namespace: second argument must be an object of aliased local namespaces")}else if("object"!=typeof n&&"function"==typeof i)throw Error("namespace: second argument must be an object of aliased local namespaces");if(r=e.split("."),s="window"===r[0]?window:void 0===window[r[0]]?window[r[0]]={}:window[r[0]],void 0!==i&&"function"!=typeof i)throw Error("namespace: last parameter must be a function that accepts a namespace parameter");for(o=1;r.length>o;o+=1)void 0===s[r[o]]&&(s[r[o]]={}),s=s[r[o]];if(void 0===n&&i)i(s);else if(i){for(o in n)n.hasOwnProperty(o)&&(n[o]=t(n[o]));i.call(n,s)}return s};return t(e,function(e){e.namespace=t})}("window.jermaine.util"),window.jermaine.util.namespace("window.jermaine.util",function(e){"use strict";var t=function(){var e=this,t={};return this.on=function(n,i){if("string"!=typeof n)throw Error("EventEmitter: first argument to 'on' should be a string");if("function"!=typeof i)throw Error("EventEmitter: second argument to 'on' should be a function");return t[n]||(t[n]=[]),t[n].push(i),e},this.addListener=this.on,this.once=function(t,n){var i=function(){n(arguments),e.removeListener(t,i)};return e.on(t,i),e},this.removeListener=function(n,i){var r;if("string"!=typeof n)throw Error("EventEmitter: first parameter to removeListener method must be a string representing an event");if("function"!=typeof i)throw Error("EventEmitter: second parameter must be a function to remove as an event listener");if(void 0===t[n]||0===t[n].length)throw Error("EventEmitter: there are no listeners registered for the '"+n+"' event");return r=t[n].indexOf(i),-1!==r&&t[n].splice(r,1),e},this.removeAllListeners=function(n){if("string"!=typeof n)throw Error("EventEmitter: parameter to removeAllListeners should be a string representing an event");return void 0!==t[n]&&(t[n]=[]),e},this.setMaxListeners=function(){return e},this.listeners=function(e){if("string"!=typeof e)throw Error("EventEmitter: listeners method must be called with the name of an event");return void 0===t[e]?[]:t[e]},this.emit=function(e){var n,i;for(arguments.length>1&&(i=[]),n=1;arguments.length>n;++n)i.push(arguments[n]);if(void 0!==t[e])for(n=0;t[e].length>n;n+=1)t[e][n].apply(this,i)},e};e.EventEmitter=t}),window.jermaine.util.namespace("window.jermaine",function(e){"use strict";var t,n={};t=function(e){var t=function(t){var n,i,r={};if(n=e.call(r,t),!n)throw i=r.message||"validator failed with parameter "+t,Error(i);return n};return t},t.addValidator=function(e,i){if(void 0===e||"string"!=typeof e)throw Error("addValidator requires a name to be specified as the first parameter");if(void 0===i||"function"!=typeof i)throw Error("addValidator requires a function as the second parameter");if(void 0!==n[e])throw Error("Validator '"+e+"' already defined");n[e]=function(e){return new t(function(t){var n={actual:t,param:t},r=i.call(n,e);return this.message=n.message,r})}},t.getValidator=function(e){var t;if(void 0===e)throw Error("Validator: getValidator method requires a string parameter");if("string"!=typeof e)throw Error("Validator: parameter to getValidator method must be a string");if(t=n[e],void 0===t)throw Error("Validator: '"+e+"' does not exist");return t},t.validators=function(){var e,t=[];for(e in n)n.hasOwnProperty(e)&&t.push(e);return t},t.addValidator("isGreaterThan",function(e){return this.message=this.param+" should be greater than "+e,this.param>e}),t.addValidator("isLessThan",function(e){return this.message=this.param+" should be less than "+e,e>this.param}),t.addValidator("isA",function(e){var t=["string","number","boolean","function","object"];if("string"==typeof e&&t.indexOf(e)>-1)return this.message=this.param+" should be a "+e,typeof this.param===e;if("integer"===e)return this.message=void 0!==this.param.toString?""+this.param+" should be an integer":"parameter should be an integer","number"==typeof this.param&&parseInt(this.param,10)===this.param;throw"string"==typeof e?Error("Validator: isA accepts a string which is one of "+t):Error("Validator: isA only accepts a string for a primitive types for the time being")}),n.isAn=n.isA,t.addValidator("isOneOf",function(e){return this.message=this.param+" should be one of the set: "+e,e.indexOf(this.param)>-1}),e.Validator=t}),window.jermaine.util.namespace("window.jermaine",function(e){"use strict";var t=function(e){var n,i,r,s,o=[],a=this,l="invalid setter call for "+e,h=!1,c={},u=window.jermaine.AttrList,d=window.jermaine.Validator;if(void 0===e||"string"!=typeof e)throw Error("Attr: constructor requires a name parameter which must be a string");for(s=function(e){for(i=0;o.length>i;++i)o[i](e);return!0},this.validatesWith=function(e){if("function"==typeof e)return o.push(new d(e)),this;throw Error("Attr: validator must be a function")},this.defaultsTo=function(e){return n=e,this},this.isReadOnly=function(){return h=!0,this},this.isWritable=function(){return h=!1,this},this.on=function(e,t){if("set"!==e&&"get"!==e)throw Error("Attr: first argument to the 'on' method should be 'set' or 'get'");if("function"!=typeof t)throw Error("Attr: second argument to the 'on' method should be a function");c[e]=t},this.name=function(){return e},this.validator=function(){return s},this.and=this,this.which=this,this.isImmutable=this.isReadOnly,this.isMutable=this.isWritable,this.clone=function(){var i,r;for(i=this instanceof u?new u(e):new t(e),r=0;o.length>r;++r)i.validatesWith(o[r]);return i.defaultsTo(n),h&&i.isImmutable(),i},this.addTo=function(t){var i,r;if(!t||"object"!=typeof t)throw Error("Attr: addAttr method requires an object parameter");if(t[e]=function(n){var r;if(void 0!==n){if(h&&void 0!==i)throw Error("cannot set the immutable property "+e+" after it has been set");if(!s(n))throw Error(l);return r=i,i=n,void 0!==c.set&&c.set.call(t,n,r),t}return void 0!==c.get&&c.get.call(t,i),i},r="function"==typeof n?n():n,void 0!==r&&s(r))t[e](r);else if(void 0!==r&&!s(r))throw Error("Attr: Default value of "+r+" does not pass validation for "+e)},r=function(e){a[e]=function(t){return o.push(d.getValidator(e)(t)),a}},i=0;d.validators().length>i;++i)r(d.validators()[i])};e.Attr=t}),window.jermaine.util.namespace("window.jermaine",function(e){"use strict";function t(t){var n=this,i={};e.Attr.call(this,t);var r=function(e,t){return function(){return e[t].apply(e,arguments)}};this.validateWith=this.validatesWith,this.defaultsTo=function(){},this.isImmutable=function(){},this.isMutable=function(){},this.eachOfWhich=this,this.on=function(e,t){if("add"!==e)throw Error("AttrList: 'on' only responds to 'add' event");if("function"!=typeof t)throw Error("AttrList: 'on' requires a listener function as the second parameter");i[e]=t},this.addTo=function(e){var s=[],o={};if(!e||"object"!=typeof e)throw Error("AttrList: addTo method requires an object parameter");o.pop=r(s,"pop"),o.add=function(t){if(n.validator()(t))return s.push(t),void 0!==i.add&&i.add.call(e,t,o.size()),this;throw Error(n.errorMessage())},o.replace=function(e,t){if("number"!=typeof e||parseInt(e,10)!==e)throw Error("AttrList: replace method requires index parameter to be an integer");if(0>e||e>=this.size())throw Error("AttrList: replace method index parameter out of bounds");if(!n.validator()(t))throw Error(n.errorMessage());return s[e]=t,this},o.at=function(e){if(0>e||e>=this.size())throw Error("AttrList: Index out of bounds");return s[e]},o.get=o.at,o.size=function(){return s.length},o.toJSON=function(e){var t,n=[];if(void 0!==e)for(t=0;e.length>t;++t)e[t].object===this&&(n=e[t].JSONrep);for(t=0;s.length>t;++t)s[t].toJSON?n.push(s[t].toJSON(e)):n.push(s[t]);return n},e[t]=function(){return o}}}t.prototype=new window.jermaine.Attr(name),e.AttrList=t}),window.jermaine.util.namespace("window.jermaine",function(e){"use strict";var t=function(e,t){if(!e||"string"!=typeof e)throw Error("Method: constructor requires a name parameter which must be a string");if(!t||"function"!=typeof t)throw Error("Method: second parameter must be a function");this.addTo=function(n){if(!n||"object"!=typeof n)throw Error("Method: addTo method requires an object parameter");n[e]=t}};e.Method=t}),window.jermaine.util.namespace("window.jermaine",function(e){"use strict";var t=function(n){var i,r,s,o,a,l={},h={},c=!0,u=[],d=[],f=[],g=e.Method,p=e.Attr,m=e.AttrList,v=e.util.EventEmitter,A=function(){},C=function(){},E=function(){return c&&(E.validate(),o()),C.apply(this,arguments)
};if(arguments.length>1&&(n=arguments[arguments.length-1]),n&&"function"==typeof n)return E=new t,n.call(E),E;if(n)throw Error("Model: specification parameter must be a function");var F=function(e,t){var n,i,r;if(n="Attr"===e?p:m,i="Attr"===e?"hasA":"hasMany",c=!0,"string"==typeof t)return r=new n(t),h[t]=r,r;throw Error("Model: "+i+" parameter must be a string")};return r=function(e,t){var n;if("string"!=typeof t)throw Error("Model: expected string argument to "+e+" method, but recieved "+t);if(n="attribute"===e?h[t]:l[t],void 0===n)throw Error("Model: "+e+" "+t+" does not exist!");return n},s=function(e){var t,n=[],i="attributes"===e?h:l;for(t in i)i.hasOwnProperty(t)&&n.push(t);return n},o=function(){C=function(){var e,t,n,r,s,o,l=E.attributes(),c=E.methods(),f=new v,g={},p=this;if(!(this instanceof E))return arguments.length>0?new E(arguments):new E;for(this.emitter=function(){return f},this.emitter().removeJermaineChangeListener=function(e,t){if("string"!=typeof e)throw Error("attrName must be a string");if("object"!=typeof t||void 0===t.toJSON||void 0===t.emitter)throw Error("obj must be a jermaine object");t.emitter().removeListener("change",g[e])},this.emitter().addJermaineChangeListener=function(t,n){if("string"!=typeof t)throw Error("attrName must be a string");if("object"!=typeof n||void 0===n.toJSON||void 0===n.emitter)throw Error("obj must be a jermaine object");void 0===g[t]&&(g[t]=function(n){var i=[],r=!0;for(e=0;n.length>e&&r===!0;++e)i.push(n[e]),n[e].origin===p&&(r=!1);r&&(i.push({key:t,origin:p}),p.emit("change",i))}),n.emitter().on("change",g[t])},this.on=this.emitter().on,this.emit=this.emitter().emit,this.toJSON=function(e){var t,n,i,r,s={};if(void 0===e)e=[],e.push({object:this,JSONrep:s});else{if("object"!=typeof e)throw Error("Instance: toJSON should not take a parameter (unless called recursively)");for(n=0;e.length>n;++n)e[n].object===this&&(s=e[n].JSONrep)}for(n=0;l.length>n;++n){for(r=null,t=this[l[n]](),i=0;e.length>i;++i)e[i].object===t&&(r=e[i].JSONrep);void 0!==t&&null!==t&&void 0!==t.toJSON&&null===r&&(r=h[l[n]]instanceof m?[]:{},e.push({object:t,JSONrep:r}),e[e.length-1].JSONrep=t.toJSON(e)),s[l[n]]=null===r?t:r}return s},this.toString=void 0!==i?i:function(){return"Jermaine Model Instance"},o=function(e){e instanceof m?e.on("add",function(t){this.emit("change",[{action:"add",key:e.name(),value:t,origin:this}])}):e.on("set",function(t,n){if(void 0!==n&&null!==n&&void 0!==n.on&&void 0!==n.toJSON&&void 0!==n.emitter){if(1>n.emitter().listeners("change").length)throw Error("preValue should always have a listener defined if it is a model");this.emitter().removeJermaineChangeListener(e.name(),n)}void 0!==t&&null!==t&&void 0!==t.on&&void 0!==t.toJSON&&void 0!==t.emitter&&this.emitter().addJermaineChangeListener(e.name(),t),this.emit("change",[{key:e.name(),value:t,origin:this}])})},e=0;l.length>e;++e)s=E.attribute(l[e]),o.call(this,s);for(e=0;l.length+c.length>e;++e)l.length>e?(a&&E.attribute(l[e]).isImmutable(),E.attribute(l[e]).addTo(this)):E.method(c[e-l.length]).addTo(this);if(arguments.length>0){if(arguments.length<u.length){for(n="Constructor requires ",e=0;u.length>e;++e)n+=u[e],n+=e===u.length-1?"":", ";throw n+=" to be specified",Error(n)}if(arguments.length>u.length+d.length)throw Error("Too many arguments to constructor. Expected "+u.length+" required arguments and "+d.length+" optional arguments");for(e=0;arguments.length>e;++e)if(r=u.length>e?u[e]:d[e-u.length],E.attribute(r)instanceof m){if("[object Array]"!==Object.prototype.toString.call(arguments[e]))throw Error("Model: Constructor requires 'names' attribute to be set with an Array");for(t=0;arguments[e].length>t;++t)this[r]().add(arguments[e][t])}else this[r](arguments[e])}A.call(this)}},E.hasA=function(e){return F("Attr",e)},E.hasAn=E.hasA,E.hasSome=E.hasA,E.hasMany=function(e){return F("AttrList",e)},E.isA=function(e){var n,i,r,s;if(c=!0,s=function(e){var n,i=new t;for(n in i)if(i.hasOwnProperty(n)&&typeof e[n]!=typeof i[n])return!1;return!0},"function"!=typeof e||!s(e))throw Error("Model: parameter sent to isA function must be a Model");if(0!==f.length)throw Error("Model: Model only supports single inheritance at this time");for(f.push(e),i=f[0].attributes(),n=0;i.length>n;++n)void 0===h[i[n]]&&(h[i[n]]=f[0].attribute(i[n]).clone(),h[i[n]].isMutable());for(r=f[0].methods(),n=0;r.length>n;++n)void 0===l[r[n]]&&(l[r[n]]=f[0].method(r[n]));for(n=0;f.length>n;n++)E.prototype=new f[n]},E.isAn=E.isA,E.parent=function(){return f[0].apply(this,arguments)},E.attribute=function(e){return r("attribute",e)},E.attributes=function(){return s("attributes")},E.method=function(e){return r("method",e)},E.methods=function(){return s("methods")},E.isBuiltWith=function(){var e,t=!1;for(c=!0,u=[],d=[],e=0;arguments.length>e;++e)if("string"==typeof arguments[e]&&"%"!==arguments[e].charAt(0)){if(t)throw Error("Model: isBuiltWith requires parameters preceded with a % to be the final parameters before the optional function");u.push(arguments[e])}else if("string"==typeof arguments[e]&&"%"===arguments[e].charAt(0))t=!0,d.push(arguments[e].slice(1));else{if("function"!=typeof arguments[e]||e!==arguments.length-1)throw Error("Model: isBuiltWith parameters must be strings except for a function as the optional final parameter");A=arguments[e]}},E.isImmutable=function(){a=!0},E.looksLike=function(e){c=!0,i=e},E.respondsTo=function(e,t){var n=new g(e,t);c=!0,l[e]=n},E.validate=function(){var e,t=this.attributes(),n=this.methods();for(e=0;u.length>e;++e)try{this.attribute(u[e])}catch(i){throw Error(u[e]+", specified in the isBuiltWith method, is not an attribute")}for(e=0;d.length>e;++e)try{this.attribute(d[e])}catch(i){throw Error(d[e]+", specified in the isBuiltWith method, is not an attribute")}for(e=0;t.length>e;e++)if(n.indexOf(t[e])>-1)throw Error("Model: invalid model specification to "+t[e]+" being both an attribute and method");if(a)for(e=0;t.length>e;e++)if(0>u.indexOf(t[e]))throw Error("immutable objects must have all attributes required in a call to isBuiltWith");c=!1},E};e.Model=t}),function(e){e.jermaine.BaseView=new e.jermaine.Model(function(){var e={};this.hasAn("instance"),this.hasA("renderer").which.isA("function"),this.respondsTo("render",function(){return this.renderer()(this.instance().toJSON())}),this.respondsTo("watches",function(t,n){e[t]=n}),this.respondsTo("rendersWith",function(e){this.renderer(e)}),this.isBuiltWith("instance","%renderer",function(){var t,n=this;void 0!==this.instance()&&this.instance().on("change",function(i){var r;for(t="",r=i.length-1;r>=0;r--)t+=i[r].key,0!==r&&(t+=".");void 0!==e[t]&&e[t].call(n,i[0].value)})})}),e.jermaine.View=function(t){var n,i={},r=null,s=null;return n=new e.jermaine.Model(function(){var t=this;this.isA(e.jermaine.BaseView),this.isBuiltWith("instance",function(){var e;t.parent.apply(this,[this.instance()]);for(e in i)this.watches(e,i[e]);null!==r&&this.renderer(r),null!==s&&s.call(this)})}),n.rendersWith=function(e){r=e},n.watches=function(e,t){i[e]=t},n.initializesWith=function(e){s=e},t.call(n),n}}(window),window.jermaine.util.namespace("window.ide.models",function(e){var t=new window.jermaine.Model(function(){this.hasA("title").which.isA("string"),this.hasA("source").which.isA("string").and.defaultsTo("//code goes here"),this.hasA("user").which.isA("string").and.defaultsTo(""),this.hasA("url").which.isA("string"),this.hasMany("resources"),this.respondsTo("save",function(e){var t=this.url().match(/(.*).json/)[1]+"/save";$.post(t,{code:this.source()},function(t){e(t)})}),this.isBuiltWith("%url",function(){var e,t=this;this.url()?$.post(this.url(),{slug:this.url()},function(n){if(!n.title||!n.source)throw Error("invalid project object");if(t.title(n.title),t.source(n.source),void 0!==n.user)for(t.user(n.user),e=0;n.resources.length>e;e++)t.resources().add(n.resources[e]);else t.user("")}):t.title("default")})});e.Project=t}),window.jermaine.util.namespace("window.ide.views",function(e){var t=new window.jermaine.View(function(){var e=Handlebars.compile($("#button-template").html());this.rendersWith(function(t){return e(t)})});e.ButtonView=t}),window.jermaine.util.namespace("window.ide.models",function(e){var t=new window.jermaine.Model(function(){this.hasA("name").which.isA("string"),this.hasAn("imageURL").which.isA("string"),this.hasA("handler").which.isA("function"),this.hasA("view").which.validatesWith(function(e){return e instanceof window.ide.views.ButtonView}),this.isBuiltWith("name","imageURL","handler",function(){this.view(new window.ide.views.ButtonView(this))})});e.Button=t}),window.jermaine.util.namespace("window.ide",function(e){var t=e.models.Project;e.views.IDEView;var n=new window.jermaine.View(function(){this.hasA("url").which.isA("string"),this.hasAn("ideView").which.validatesWith(function(t){return t instanceof e.views.IDEView}),this.isBuiltWith("url","ideView",function(){var e=this.ideView().instance(),n=this;$.getJSON(this.url(),function(r){var s=Handlebars.compile($("#directory-template").html());for(Handlebars.registerPartial("directory-entry",$("#directory-entry-partial").html()),i=0;r.length>i;++i)r[i].name=r[i].url.match(/(.*).json/)[1];$("#IDE-directory").append(s({project:r})),$(".directory_listing").each(function(e,t){$(t).click(function(){return n.setActiveMenuItem(this),!1})}),$("#IDE-editor_button").click(function(){n.ideView().toggleEditorAndDirectory()}),$(".edit_sketch_button").click(function(){n.ideView().toggleEditorAndDirectory()}),$("#ide").hasClass("server")&&($("#new_sketch_button").click(function(){$("#new_sketch_div").is(":visible")?$("#new_sketch_div").slideUp(function(){$("#new_sketch_input").val("")}):$("#new_sketch_div").slideDown()}),$("#new_sketch_input").keypress(function(e){13===e.keyCode&&""!==$(this).val()&&($(this).val().length>30?n.ideView().instance().messages().add("sketch title can't be more than 30 characters"):n.createNewSketch($(this).val()))}),$(".delete_sketch_button").click(function(){return n.deleteSketch($(this).parent("div").attr("id")),!1})),r.length>0?e.project(new t("sketches/"+r[0].url)):(n.ideView().toggleEditorAndDirectory(),n.setUpEmptyDirectory())})}),this.respondsTo("deleteSketch",function(e){var t=this;this.instance(),confirm("Are you sure you want to delete '"+e+"'?")&&$.post("sketches/"+e+"/delete",function(){$("#"+e).hasClass("active")&&($("#"+e).next("div.directory_listing").size()>0?$("#"+e).next("div.directory_listing").trigger("click"):$("#"+e).prev("div.directory_listing").size()>0?$("#"+e).prev("div.inactive").trigger("click"):t.setUpEmptyDirectory()),$("#"+e).fadeOut(function(){$("#"+e).remove()})})}),this.respondsTo("createNewSketch",function(e){var t=this,n=(this.instance(),Handlebars.compile($("#directory-entry-partial").html()));$.post("sketches/new",{title:e},function(e){var i={title:e.title,name:e.slug,url:e.slug+".json"};if("object"==typeof e){var r=$($.trim(n(i)));r.hide(),r.insertAfter("#new_sketch_div"),$("#empty_directory").size()>0&&($("#empty_directory").remove(),$("#IDE-editor_button").click(function(){t.ideView().toggleEditorAndDirectory()})),r.children(".delete_sketch_button").click(function(){return t.deleteSketch($(this).parent("div").attr("id")),!1}),r.children(".edit_sketch_button").click(function(){return t.ideView().toggleEditorAndDirectory(),!1}),r.click(function(){return t.setActiveMenuItem(this),!1}),$("#new_sketch_div").fadeOut(function(){$("#new_sketch_input").val(""),r.fadeIn(function(){r.trigger("click")})}),1===$(".directory_listing").size()&&$("#IDE-editor_button").click(function(){t.ideView().toggleEditorAndDirectory()})}else t.ideView().instance().messages().add(e)})}),this.respondsTo("setActiveMenuItem",function(e){var n=this.ideView().instance().project();void 0!==n&&$("#"+n.url().match(/\/(.*)\.json/)[1]).removeClass("active").addClass("inactive"),$(e).addClass("active").removeClass("inactive"),this.ideView().instance().project(new t($(e).find("a").attr("href")))}),this.respondsTo("setUpEmptyDirectory",function(){$("#IDE-editor_button").unbind("click"),$("#IDE-title").html("&nbsp;"),$("#new_sketch_input").is(":visible")||$("#new_sketch_button").trigger("click")})});e.views.DirectoryView=n}),window.jermaine.util.namespace("window.ide",function(e){var t=e.models.Button,n=e.views.DirectoryView,i=new window.jermaine.View(function(){var e,i=5e3;this.hasA("directoryView").which.validatesWith(function(e){return e instanceof n}),this.respondsTo("toggleEditorAndDirectory",function(){var e=this,t=$("#ide").is(":visible")?"lr":"rl",n=$("#ide").is(":visible")?$("#ide"):$("#IDE-directory"),i=$("#ide").is(":visible")?$("#IDE-directory"):$("#ide");$("#IDE-share").hide(),$("#IDE-attach").hide(),n.flip({speed:200,direction:t,color:"#fff",onBefore:function(){n.hide()},onEnd:function(){i.show(),$("#ide").is(":visible")&&(e.instance().editor().setValue(e.instance().editor().getValue()),e.instance().editor().gotoLine(0,0))}})}),this.respondsTo("addButtons",function(){var e=this;this.instance().buttons().add(new t("run","icon-play",function(){return e.instance().messages().add("running program"),!1})),$("#ide").hasClass("server")&&(this.instance().buttons().add(new t("save","icon-save",function(){e.instance().changedFlag()===!1?e.instance().messages().add("no changes need to be saved"):(e.instance().project().source(e.instance().editor().getSession().getValue()),e.instance().project().save(function(t){e.instance().messages().add(t),e.instance().changedFlag(!1)}))})),this.instance().buttons().add(new t("share","icon-globe",function(){var t=e.instance().project(),n=e.instance().editor().getSession().getValue(),i=Handlebars.compile($.trim($("#share-content-template").html())),r=Handlebars.compile($.trim($("#share-template").html())),s="http://"+window.location.host+"/"+t.user()+"/"+t.url().match(/sketches\/(.*).json/)[1]+"/embed/",o=n.match(/size\s*\(\s*(\d+)\s*,\s*(\d+)/);null!==o&&3===o.length?(width=o[1],height=o[2]):(width=200,height=200),$("#IDE-share").html(r({})),$("#IDE-share #share_link").val(i({url:s,width:width,height:height})),$("#IDE-share").slideToggle(),$("#close_share_dropdown").click(function(){$("#IDE-share_button").trigger("click")})})),this.instance().buttons().add(new t("attach","icon-paper-clip",function(){$("#IDE-attach").slideToggle()}))),this.instance().buttons().add(new t("directory","icon-home",function(){e.toggleEditorAndDirectory()}))}),this.respondsTo("setUpAttachButton",function(){var e=this,t=function(e){return e.match(/\.(jpg|jpeg|gif|png|svg)$/)?!0:!1};attachTemplate=Handlebars.compile($.trim($("#attach-template").html())),$("#IDE-attach").html(attachTemplate()),$("#close_attach_dropdown").click(function(){$("#IDE-attach_button").trigger("click")}),$("#attach_submit_button").click(function(){var n=$("input#file_input").val(),i=e.instance().project().url().match(/(.*).json/)[1]+"/attach/";return""===n?alert("please select a file"):t(n)?$.ajax({url:i,type:"post",dataType:"JSON",data:{file:n},success:function(t){$("#filename").val(t.filename),$("#policy").val(t.s3PolicyBase64),$("#accessKey").val(t.s3Key),$("#signature").val(t.s3Signature),e.instance().messages().add("file successfully attached"),$("#IDE-attach_button").trigger("click"),$("#attach_form").submit(),e.instance().project().resources().add({filename:n.replace(/ /g,"_").split("\\").slice(-1)[0]}),$("#file_input").val("")},error:function(e,t,n){console.log("S3 policy error: "+n+" ("+t+")")}}):alert("sorry, we only work with jpg, jpeg, gif, png and svg at this time"),!1})}),this.respondsTo("setUpProcessingRunner",function(){var e,t,n=this;$("#IDE-run_button").colorbox({title:this.instance().project().title(),inline:!0,scrolling:!1,href:"#canvas",onLoad:function(){var i,r,s=n.instance().editor().getSession().getValue(),o=document.getElementById("processing_canvas");o.getContext("2d").clearRect(0,0,o.width,o.height),t=null;try{var a=s.match(/\s+size\((\d+),(\d+)\)/);null!==a?(i=parseInt(a[1],10),r=parseInt(a[2],10)):(i=200,r=200),$("#processing_canvas").css("width",i),$("#processing_canvas").css("height",r),e=new Processing(o,s)}catch(l){t=l,Processing.logger.log(l),e&&e.exit()}},onComplete:function(){t?(console.log(t),$.colorbox.close()):$("#processing_canvas").focus()},onCleanup:function(){n.instance().editor().focus(),e&&e.exit()}})}),this.initializesWith(function(){this.addButtons(),this.setUpAttachButton()}),this.watches("messages",function(t){null!==e&&clearTimeout(e),$("#IDE-message").css("display","none"),$("#IDE-message").text(t),$("#IDE-message").fadeIn(),e=setTimeout(function(){$("#IDE-message").fadeOut()},i)}),this.watches("project",function(){$("#IDE-directory #"+this.instance().project().url().match(/\/(.*)\.json/)[1]).addClass("active").removeClass("inactive"),this.setUpProcessingRunner(),$("#resource_list").empty()}),this.watches("project.resources",function(e){var t=this,n=Handlebars.compile($.trim($("#resource-entry-partial").html())),i=$(n({filename:e.filename}));i.children(".delete_resource_button").click(function(){var n=$(this).parent(),i=t.instance().project().url().match(/(.*).json/)[1]+"/"+e.filename+"/remove/";confirm("Are you sure you want to delete "+e.filename+" from this sketch?")&&$.post(i,{},function(e){t.instance().messages().add(e),n.fadeOut(function(){n.remove()})})}),$("#resource_list").append(i)}),this.watches("project.title",function(e){$("#IDE-title").text(e)}),this.watches("project.source",function(e){this.instance().editor().getSession().setValue(e),this.instance().changedFlag(!1)}),this.watches("buttons",function(e){var t=$($.trim(e.view().render()));t.click(function(){e.handler()()}),$("#IDE-buttons").append(t)}),this.watches("directory",function(e){this.directoryView(new n(e,this))})});e.views.IDEView=i}),window.jermaine.util.namespace("window.ide",function(e){var t=e.models.Button,n=e.models.Project,i=e.views.IDEView,r=new window.jermaine.Model(function(){this.hasAn("editor").which.isImmutable(),this.hasA("directory").which.isA("string"),this.hasA("project").which.validatesWith(function(e){return e instanceof n}),this.hasA("changedFlag").which.isA("boolean").and.defaultsTo(!1),this.hasMany("messages").eachOfWhich.isA("string"),this.hasMany("buttons").which.validateWith(function(e){return e instanceof t}),this.hasA("view"),this.isBuiltWith("directory",function(){var e=this;this.editor(ace.edit("IDE-editor")),this.editor().setTheme("ace/theme/eclipse"),this.editor().getSession().setMode("ace/mode/java"),this.editor().setHighlightActiveLine(!1),this.editor().renderer.setShowPrintMargin(!1),this.editor().getSession().on("change",function(){e.changedFlag(!0)}),this.view(new i(this))})});e.models.IDE=r});var main=function(){var e=new window.ide.models.IDE;e.directory("sketches.json")};$(document).ready(main);